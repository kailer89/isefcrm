/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
function AA(a,b){var b=String(b).replace(/^(\d+)\.\d+/,"$1"),c=Number(b)+.5;return c-b>=0?c:Math.floor(b)}function pd(a){RGraph.pr(a)}function p(a){RGraph.pr(a)}function a(a){alert(a)}function cl(a){return console.log(a)}function dean_addEvent(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else{c.$$guid||(c.$$guid=dean_addEvent.guid++),a.events||(a.events={});var d=a.events[b];d||(d=a.events[b]={},a["on"+b]&&(d[0]=a["on"+b])),d[c.$$guid]=c,a["on"+b]=handleEvent}}function removeEvent(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.events&&a.events[b]&&delete a.events[b][c.$$guid]}function handleEvent(a){var b=!0;a=a||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var c=this.events[a.type];for(var d in c)this.$$handleEvent=c[d],this.$$handleEvent(a)===!1&&(b=!1);return b}function fixEvent(a){return a.preventDefault=fixEvent.preventDefault,a.stopPropagation=fixEvent.stopPropagation,a}(function(a,b){typeof module=="object"&&typeof module.exports=="object"?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)})(typeof window!="undefined"?window:this,function(a,b){function r(a){var b=a.length,c=m.type(a);return c==="function"||m.isWindow(a)?!1:a.nodeType===1&&b?!0:c==="array"||b===0||typeof b=="number"&&b>0&&b-1 in a}function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(typeof b=="string"){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}function D(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){if(y.addEventListener||event.type==="load"||y.readyState==="complete")I(),m.ready()}function O(a,b,c){if(c===undefined&&a.nodeType===1){var d="data-"+b.replace(N,"-$1").toLowerCase();c=a.getAttribute(d);if(typeof c=="string"){try{c=c==="true"?!0:c==="false"?!1:c==="null"?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=undefined}return c}function P(a){var b;for(b in a){if(b==="data"&&m.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function Q(a,b,d,e){if(!m.acceptData(a))return;var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if((!k||!j[k]||!e&&!j[k].data)&&d===undefined&&typeof b=="string")return;k||(i?k=a[h]=c.pop()||m.guid++:k=h),j[k]||(j[k]=i?{}:{toJSON:m.noop});if(typeof b=="object"||typeof b=="function")e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b);return g=j[k],e||(g.data||(g.data={}),g=g.data),d!==undefined&&(g[m.camelCase(b)]=d),typeof b=="string"?(f=g[b],f==null&&(f=g[m.camelCase(b)])):f=g,f}function R(a,b,c){if(!m.acceptData(a))return;var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(!g[h])return;if(b){d=c?g[h]:g[h].data;if(d){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b in d?b=[b]:b=b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}}if(!c){delete g[h].data;if(!P(g[h]))return}f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null}function ba(){return!0}function bb(){return!1}function bc(){try{return y.activeElement}catch(a){}}function bd(a){var b=be.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bu(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):undefined;if(!f)for(f=[],c=a.childNodes||a;(d=c[e])!=null;e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,bu(d,b));return b===undefined||b&&m.nodeName(a,b)?m.merge([a],f):f}function bv(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function bw(a,b){return m.nodeName(a,"table")&&m.nodeName(b.nodeType!==11?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bx(a){return a.type=(m.find.attr(a,"type")!==null)+"/"+a.type,a}function by(a){var b=bp.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function bz(a,b){var c,d=0;for(;(c=a[d])!=null;d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function bA(a,b){if(b.nodeType!==1||!m.hasData(a))return;var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}function bB(a,b){var c,d,e;if(b.nodeType!==1)return;c=b.nodeName.toLowerCase();if(!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}if(c==="script"&&b.text!==a.text)bx(b).text=a.text,by(b);else if(c==="object")b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML);else if(c==="input"&&W.test(a.type))b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value);else if(c==="option")b.defaultSelected=b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}function bE(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function bF(a){var b=y,c=bD[a];if(!c){c=bE(a,b);if(c==="none"||!c)bC=(bC||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(bC[0].contentWindow||bC[0].contentDocument).document,b.write(),b.close(),c=bE(a,b),bC.detach();bD[a]=c}return c}function bL(a,b){return{get:function(){var c=a();if(c==null)return;if(c){delete this.get;return}return(this.get=b).apply(this,arguments)}}}function bU(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bT.length;while(e--){b=bT[e]+c;if(b in a)return b}return d}function bV(a,b){var c,d,e,f=[],g=0,h=a.length;for(;g<h;g++){d=a[g];if(!d.style)continue;f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(!f[g]&&c==="none"&&(d.style.display=""),d.style.display===""&&U(d)&&(f[g]=m._data(d,"olddisplay",bF(d.nodeName)))):(e=U(d),(c&&c!=="none"||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display")))}for(g=0;g<h;g++){d=a[g];if(!d.style)continue;if(!b||d.style.display==="none"||d.style.display==="")d.style.display=b?f[g]||"":"none"}return a}function bW(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function bX(a,b,c,d,e){var f=c===(d?"border":"content")?4:b==="width"?1:0,g=0;for(;f<4;f+=2)c==="margin"&&(g+=m.css(a,c+T[f],!0,e)),d?(c==="content"&&(g-=m.css(a,"padding"+T[f],!0,e)),c!=="margin"&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),c!=="padding"&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function bY(a,b,c){var d=!0,e=b==="width"?a.offsetWidth:a.offsetHeight,f=bI(a),g=k.boxSizing&&m.css(a,"boxSizing",!1,f)==="border-box";if(e<=0||e==null){e=bJ(a,b,f);if(e<0||e==null)e=a.style[b];if(bH.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+bX(a,b,c||(g?"border":"content"),d,f)+"px"}function bZ(a,b,c,d,e){return new bZ.prototype.init(a,b,c,d,e)}function cf(){return setTimeout(function(){b$=undefined}),b$=m.now()}function cg(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ch(a,b,c){var d,e=(ce[b]||[]).concat(ce["*"]),f=0,g=e.length;for(;f<g;f++)if(d=e[f].call(c,b,a))return d}function ci(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),h.unqueued==null&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l=j==="none"?m._data(a,"olddisplay")||bF(a.nodeName):j,l==="inline"&&m.css(a,"float")==="none"&&(!k.inlineBlockNeedsLayout||bF(a.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){e=b[d];if(ca.exec(e)){delete b[d],f=f||e==="toggle";if(e===(q?"hide":"show"))if(e==="show"&&r&&r[d]!==undefined)q=!0;else continue;o[d]=r&&r[d]||m.style(a,d)}else j=undefined}if(!m.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=ch(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=d==="width"||d==="height"?1:0))}else(j==="none"?bF(a.nodeName):j)==="inline"&&(p.display=j)}function cj(a,b){var c,d,e,f,g;for(c in a){d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function ck(a,b,c){var d,e,f=0,g=cd.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;var b=b$||cf(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:b$||cf(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;e=!0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cj(k,j.opts.specialEasing);for(;f<g;f++){d=cd[f].call(j,a,k,j.opts);if(d)return d}return m.map(k,ch,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cL(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])d.charAt(0)==="+"?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function cM(a,b,c,d){function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);if(typeof j=="string"&&!f&&!e[j])return b.dataTypes.unshift(j),g(j),!1;if(f)return!(i=j)}),i}var e={},f=a===cI;return g(b.dataTypes[0])||!e["*"]&&g("*")}function cN(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)b[d]!==undefined&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function cO(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(i[0]==="*")i.shift(),e===undefined&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function cP(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f){a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift();if(f)if(f==="*")f=i;else if(i!=="*"&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g)for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}return{state:"success",data:b}}function cV(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||cR.test(a)?d(a,e):cV(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&m.type(b)==="object")for(e in b)cV(a+"["+e+"]",b[e],c,d);else d(a,b)}function cZ(){try{return new a.XMLHttpRequest}catch(b){}}function c$(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function dd(a){return m.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return a!=null?a<0?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;typeof g=="boolean"&&(j=g,g=arguments[h]||{},h++),typeof g!="object"&&!m.isFunction(g)&&(g={}),h===i&&(g=this,h--);for(;h<i;h++)if((e=arguments[h])!=null)for(d in e){a=g[d],c=e[d];if(g===c)continue;j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):c!==undefined&&(g[d]=c)}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return m.type(a)==="function"},isArray:Array.isArray||function(a){return m.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||m.type(a)!=="object"||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return b===undefined||j.call(a,b)},type:function(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c)if(g)for(;e<f;e++){d=b.apply(a[e],c);if(d===!1)break}else for(e in a){d=b.apply(a[e],c);if(d===!1)break}else if(g)for(;e<f;e++){d=b.call(a[e],e,a[e]);if(d===!1)break}else for(e in a){d=b.call(a[e],e,a[e]);if(d===!1)break}return a},trim:function(a){return a==null?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return a!=null&&(r(Object(a))?m.merge(c,typeof a=="string"?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(d<c)a[e++]=b[d++];if(c!==c)while(b[d]!==undefined)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length,h=!c;for(;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;f<g;f++)d=b(a[f],f,c),d!=null&&i.push(d);else for(f in a)d=b(a[f],f,c),d!=null&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return typeof b=="string"&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):undefined},now:function(){return+(new Date)},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var s=function(a){function bf(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;(b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[];if(!a||typeof a!="string")return d;if((k=b.nodeType)!==1&&k!==9)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(k===9){h=b.getElementById(j);if(!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){s=r=u,w=b,x=k===9&&a;if(k===1&&b.nodeName.toLowerCase()!=="object"){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+bq(o[l]);w=ba.test(a)&&bo(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function bg(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function bh(a){return a[u]=!0,a}function bi(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function bj(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function bk(a,b){var c=b&&a,d=c&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function bl(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function bm(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bn(a){return bh(function(b){return b=+b,bh(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bo(a){return a&&typeof a.getElementsByTagName!==C&&a}function bp(){}function bq(a){var b=0,c=a.length,d="";for(;b<c;b++)d+=a[b].value;return d}function br(a,b,c){var d=b.dir,e=c&&d==="parentNode",f=x++;return b.first?function(b,c,f){while(b=b[d])if(b.nodeType===1||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if(b.nodeType===1||e)if(a(b,c,g))return!0}else while(b=b[d])if(b.nodeType===1||e){i=b[u]||(b[u]={});if((h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];i[d]=j;if(j[2]=a(b,c,g))return!0}}}function bs(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bt(a,b,c){var d=0,e=b.length;for(;d<e;d++)bf(a,b[d],c);return c}function bu(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bv(a,b,c,d,e,f){return d&&!d[u]&&(d=bv(d)),e&&!e[u]&&(e=bv(e,f)),bh(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||bt(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?bu(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){j=bu(r,n),d(j,[],h,i),k=j.length;while(k--)if(l=j[k])r[n[k]]=!(q[n[k]]=l)}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=bu(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function bw(a){var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=br(function(a){return a===b},h,!0),l=br(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];for(;i<f;i++)if(c=d.relative[a[i].type])m=[br(bs(m),c)];else{c=d.filter[a[i].type].apply(null,a[i].matches);if(c[u]){e=++i;for(;e<f;e++)if(d.relative[a[e].type])break;return bv(i>1&&bs(m),i>1&&bq(a.slice(0,i-1).concat({value:a[i-2].type===" "?"*":""})).replace(R,"$1"),c,i<e&&bw(a.slice(i,e)),e<f&&bw(a=a.slice(e)),e<f&&bq(a))}m.push(c)}return bs(m)}function bx(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=t==null?1:Math.random()||.1,x=u.length;k&&(j=g!==n&&g);for(;q!==x&&(l=u[q])!=null;q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}p+=q;if(c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)!r[q]&&!s[q]&&(s[q]=G.call(i));s=bu(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&bf.uniqueSort(i)}return k&&(w=v,j=t),r};return c?bh(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+ -(new Date),v=a.document,w=0,x=0,y=bg(),z=bg(),A=bg(),B=function(a,b){return a===b&&(l=!0),0},C=typeof undefined,D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|"+".*"+")\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ba=/[+~]/,bb=/'|\\/g,bc=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),bd=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(be){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}c=bf.support={},f=bf.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},m=bf.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;if(e===n||e.nodeType!==9||!e.documentElement)return n;n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=bi(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=bi(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&bi(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",a.getElementsByClassName("i").length===2}),c.getById=bi(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(bc,bd);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(bc,bd);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==C)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(a==="*"){while(c=f[e++])c.nodeType===1&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==C&&p)return b.getElementsByClassName(a)},r=[],q=[];if(c.qsa=$.test(e.querySelectorAll))bi(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),bi(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")});return(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&bi(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&d.nodeType===1&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,d&1||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:d&4?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return bk(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?bk(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e},bf.matches=function(a,b){return bf(a,null,null,b)},bf.matchesSelector=function(a,b){(a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']");if(c.matchesSelector&&p&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&a.document.nodeType!==11)return d}catch(e){}return bf(b,n,null,[a]).length>0},bf.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},bf.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):undefined;return f!==undefined?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},bf.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},bf.uniqueSort=function(a){var b,d=[],e=0,f=0;l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B);if(l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=bf.getText=function(a){var b,c="",d=0,f=a.nodeType;if(!f)while(b=a[d++])c+=e(b);else if(f===1||f===9||f===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(f===3||f===4)return a.nodeValue;return c},d=bf.selectors={cacheLength:50,createPseudo:bh,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(bc,bd),a[3]=(a[3]||a[4]||a[5]||"").replace(bc,bd),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1].slice(0,3)==="nth"?(a[3]||bf.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd")),a[5]=+(a[7]+a[8]||a[3]==="odd")):a[3]&&bf.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(bc,bd).toLowerCase();return a==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=bf.attr(d,a);return e==null?b==="!=":b?(e+="",b==="="?e===c:b==="!="?e!==c:b==="^="?c&&e.indexOf(c)===0:b==="*="?c&&e.indexOf(c)>-1:b==="$="?c&&e.slice(-c.length)===c:b==="~="?(" "+e+" ").indexOf(c)>-1:b==="|="?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f=a.slice(0,3)!=="nth",g=a.slice(-4)!=="last",h=b==="of-type";return d===1&&e===0?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:l.nodeType===1)return!1;o=p=a==="only"&&!o&&"nextSibling"}return!0}o=[g?q.firstChild:q.lastChild];if(g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(l.nodeType===1&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:l.nodeType===1)&&++m){s&&((l[u]||(l[u]={}))[a]=[w,m]);if(l===b)break}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||bf.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?bh(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:bh(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?bh(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:bh(function(a){return function(b){return bf(a,b).length>0}}),contains:bh(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:bh(function(a){return W.test(a||"")||bf.error("unsupported lang: "+a),a=a.replace(bc,bd).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||c.indexOf(a+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},text:function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text")},first:bn(function(){return[0]}),last:bn(function(a,b){return[b-1]}),eq:bn(function(a,b,c){return[c<0?c+b:c]}),even:bn(function(a,b){var c=0;for(;c<b;c+=2)a.push(c);return a}),odd:bn(function(a,b){var c=1;for(;c<b;c+=2)a.push(c);return a}),lt:bn(function(a,b,c){var d=c<0?c+b:c;for(;--d>=0;)a.push(d);return a}),gt:bn(function(a,b,c){
var d=c<0?c+b:c;for(;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=bl(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=bm(b);return bp.prototype=d.filters=d.pseudos,d.setFilters=new bp,g=bf.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){if(!c||(e=S.exec(h)))e&&(h=h.slice(e[0].length)||h),i.push(f=[]);c=!1;if(e=T.exec(h))c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length);for(g in d.filter)(e=X[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?bf.error(a):z(a,i).slice(0)},h=bf.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=bw(b[c]),f[u]?d.push(f):e.push(f);f=A(a,bx(e,d)),f.selector=a}return f},i=bf.select=function(a,b,e,f){var i,j,k,l,m,n=typeof a=="function"&&a,o=!f&&g(a=n.selector||a);e=e||[];if(o.length===1){j=o[0]=o[0].slice(0);if(j.length>2&&(k=j[0]).type==="ID"&&c.getById&&b.nodeType===9&&p&&d.relative[j[1].type]){b=(d.find.ID(k.matches[0].replace(bc,bd),b)||[])[0];if(!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){k=j[i];if(d.relative[l=k.type])break;if(m=d.find[l])if(f=m(k.matches[0].replace(bc,bd),ba.test(j[0].type)&&bo(b.parentNode)||b)){j.splice(i,1),a=f.length&&bq(j);if(!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ba.test(a)&&bo(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=bi(function(a){return a.compareDocumentPosition(n.createElement("div"))&1}),bi(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild.getAttribute("href")==="#"})||bj("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,b.toLowerCase()==="type"?1:2)}),(!c.attributes||!bi(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),a.firstChild.getAttribute("value")===""}))&&bj("value",function(a,b,c){if(!c&&a.nodeName.toLowerCase()==="input")return a.defaultValue}),bi(function(a){return a.getAttribute("disabled")==null})||bj(L,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),bf}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),b.length===1&&d.nodeType===1?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return a.nodeType===1}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(typeof a!="string")return this.pushStack(m(a).filter(function(){for(b=0;b<e;b++)if(m.contains(d[b],this))return!0}));for(b=0;b<e;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,typeof a=="string"&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?c=[null,a,null]:c=z.exec(a);if(c&&(c[1]||!b)){if(c[1]){b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0));if(u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}d=y.getElementById(c[2]);if(d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?typeof x.ready!="undefined"?x.ready(a):a(m):(a.selector!==undefined&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&e.nodeType!==9&&(c===undefined||e.nodeType!==1||!m(e).is(c)))e.nodeType===1&&d.push(e),e=e[b];return d},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g=t.test(a)||typeof a!="string"?m(a,b||this.context):0;for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:c.nodeType===1&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?typeof a=="string"?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),m.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return a.slice(-5)!=="Until"&&(d=c),d&&typeof d=="string"&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};m.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;for(;h&&f<e;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;(function f(b){m.each(b,function(b,c){var d=m.type(c);d==="function"?(!a.unique||!k.has(c))&&h.push(c):c&&c.length&&d!=="string"&&f(c)})})(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(d<=e&&e--,d<=f&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!!h&&!!h.length},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=undefined,this},disabled:function(){return!h},lock:function(){return i=undefined,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return h&&(!d||i)&&(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return a!=null?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=e!==1||a&&m.isFunction(a.promise)?e:0,g=f===1?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){i=Array(e),j=Array(e),k=Array(e);for(;b<e;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?--m.readyWait:m.isReady)return;if(!y.body)return setTimeout(m.ready);m.isReady=!0;if(a!==!0&&--m.readyWait>0)return;H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready"))}}),m.ready.promise=function(b){if(!H){H=m.Deferred();if(y.readyState==="complete")setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=a.frameElement==null&&y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}return H.promise(b)};var K=typeof undefined,L;for(L in m(k))break;k.ownLast=L!=="0",k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=b.offsetWidth===3,a&&(c.style.zoom=1)),c.removeChild(d)}),function(){var a=y.createElement("div");if(k.deleteExpando==null){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return c!==1&&c!==9?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(a===undefined){if(this.length){e=m.data(f);if(f.nodeType===1&&!m._data(f,"parsedAttrs")){c=g.length;while(c--)g[c]&&(d=g[c].name,d.indexOf("data-")===0&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}}return e}return typeof a=="object"?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):undefined},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return typeof a!="string"&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):b===undefined?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),a==="fx"&&c[0]!=="inprogress"&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};typeof a!="string"&&(b=a,a=undefined),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,m.css(a,"display")==="none"||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=c==null;if(m.type(c)==="object"){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(d!==undefined){e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)}));if(b)for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;(function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=b.firstChild.nodeType===3,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone=y.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click());if(k.deleteExpando==null){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}})(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(!r)return;c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m!==K&&(!a||m.event.triggered!==a.type)?m.event.dispatch.apply(k.elem,arguments):undefined},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort();if(!o)continue;j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i);if(!(n=g[o])){n=g[o]=[],n.delegateCount=0;if(!j.setup||j.setup.call(a,d,p,k)===!1)a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k)}j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0}a=null},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(!r||!(k=r.events))return;b=(b||"").match(E)||[""],j=b.length;while(j--){h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort();if(!o){for(o in k)m.event.remove(a,o+b[j],c,d,!0);continue}l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],(e||q===g.origType)&&(!c||c.guid===g.guid)&&(!h||h.test(g.namespace))&&(!d||d===g.selector||d==="**"&&g.selector)&&(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&((!l.teardown||l.teardown.call(a,p,r.handle)===!1)&&m.removeEvent(a,o,r.handle),delete k[o])}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];h=l=d=d||y;if(d.nodeType===3||d.nodeType===8)return;if($.test(p+m.event.triggered))return;p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,typeof b=="object"&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=undefined,b.target||(b.target=d),c=c==null?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{};if(!e&&k.trigger&&k.trigger.apply(d,c)===!1)return;if(!e&&!k.noBubble&&!m.isWindow(d)){i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);for(;h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());b.type=p;if(!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=undefined,l&&(d[g]=l)}return b.result},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};i[0]=a,a.delegateTarget=this;if(k.preDispatch&&k.preDispatch.call(this,a)===!1)return;h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())if(!a.namespace_re||a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),c!==undefined&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation())}return k.postDispatch&&k.postDispatch.call(this,a),a.result},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||a.type!=="click"))for(;i!=this;i=i.parentNode||this)if(i.nodeType===1&&(i.disabled!==!0||a.type!=="click")){e=[];for(f=0;f<h;f++)d=b[f],c=d.selector+" ",e[c]===undefined&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return a.pageX==null&&b.clientX!=null&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),!a.which&&f!==undefined&&(a.which=f&1?1:f&2?3:f&4?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==bc()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===bc()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(m.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==undefined&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){if(this instanceof m.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===undefined&&a.returnValue===!1?ba:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),this[m.expando]=!0;else return new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ba;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ba;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ba,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!m.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){if(m.nodeName(this,"form"))return!1;m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:undefined;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(m.nodeName(this,"form"))return!1;m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){if(X.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")m.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)});return!1}m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(typeof a=="object"){typeof b!="string"&&(c=c||b,b=undefined);for(f in a)this.on(f,b,c,a[f],e);return this}c==null&&d==null?(d=b,c=b=undefined):d==null&&(typeof b=="string"?(d=c,c=undefined):(d=c,c=b,b=undefined));if(d===!1)d=bb;else if(!d)return this;return e===1&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof a=="object"){for(e in a)this.off(e,b,a[e]);return this}if(b===!1||typeof b=="function")c=b,b=undefined;return c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return m.event.trigger(a,b,c,!0)}});var be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bf=/ jQuery\d+="(?:null|\d+)"/g,bg=new RegExp("<(?:"+be+")[\\s/>]","i"),bh=/^\s+/,bi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bj=/<([\w:]+)/,bk=/<tbody/i,bl=/<|&#?\w+;/,bm=/<(?:script|style|link)/i,bn=/checked\s*(?:[^=]|=\s*.checked.)/i,bo=/^$|\/(?:java|ecma)script/i,bp=/^true\/(.*)/,bq=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,br={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},bs=bd(y),bt=bs.appendChild(y.createElement("div"));br.optgroup=br.option,br.tbody=br.tfoot=br.colgroup=br.caption=br.thead,br.th=br.td,m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);k.html5Clone||m.isXMLDoc(a)||!bg.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(bt.innerHTML=a.outerHTML,bt.removeChild(f=bt.firstChild));if((!k.noCloneEvent||!k.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!m.isXMLDoc(a)){d=bu(f),h=bu(a);for(g=0;(e=h[g])!=null;++g)d[g]&&bB(e,d[g])}if(b)if(c){h=h||bu(a),d=d||bu(f);for(g=0;(e=h[g])!=null;g++)bA(e,d[g])}else bA(a,f);return d=bu(f,"script"),d.length>0&&bz(d,!i&&bu(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){var e,f,g,h,i,j,l,n=a.length,o=bd(b),p=[],q=0;for(;q<n;q++){f=a[q];if(f||f===0)if(m.type(f)==="object")m.merge(p,f.nodeType?[f]:f);else if(!bl.test(f))p.push(b.createTextNode(f));else{h=h||o.appendChild(b.createElement("div")),i=(bj.exec(f)||["",""])[1].toLowerCase(),l=br[i]||br._default,h.innerHTML=l[1]+f.replace(bi,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;!k.leadingWhitespace&&bh.test(f)&&p.push(b.createTextNode(bh.exec(f)[0]));if(!k.tbody){f=i==="table"&&!bk.test(f)?h.firstChild:l[1]==="<table>"&&!bk.test(f)?h:0,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}}h&&o.removeChild(h),k.appendChecked||m.grep(bu(p,"input"),bv),q=0;while(f=p[q++]){if(d&&m.inArray(f,d)!==-1)continue;g=m.contains(f.ownerDocument,f),h=bu(o.appendChild(f),"script"),g&&bz(h);if(c){e=0;while(f=h[e++])bo.test(f.type||"")&&c.push(f)}}return h=null,o},cleanData:function(a,b){var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;for(;(d=a[h])!=null;h++)if(b||m.acceptData(d)){f=d[i],g=f&&j[f];if(g){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return a===undefined?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=bw(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=bw(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){var c,d=a?m.filter(a,this):this,e=0;for(;(c=d[e])!=null;e++)!b&&c.nodeType===1&&m.cleanData(bu(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&bz(bu(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&m.cleanData(bu(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===undefined)return b.nodeType===1?b.innerHTML.replace(bf,""):undefined;if(typeof a=="string"&&!bm.test(a)&&(k.htmlSerialize||!bg.test(a))&&(k.leadingWhitespace||!bh.test(a))&&!br[(bj.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bi,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},b.nodeType===1&&(m.cleanData(bu(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(bu(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&typeof p=="string"&&!k.checkClone&&bn.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l){i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,i.childNodes.length===1&&(i=c);if(c){g=m.map(bu(i,"script"),bx),f=g.length;for(;j<l;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,bu(d,"script"))),b.call(this[j],d,j);if(f){h=g[g.length-1].ownerDocument,m.map(g,by);for(j=0;j<f;j++)d=g[j],bo.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(bq,"")))}i=c=null}}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){var c,d=0,e=[],g=m(a),h=g.length-1;for(;d<=h;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var bC,bD={};(function(){var a;k.shrinkWrapBlocks=function(){if(a!=null)return a;a=!1;var b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;return b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=b.offsetWidth!==3),c.removeChild(d),a}})();var bG=/^margin/,bH=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),bI,bJ,bK=/^(top|right|bottom|left)$/;a.getComputedStyle?(bI=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},bJ=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bI(a),g=c?c.getPropertyValue(b)||c[b]:undefined,c&&(g===""&&!m.contains(a.ownerDocument,a)&&(g=m.style(a,b)),bH.test(g)&&bG.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),g===undefined?g:g+""}):y.documentElement.currentStyle&&(bI=function(a){return a.currentStyle},bJ=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bI(a),g=c?c[b]:undefined,g==null&&h&&h[b]&&(g=h[b]),bH.test(g)&&!bK.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(
e.left=a.currentStyle.left),h.left=b==="fontSize"?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),g===undefined?g:g+""||"auto"}),function(){function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e=(a.getComputedStyle(b,null)||{}).top!=="1%",f=(a.getComputedStyle(b,null)||{width:"4px"}).width==="4px",i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=i[0].offsetHeight===0,g&&(i[0].style.display="",i[1].style.display="none",g=i[0].offsetHeight===0),c.removeChild(d)}var b,c,d,e,f,g,h;b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style;if(!c)return;c.cssText="float:left;opacity:.5",k.opacity=c.opacity==="0.5",k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=b.style.backgroundClip==="content-box",k.boxSizing=c.boxSizing===""||c.MozBoxSizing===""||c.WebkitBoxSizing==="",m.extend(k,{reliableHiddenOffsets:function(){return g==null&&i(),g},boxSizingReliable:function(){return f==null&&i(),f},pixelPosition:function(){return e==null&&i(),e},reliableMarginRight:function(){return h==null&&i(),h}})}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var bM=/alpha\([^)]*\)/i,bN=/opacity\s*=\s*([^)]*)/,bO=/^(none|table(?!-c[ea]).+)/,bP=new RegExp("^("+S+")(.*)$","i"),bQ=new RegExp("^([+-])=("+S+")","i"),bR={position:"absolute",visibility:"hidden",display:"block"},bS={letterSpacing:"0",fontWeight:"400"},bT=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bJ(a,"opacity");return c===""?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var e,f,g,h=m.camelCase(b),i=a.style;b=m.cssProps[h]||(m.cssProps[h]=bU(i,h)),g=m.cssHooks[b]||m.cssHooks[h];if(c===undefined)return g&&"get"in g&&(e=g.get(a,!1,d))!==undefined?e:i[b];f=typeof c,f==="string"&&(e=bQ.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number");if(c==null||c!==c)return;f==="number"&&!m.cssNumber[h]&&(c+="px"),!k.clearCloneStyle&&c===""&&b.indexOf("background")===0&&(i[b]="inherit");if(!g||!("set"in g)||(c=g.set(a,c,d))!==undefined)try{i[b]=c}catch(j){}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=bU(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),f===undefined&&(f=bJ(a,b,d)),f==="normal"&&b in bS&&(f=bS[b]),c===""||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){if(c)return bO.test(m.css(a,"display"))&&a.offsetWidth===0?m.swap(a,bR,function(){return bY(a,b,d)}):bY(a,b,d)},set:function(a,c,d){var e=d&&bI(a);return bW(a,c,d?bX(a,b,d,k.boxSizing&&m.css(a,"boxSizing",!1,e)==="border-box",e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return bN.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if((b>=1||b==="")&&m.trim(f.replace(bM,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(b===""||d&&!d.filter)return}c.filter=bM.test(f)?f.replace(bM,e):f+" "+e}}),m.cssHooks.marginRight=bL(k.reliableMarginRight,function(a,b){if(b)return m.swap(a,{display:"inline-block"},bJ,[a,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){var d=0,e={},f=typeof c=="string"?c.split(" "):[c];for(;d<4;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},bG.test(a)||(m.cssHooks[a+b].set=bW)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){d=bI(a),e=b.length;for(;g<e;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return c!==undefined?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return bV(this,!0)},hide:function(){return bV(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}}),m.Tween=bZ,bZ.prototype={constructor:bZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=bZ.propHooks[this.prop];return a&&a.get?a.get(this):bZ.propHooks._default.get(this)},run:function(a){var b,c=bZ.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):bZ.propHooks._default.set(this),this}},bZ.prototype.init.prototype=bZ.prototype,bZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=m.css(a.elem,a.prop,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(a.elem.style[m.cssProps[a.prop]]!=null||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},bZ.propHooks.scrollTop=bZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=bZ.prototype.init,m.fx.step={};var b$,b_,ca=/^(?:toggle|show|hide)$/,cb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,cd=[ci],ce={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||f!=="px"&&+d)&&cb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g=g/h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&h!==1&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};m.Animation=m.extend(ck,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],ce[c]=ce[c]||[],ce[c].unshift(b)},prefilter:function(a,b){b?cd.unshift(a):cd.push(a)}}),m.speed=function(a,b,c){var d=a&&typeof a=="object"?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};d.duration=m.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=ck(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return typeof a!="string"&&(c=b,b=a,a=undefined),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=a!=null&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem===this&&(a==null||f[e].queue===a)&&(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return a==null||typeof a=="boolean"?c.apply(this,arguments):this.animate(cg(b,!0),a,d,e)}}),m.each({slideDown:cg("show"),slideUp:cg("hide"),slideToggle:cg("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;b$=m.now();for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||m.fx.stop(),b$=undefined},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){b_||(b_=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(b_),b_=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute=b.className!=="t",k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized=d.getAttribute("href")==="/a",k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=a.getAttribute("value")==="",a.value="t",a.setAttribute("type","radio"),k.radioValue=a.value==="t"}();var cl=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(!arguments.length){if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&(c=b.get(e,"value"))!==undefined?c:(c=e.value,typeof c=="string"?c.replace(cl,""):c==null?"":c);return}return d=m.isFunction(a),this.each(function(c){var e;if(this.nodeType!==1)return;d?e=a.call(this,c,m(this).val()):e=a,e==null?e="":typeof e=="number"?e+="":m.isArray(e)&&(e=m.map(e,function(a){return a==null?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,e,"value")===undefined)this.value=e})}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return b!=null?b:m.trim(m.text(a))}},select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f=a.type==="select-one"||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;for(;i<h;i++){c=d[i];if((c.selected||i===e)&&(k.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!m.nodeName(c.parentNode,"optgroup"))){b=m(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){d=e[g];if(m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){if(m.isArray(b))return a.checked=m.inArray(m(a).val(),b)>=0}},k.checkOn||(m.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var cm,cn,co=m.expr.attrHandle,cp=/^(?:checked|selected)$/i,cq=k.getSetAttribute,cr=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(!a||f===3||f===8||f===2)return;if(typeof a.getAttribute===K)return m.prop(a,b,c);if(f!==1||!m.isXMLDoc(a))b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?cn:cm);if(c===undefined)return d&&"get"in d&&(e=d.get(a,b))!==null?e:(e=m.find.attr(a,b),e==null?undefined:e);if(c===null)m.removeAttr(a,b);else return d&&"set"in d&&(e=d.set(a,c,b))!==undefined?e:(a.setAttribute(b,c+""),c)},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&a.nodeType===1)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?cr&&cq||!cp.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(cq?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&b==="radio"&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),cn={set:function(a,b,c){return b===!1?m.removeAttr(a,c):cr&&cq||!cp.test(c)?a.setAttribute(!cq&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=co[b]||m.find.attr;co[b]=cr&&cq||!cp.test(b)?function(a,b,d){var e,f;return d||(f=co[b],co[b]=e,e=c(a,b,d)!=null?b.toLowerCase():null,co[b]=f),e}:function(a,b,c){if(!c)return a[m.camelCase("default-"+b)]?b.toLowerCase():null}});if(!cr||!cq)m.attrHooks.value={set:function(a,b,c){if(m.nodeName(a,"input"))a.defaultValue=b;else return cm&&cm.set(a,b,c)}};cq||(cm={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="";if(c==="value"||b===a.getAttribute(c))return b}},co.id=co.name=co.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.value!==""?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:cm.set},m.attrHooks.contenteditable={set:function(a,b,c){cm.set(a,b===""?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||undefined},set:function(a,b){return a.style.cssText=b+""}});var cs=/^(?:input|select|textarea|button|object)$/i,ct=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=undefined,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(!a||g===3||g===8||g===2)return;return f=g!==1||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),c!==undefined?e&&"set"in e&&(d=e.set(a,c,b))!==undefined?d:a[b]=c:e&&"get"in e&&(d=e.get(a,b))!==null?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):cs.test(a.nodeName)||ct.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var cu=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=typeof a=="string"&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(cu," "):" ");if(d){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=arguments.length===0||typeof a=="string"&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(cu," "):"");if(d){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return typeof b=="boolean"&&c==="string"?b?this.addClass(a):this.removeClass(a):m.isFunction(a)?this.each(function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else if(c===K||c==="boolean")this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(cu," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});var cv=m.now(),cw=/\?/,cx=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(cx,function(a,b,e,f){return c&&b&&(d=0),d===0?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||typeof b!="string")return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=undefined}return(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&m.error("Invalid XML: "+b),c};var cy,cz,cA=/#.*$/,cB=/([?&])_=[^&]*/,cC=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cD=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,cE=/^(?:GET|HEAD)$/,cF=/^\/\//,cG=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,cH={},cI={},cJ="*/".concat("*");try{cz=location.href}catch(cK){cz=y.createElement("a"),cz.href="",cz=cz.href}cy=cG.exec(cz.toLowerCase())||[],m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cz,type:"GET",isLocal:cD.test(cy[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cJ,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?cN(cN(a,m.ajaxSettings),b):cN(m.ajaxSettings,a)},ajaxPrefilter:cL(cH),ajaxTransport:cL(cI),ajax:function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;if(t===2)return;t=2,g&&clearTimeout(g),i=undefined,f=d||"",v.readyState=a>0?4:0,j=a>=200&&a<300||a===304,c&&(u=cO(k,v,c)),u=cP(k,u,v,j);if(j)k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),a===204||k.type==="HEAD"?x="nocontent":a===304?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s);else{s=x;if(a||!x)x="error",a<0&&(a=0)}v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=undefined,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop"))}typeof a=="object"&&(b=a,a=undefined),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(t===2){if(!j){j={};while(b=cC.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return b==null?null:b},getAllResponseHeaders:function(){return t===2?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||cz)+"").replace(cA,"").replace(cF,cy[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],k.crossDomain==null&&(c=cG.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===cy[1]&&c[2]===cy[2]&&(c[3]||(c[1]==="http:"?"80":"443"))===(cy[3]||(cy[1]==="http:"?"80":"443")))),k.data&&k.processData&&typeof k.data!="string"&&(k.data=m.param(k.data,k.traditional)),cM(cH,k,b,v);if(t===2)return v;h=k.global,h&&m.active++===0&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!cE.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(cw.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=cB.test(e)?e.replace(cB,"$1_="+cv++):e+(cw.test(e)?"&":"?")+"_="+cv++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+cJ+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(!k.beforeSend||k.beforeSend.call(l,v,k)!==!1&&t!==2){u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);i=cM(cI,k,b,v);if(!i)x(-1,"No Transport");else{v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(t<2)x(-1,w);else throw w}}return v}return v.abort()},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,undefined,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=undefined),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return m.isFunction(a)?this.each(function(b){m(this).wrapInner(a.call(this,b))}):this.each(function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&(a.style&&a.style.display||m.css(a,"display"))==="none"},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var cQ=/%20/g,cR=/\[\]$/,cS=/\r?\n/g,cT=/^(?:submit|button|image|reset|file)$/i,cU=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():b==null?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===undefined&&(b=m.ajaxSettings&&m.ajaxSettings.traditional);if(m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)cV(c,a[c],b,e);return d.join("&").replace(cQ,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&cU.test(this.nodeName)&&!cT.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return c==null?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(cS,"\r\n")}}):{name:b.name,value:c.replace(cS,"\r\n")}}).get()}}),m.ajaxSettings.xhr=a.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&cZ()||c$()}:cZ;var cW=0,cX={},cY=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in cX)cX[a](undefined,!0)}),k.cors=!!cY&&"withCredentials"in cY,cY=k.ajax=!!cY,cY&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++cW;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(e in c)c[e]!==undefined&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||f.readyState===4)){delete cX[g],b=undefined,f.onreadystatechange=m.noop;if(e)f.readyState!==4&&f.abort();else{j={},h=f.status,typeof f.responseText=="string"&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}!h&&a.isLocal&&!a.crossDomain?h=j.text?200:404:h===1223&&(h=204)}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?f.readyState===4?setTimeout(b):f.onreadystatechange=cX[g]=b:b()},abort:function(){b&&b(undefined,!0)}}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){a.cache===undefined&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success")},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(undefined,!0)}}}});var c_=[],da=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=c_.pop()||m.expando+"_"+cv++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(da.test(b.url)?"url":typeof b.data=="string"&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&da.test(b.data)&&"data");if(h||b.dataTypes[0]==="jsonp")return e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(da,"$1"+e):b.jsonp!==!1&&(b.url+=(cw.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,c_.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=undefined}),"script"}),m.parseHTML=function(a,b,c){if(!a||typeof a!="string")return null;typeof b=="boolean"&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var db=m.fn.load;m.fn.load=function(a,b,c){if(typeof a!="string"&&db)return db.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=undefined):b&&typeof b=="object"&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};k==="static"&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=(k==="absolute"||k==="fixed")&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),b.top!=null&&(n.top=b.top-h.top+g),b.left!=null&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return a===undefined?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(!f)return;return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(!this[0])return;var a,b,c={top:0,left:0},d=this[0];return m.css(d,"position")==="fixed"?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dc;while(a&&!m.nodeName(a,"html")&&m.css(a,"position")==="static")a=a.offsetParent;return a||dc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);if(e===undefined)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=bL(k.pixelPosition,function(a,c){if(c)return c=bJ(a,b),bH.test(c)?m(a).position()[b]+"px":c})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||typeof d!="boolean"),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:b.nodeType===9?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):d===undefined?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:undefined,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return m});var de=a.jQuery,df=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=df),b&&a.jQuery===m&&(a.jQuery=de),m},typeof b===K&&(a.jQuery=a.$=m),m}),function(a,b){a.rails!==b&&a.error("jquery-ujs has already been loaded!");var c,d=a(document);a.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector
:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(b){var c=a('meta[name="csrf-token"]').attr("content");c&&b.setRequestHeader("X-CSRF-Token",c)},refreshCSRFTokens:function(){var b=a("meta[name=csrf-token]").attr("content"),c=a("meta[name=csrf-param]").attr("content");a('form input[name="'+c+'"]').val(b)},fire:function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},confirm:function(a){return confirm(a)},ajax:function(b){return a.ajax(b)},href:function(a){return a[0].href},handleRemote:function(d){var e,f,g,h,i,j;if(c.fire(d,"ajax:before")){h=d.data("with-credentials")||null,i=d.data("type")||a.ajaxSettings&&a.ajaxSettings.dataType;if(d.is("form")){e=d.attr("method"),f=d.attr("action"),g=d.serializeArray();var k=d.data("ujs:submit-button");k&&(g.push(k),d.data("ujs:submit-button",null))}else d.is(c.inputChangeSelector)?(e=d.data("method"),f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):d.is(c.buttonClickSelector)?(e=d.data("method")||"get",f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):(e=d.data("method"),f=c.href(d),g=d.data("params")||null);return j={type:e||"GET",data:g,dataType:i,beforeSend:function(a,e){e.dataType===b&&a.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script);if(c.fire(d,"ajax:beforeSend",[a,e]))d.trigger("ajax:send",a);else return!1},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])},crossDomain:c.isCrossDomain(f)},h&&(j.xhrFields={withCredentials:h}),f&&(j.url=f),c.ajax(j)}return!1},isCrossDomain:function(a){var b=document.createElement("a");b.href=location.href;var c=document.createElement("a");try{return c.href=a,c.href=c.href,(!!c.protocol&&c.protocol!==":"||!!c.host)&&b.protocol+"//"+b.host!=c.protocol+"//"+c.host}catch(d){return!0}},handleMethod:function(d){var e=c.href(d),f=d.data("method"),g=d.attr("target"),h=a("meta[name=csrf-token]").attr("content"),i=a("meta[name=csrf-param]").attr("content"),j=a('<form method="post" action="'+e+'"></form>'),k='<input name="_method" value="'+f+'" type="hidden" />';i!==b&&h!==b&&!c.isCrossDomain(e)&&(k+='<input name="'+i+'" value="'+h+'" type="hidden" />'),g&&j.attr("target",g),j.hide().append(k).appendTo("body"),j.submit()},formElements:function(b,c){return b.is("form")?a(b[0].elements).filter(c):b.find(c)},disableFormElements:function(b){c.formElements(b,c.disableSelector).each(function(){c.disableFormElement(a(this))})},disableFormElement:function(a){var c,d;c=a.is("button")?"html":"val",d=a.data("disable-with"),a.data("ujs:enable-with",a[c]()),d!==b&&a[c](d),a.prop("disabled",!0)},enableFormElements:function(b){c.formElements(b,c.enableSelector).each(function(){c.enableFormElement(a(this))})},enableFormElement:function(a){var b=a.is("button")?"html":"val";a.data("ujs:enable-with")&&a[b](a.data("ujs:enable-with")),a.prop("disabled",!1)},allowAction:function(a){var b=a.data("confirm"),d=!1,e;return b?(c.fire(a,"confirm")&&(d=c.confirm(b),e=c.fire(a,"confirm:complete",[d])),d&&e):!0},blankInputs:function(b,c,d){var e=a(),f,g,h=c||"input,textarea",i=b.find(h);return i.each(function(){f=a(this),g=f.is("input[type=checkbox],input[type=radio]")?f.is(":checked"):f.val();if(!g==!d){if(f.is("input[type=radio]")&&i.filter('input[type=radio]:checked[name="'+f.attr("name")+'"]').length)return!0;e=e.add(f)}}),e.length?e:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(b){return a(b.target).trigger("ujs:everythingStopped"),b.stopImmediatePropagation(),!1},disableElement:function(a){var d=a.data("disable-with");a.data("ujs:enable-with",a.html()),d!==b&&a.html(d),a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==b&&(a.html(a.data("ujs:enable-with")),a.removeData("ujs:enable-with")),a.unbind("click.railsDisable")}},c.fire(d,"rails:attachBindings")&&(a.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),d.delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(a(this))}),d.delegate(c.buttonDisableSelector,"ajax:complete",function(){c.enableFormElement(a(this))}),d.delegate(c.linkClickSelector,"click.rails",function(d){var e=a(this),f=e.data("method"),g=e.data("params"),h=d.metaKey||d.ctrlKey;if(!c.allowAction(e))return c.stopEverything(d);!h&&e.is(c.linkDisableSelector)&&c.disableElement(e);if(e.data("remote")!==b){if(h&&(!f||f==="GET")&&!g)return!0;var i=c.handleRemote(e);return i===!1?c.enableElement(e):i.error(function(){c.enableElement(e)}),!1}if(e.data("method"))return c.handleMethod(e),!1}),d.delegate(c.buttonClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);d.is(c.buttonDisableSelector)&&c.disableFormElement(d);var e=c.handleRemote(d);return e===!1?c.enableFormElement(d):e.error(function(){c.enableFormElement(d)}),!1}),d.delegate(c.inputChangeSelector,"change.rails",function(b){var d=a(this);return c.allowAction(d)?(c.handleRemote(d),!1):c.stopEverything(b)}),d.delegate(c.formSubmitSelector,"submit.rails",function(d){var e=a(this),f=e.data("remote")!==b,g,h;if(!c.allowAction(e))return c.stopEverything(d);if(e.attr("novalidate")==b){g=c.blankInputs(e,c.requiredInputSelector);if(g&&c.fire(e,"ajax:aborted:required",[g]))return c.stopEverything(d)}if(f){h=c.nonBlankInputs(e,c.fileInputSelector);if(h){setTimeout(function(){c.disableFormElements(e)},13);var i=c.fire(e,"ajax:aborted:file",[h]);return i||setTimeout(function(){c.enableFormElements(e)},13),i}return c.handleRemote(e),!1}setTimeout(function(){c.disableFormElements(e)},13)}),d.delegate(c.formInputClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);var e=d.attr("name"),f=e?{name:e,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)}),d.delegate(c.formSubmitSelector,"ajax:send.rails",function(b){this==b.target&&c.disableFormElements(a(this))}),d.delegate(c.formSubmitSelector,"ajax:complete.rails",function(b){this==b.target&&c.enableFormElements(a(this))}),a(function(){c.refreshCSRFTokens()}))}(jQuery),!function(a){a(function(){"use strict",a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a=a+"Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(a){return a||(this.paused=!0),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide");this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c);e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):typeof c=="string"||(c=f.slide)?e[c]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();a(e).collapse(f)})})}(window.jQuery),!function(a){function d(){a(b).parent().removeClass("open")}"use strict";var b='[data-toggle="dropdown"]',c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),e,f,g;if(c.is(".disabled, :disabled"))return;return f=c.attr("data-target"),f||(f=c.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),e=a(f),e.length||(e=c.parent()),g=e.hasClass("open"),d(),g||e.toggleClass("open"),!1}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api",d),a("body").on("click.dropdown",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle)})}(window.jQuery),!function(a){function c(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),d.call(b)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),d.call(b)})}function d(a){this.$element.hide().trigger("hidden"),e.call(this)}function e(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(f,this)):f.call(this)):b&&b()}function f(){this.$backdrop.remove(),this.$backdrop=null}function g(){var b=this;this.isShown&&this.options.keyboard?a(document).on("keyup.dismiss.modal",function(a){a.which==27&&b.hide()}):this.isShown||a(document).off("keyup.dismiss.modal")}"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,g.call(this),e.call(this,function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in"),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var e=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),g.call(this),this.$element.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?c.call(this):d.call(this)}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({},e.data(),c.data());b.preventDefault(),e.modal(f)})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},isHTML:function(a){return typeof a!="string"||a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(a)},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.isHTML(b)?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.isHTML(b)?"html":"text"](b),a.find(".popover-content > *")[this.isHTML(c)?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}"use strict",b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&c.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu")&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c=this,d,e;return this.query=this.$element.val(),this.query?(d=a.grep(this.source,function(a){return c.matcher(a)}),d=this.sorter(d),d.length?this.render(d.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),a.browser.webkit&&this.$element.on("keydown",a.proxy(this.keypress,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},keypress:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(a.type!="keydown")break;a.preventDefault(),this.prev();break;case 40:if(a.type!="keydown")break;a.preventDefault(),this.next()}a.stopPropagation()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery),function(a,b){function e(b,c){var d,e,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,e=d.name,!b.href||!e||d.nodeName.toLowerCase()!=="map"?!1:(g=a("img[usemap=#"+e+"]")[0],!!g&&f(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&e(b,!d)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=b.length?!0:!1,a.ui.ie6=parseFloat(b[1],10)===6}(),a.fn.extend({disableSelection:function(){return this.bind((a.support
.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(!e||!a.element[0].parentNode||a.element[0].parentNode.nodeType===11)return;for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,f;return this._super=a,this._superApply=d,f=e.apply(this,arguments),this._super=b,this._superApply=c,f}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){var e=d.call(arguments,1),f=0,g=e.length,h,i;for(;f<g;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(a.isPlainObject(i)?c[h]=a.isPlainObject(c[h])?a.widget.extend({},c[h],i):a.widget.extend({},i):c[h]=i);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h=typeof g=="string",i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);if(!e)return a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method '"+g+"'");if(!a.isFunction(e[g])||g.charAt(0)==="_")return a.error("no such method '"+g+"' for "+c+" widget instance");d=e[g].apply(e,i);if(d!==e&&d!==b)return j=d&&d.jquery?j.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e=c,f,g,h;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof c=="string"){e={},f=c.split("."),c=f.shift();if(f.length){g=e[c]=a.widget.extend({},this.options[c]);for(h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];c=f.pop();if(d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;typeof b!="boolean"&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(!b&&(f.options.disabled===!0||a(this).hasClass("ui-state-disabled")))return;return(typeof g=="string"?f[g]:g).apply(f,arguments)}typeof g!="string"&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){typeof e=="string"&&(e={effect:e});var g,h=e?e===!0||typeof e=="number"?c:e.effect||c:b;e=e||{},typeof e=="number"&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&(a.effects.effect[h]||a.uiBackCompat!==!1&&a.effects[h])?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(a,b){var c=0,d={},e={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",e.height=e.paddingTop=e.paddingBottom=e.borderTopWidth=e.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c),d=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!d.collapsible&&(d.active===!1||d.active==null)&&(d.active=0),d.active<0&&(d.active+=this.headers.length),this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(c){var d=a(this),e=d.attr("id"),f=d.next(),g=f.attr("id");e||(e=b+"-header-"+c,d.attr("id",e)),g||(g=b+"-panel-"+c,f.attr("id",g)),d.attr("aria-controls",g),f.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(d.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,b){if(a==="active"){this._activate(b);return}a==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),a==="collapsible"&&!b&&this.options.active===!1&&this._activate(0),a==="icons"&&(this._destroyIcons(),b&&this._createIcons()),a==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)},_keydown:function(b){if(b.altKey||b.ctrlKey)return;var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b,c,d=this.options.heightStyle,e=this.element.parent();d==="fill"?(a.support.minHeight||(c=e.css("overflow"),e.css("overflow","hidden")),b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");if(d==="absolute"||d==="fixed")return;b-=c.outerHeight(!0)}),c&&e.css("overflow",c),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):d==="auto"&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){var c=this._findActive(b)[0];if(c===this.active[0])return;c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return typeof b=="number"?this.headers.eq(b):a()},_setupEvents:function(b){var c={};if(!b)return;a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._on(this.headers,c)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault();if(f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1)return;c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active"))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-expanded":"false","aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr("tabIndex",-1):c.length&&this.headers.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1),c.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,c){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(c)};typeof m=="number"&&(h=m),typeof m=="string"&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration;if(!b.length)return a.animate(e,h,g,n);if(!a.length)return b.animate(d,h,g,n);f=a.show().outerHeight(),b.animate(d,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),a.hide().animate(e,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),c.prop!=="height"?j+=c.now:i.options.heightStyle!=="content"&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.uiBackCompat!==!1&&(function(a,b){a.extend(b.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var c=b._create;b._create=function(){if(this.options.navigation){var b=this,d=this.element.find(this.options.header),e=d.next(),f=d.add(e).find("a").filter(this.options.navigationFilter)[0];f&&d.add(e).each(function(c){if(a.contains(this,f))return b.options.active=Math.floor(c/2),!1})}c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var c=b._create,d=b._setOption;a.extend(b,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),c.call(this)},_setOption:function(a){if(a==="autoHeight"||a==="clearStyle"||a==="fillSpace")this.options.heightStyle=this._mergeHeightStyle();d.apply(this,arguments)},_mergeHeightStyle:function(){var a=this.options;if(a.fillSpace)return"fill";if(a.clearStyle)return"content";if(a.autoHeight)return"auto"}})}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var c=b._createIcons;b._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){b.activate=b._activate;var c=b._findActive;b._findActive=function(a){return a===-1&&(a=!1),a&&typeof a!="number"&&(a=this.headers.index(this.headers.filter(a)),a===-1&&(a=!1)),c.call(this,a)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(a,b){a.extend(b.options,{change:null,changestart:null});var c=b._trigger;b._trigger=function(a,b,d){var e=c.apply(this,arguments);return e?(a==="beforeActivate"?e=c.call(this,"changestart",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel}):a==="activate"&&(e=c.call(this,"change",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel})),e):!1}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{animate:null,animated:"slide"});var c=b._create;b._create=function(){var a=this.options;a.animate===null&&(a.animated?a.animated==="slide"?a.animate=300:a.animated==="bounceslide"?a.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:a.animate=a.animated:a.animate=!1),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(a,b){function m(a,b,c){return[parseInt(a[0],10)*(k.test(a[0])?b/100:1),parseInt(a[1],10)*(k.test(a[1])?c/100:1)]}function n(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+%?/,j=/^\w+/,k=/%$/,l=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e=c==="scroll"||c==="auto"&&b.width<b.element[0].scrollWidth,f=d==="scroll"||d==="auto"&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,o,p,q,r=a(b.of),s=a.position.getWithinInfo(b.within),t=a.position.getScrollInfo(s),u=r[0],v=(b.collision||"flip").split(" "),w={};return u.nodeType===9?(k=r.width(),o=r.height(),p={top:0,left:0}):a.isWindow(u)?(k=r.width(),o=r.height(),p={top:r.scrollTop(),left:r.scrollLeft()}):u.preventDefault?(b.at="left top",k=o=0,p={top:u.pageY,left:u.pageX}):(k=r.outerWidth(),o=r.outerHeight(),p=r.offset()),q=a.extend({},p),a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;a.length===1&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),w[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),v.length===1&&(v[1]=v[0]),b.at[0]==="right"?q.left+=k:b.at[0]==="center"&&(q.left+=k/2),b.at[1]==="bottom"?q.top+=o:b.at[1]==="center"&&(q.top+=o/2),c=m(w.at,k,o),q.left+=c[0],q.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),u=n(this,"marginLeft"),x=n(this,"marginTop"),y=j+u+n(this,"marginRight")+t.width,z=l+x+n(this,"marginBottom")+t.height,A=a.extend({},q),B=m(w.my,i.outerWidth(),i.outerHeight());b.my[0]==="right"?A.left-=j:b.my[0]==="center"&&(A.left-=j/2),b.my[1]==="bottom"?A.top-=l:b.my[1]==="center"&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:u,marginTop:x},a.each(["left","top"],function(d,e){a.ui.position[v[d]]&&a.ui.position[v[d]][e](A,{targetWidth:k,targetHeight:o,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:s,elem:i})}),a.fn.bgiframe&&i.bgiframe(),b.using&&(h=function(a){var c=p.left-A.left,f=c+k-j,g=p.top-A.top,h=g+o-l,m={target:{element:r,left:p.left,top:p.top,width:k,height:o},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:f<0?"left":c>0?"right":"center",vertical:h<0?"top":g>0?"bottom":"middle"};k<j&&e(c+f)<k&&(m.horizontal="center"),o<l&&e(g+h)<o&&(m.vertical="middle"),d(e(c),e(f))>d(e(g),e(h))?m.important="horizontal":m.important="vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e,j;b.collisionWidth>f?h>0&&i<=0?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):i>0&&h<=0?a.left=e:h>i?a.left=e+f-b.collisionWidth:a.left=e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e,j;b.collisionHeight>f?h>0&&i<=0?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):i>0&&h<=0?a.top=e:h>i?a.top=e+f-b.collisionHeight:a.top=e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,l=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,m=-2*b.offset[0],n,o;if(i<0){n=a.left+k+l+m+b.collisionWidth-f-d;if(n<0||n<e(i))a.left+=k+l+m}else if(j>0){o=a.left-b.collisionPosition.marginLeft+k+l+m-g;if(o>0||e(o)<j)a.left+=k+l+m}},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k=b.my[1]==="top",l=k?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,m=b.at[1]==="top"?b.targetHeight:b.at[1]==="bottom"?-b.targetHeight:0,n=-2*b.offset[1],o,p;i<0?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(p<0||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&e<11,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),function(a,b){var c=!1;a.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var d=a(b.target).closest(".ui-menu-item");!c&&d.not(".ui-state-disabled").length&&(c=!0,this.select(b),d.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),c=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function i(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,d,e,f,g,h=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:h=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,g=new RegExp("^"+i(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),g=new RegExp("^"+i(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),c.length?(this.focus(b,c),c.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c,d;this.blur(a,a&&a.type==="focus"),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&a.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),e<0?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active})},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close(),this._open(a)},this.delay)},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(a==="first"||a==="last"?d=this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):d=this.active[a+"All"](".ui-menu-item").eq(0));if(!d||!d.length||!this.active)d=this.activeMenu.children(".ui-menu-item")[b]();this.focus(c,d)},nextPage:function(b){var c,d,e;if(!this.active){this.next(b);return}if(this.isLastItem())return;this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(b){var c,d,e;if(!this.active){this.next(b);return}if(this.isFirstItem())return;this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active
.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly")){b=!0,d=!0,c=!0;return}b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b){b=!1,d.preventDefault();return}if(c)return;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}},input:function(a){if(d){d=!1,a.preventDefault();return}this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(a),this._change(a)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target!==b.element[0]&&d.target!==c&&!a.contains(c,d.target)&&b.close()})})},menufocus:function(b,c){if(this.isNewMenu){this.isNewMenu=!1;if(b.originalEvent&&/^mouse/.test(b.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}}var d=c.item.data("ui-autocomplete-item")||c.item.data("item.autocomplete");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item")||b.item.data("item.autocomplete"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),a.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this.document.find(b||"body")[0]),a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):typeof this.options.source=="string"?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=a!=null?a:this._value(),this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)){this._value(this.term),this.menu.blur();return}this.menu[a](b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b)}})}(jQuery),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l=i?"":"ui-state-active",m="ui-state-focus";h.label===null&&(h.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(h.disabled)return;this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(h.disabled)return;a(this).removeClass(l)}).bind("click"+this.eventNamespace,function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){b.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change"+this.eventNamespace,function(){if(f)return;b.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){if(h.disabled)return;f=!1,d=a.pageX,e=a.pageY}).bind("mouseup"+this.eventNamespace,function(a){if(h.disabled)return;if(d!==a.pageX||e!==a.pageY)f=!0})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,b.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(h.disabled)return!1;(b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);if(a==="disabled"){b?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){a==="disabled"&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(b,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e});var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[g]||$.effects[g])?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){this.maxRows=4;var b=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var c=a.dpDiv.find("iframe.ui-datepicker-cover");!c.length||c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d=this._getNumberOfMonths(a),e=d[1],f=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",f*e+"em"),a.dpDiv[(d[0]!=1||d[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var g=a.yearshtml;setTimeout(function(){g===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),g=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&($.effects.effect[c]||$.effects[c])?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this
._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length){var u=b.substr(r);if(!/^\s+/.test(u))throw"Extra/unparsed characters found in date: "+u}i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var v=this._getDaysInMonth(i,j-1);if(k<=v)break;j++,k-=v}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' data-handler="selectDay" data-event="click" data-month="'+Y.getMonth()+'" data-year="'+Y.getFullYear()+'"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.ui.ie6&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which===1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.ui.ie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);var d=this.element[0],e=!1;while(d&&(d=d.parentNode))d==document&&(e=!0);if(!e&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper
:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){var g=!1,h=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(g=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!=h&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(h.instance.element[0],this.instance.element[0])&&(g=!1),g})),g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(c.disabled)return;a(this).removeClass("ui-resizable-autohide"),b._handles.show()}).mouseleave(function(){if(c.disabled)return;b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(a){var b=this.helper,c=this.options,d={},e=this,f=this.originalMousePosition,g=this.axis,h=a.pageX-f.left||0,i=a.pageY-f.top||0,j=this._change[g];if(!j)return!1;var k=j.apply(this,[a,h,i]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)k=this._updateRatio(k,a);return k=this._respectSize(k,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(k),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length)return;var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.ui.ie6?1:0,e=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i)return;e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/d.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*d.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b=this,d=this.options,e=d.title||"&#160;",f,g,h,i,j;f=(this.uiDialog=a("<div>")).addClass(c+d.dialogClass).css({display:"none",outline:0,zIndex:d.zIndex}).attr("tabIndex",-1).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).mousedown(function(a){b.moveToTop(!1,a)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f),g=(this.uiDialogTitlebar=a("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){f.focus()}).prependTo(f),h=a("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(a){a.preventDefault(),b.close(a)}).appendTo(g),(this.uiDialogTitlebarCloseText=a("<span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(h),i=a("<span>").uniqueId().addClass("ui-dialog-title").html(e).prependTo(g),j=(this.uiDialogButtonPane=a("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=a("<div>")).addClass("ui-dialog-buttonset").appendTo(j),f.attr({role:"dialog","aria-labelledby":i.attr("id")}),g.find("*").add(g).disableSelection(),this._hoverable(h),this._focusable(h),d.draggable&&a.fn.draggable&&this._makeDraggable(),d.resizable&&a.fn.resizable&&this._makeResizable(),this._createButtons(d.buttons),this._isOpen=!1,a.fn.bgiframe&&f.bgiframe(),this._on(f,{keydown:function(b){if(!d.modal||b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",f),e=c.filter(":first"),g=c.filter(":last");if(b.target===g[0]&&!b.shiftKey)return e.focus(1),!1;if(b.target===e[0]&&b.shiftKey)return g.focus(1),!1}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!this._isOpen)return;if(!1===this._trigger("beforeClose",b))return;return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}):(this.uiDialog.hide(),this._trigger("close",b)),a.ui.dialog.overlay.resize(),this.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),this},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this.options,e;return d.modal&&!b||!d.stack&&!d.modal?this._trigger("focus",c):(d.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=d.zIndex),this.overlay&&(a.ui.dialog.maxZ+=1,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},a.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",a.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",c),this)},open:function(){if(this._isOpen)return;var b,c=this.options,d=this.uiDialog;return this._size(),this._position(c.position),d.show(c.show),this.overlay=c.modal?new a.ui.dialog.overlay(this):null,this.moveToTop(!0),b=this.element.find(":tabbable"),b.length||(b=this.uiDialogButtonPane.find(":tabbable"),b.length||(b=d)),b.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(b){var c=this,d=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d?(a.each(b,function(b,d){var e,f;d=a.isFunction(d)?{click:d,text:b}:d,d=a.extend({type:"button"},d),f=d.click,d.click=function(){f.apply(c.element[0],arguments)},e=a("<button></button>",d).appendTo(c.uiButtonSet),a.fn.button&&e.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function d(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,e){a(this).addClass("ui-dialog-dragging"),b._trigger("dragStart",c,d(e))},drag:function(a,c){b._trigger("drag",a,d(c))},stop:function(e,f){c.position=[f.position.left-b.document.scrollLeft(),f.position.top-b.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),b._trigger("dragStop",e,d(f)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=this.options,f=this.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c[0]+(d[0]<0?d[0]:"+"+d[0])+" "+c[1]+(d[1]<0?d[1]:"+"+d[1]),at:c.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(b),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e,f,g=this
.uiDialog;switch(b){case"buttons":this._createButtons(d);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":g.removeClass(this.options.dialogClass).addClass(c+d);break;case"disabled":d?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");break;case"draggable":e=g.is(":data(draggable)"),e&&!d&&g.draggable("destroy"),!e&&d&&this._makeDraggable();break;case"position":this._position(d);break;case"resizable":f=g.is(":data(resizable)"),f&&!d&&g.resizable("destroy"),f&&typeof d=="string"&&g.resizable("option","handles",d),!f&&d!==!1&&this._makeResizable(d);break;case"title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(d||"&#160;"))}this._super(b,d)},_size:function(){var b,c,d,e=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),b=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),c=Math.max(0,e.minHeight-b),e.height==="auto"?a.support.minHeight?this.element.css({minHeight:c,height:"auto"}):(this.uiDialog.show(),d=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(d,c))):this.element.height(Math.max(e.height-b,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=this.oldInstances.pop()||a("<div>").addClass("ui-widget-overlay");return a(document).bind("keydown.dialog-overlay",function(d){var e=a.ui.dialog.overlay.instances;e.length!==0&&e[e.length-1]===c&&b.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}),c.appendTo(document.body).css({width:this.width(),height:this.height()}),a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances),d=0;c!==-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.height(0).width(0).remove(),a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){a.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();g:for(var h=0;h<d.length;h++){if(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element))continue;for(var i=0;i<f.length;i++)if(f[i]==d[h].element[0]){d[h].proportions.height=0;continue g}d[h].visible=d[h].element.css("display")!="none";if(!d[h].visible)continue;e=="mousedown"&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.options.scope,h=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===g});h.length&&(f=a.data(h[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),jQuery.effects||function(a,b){var c=a.uiBackCompat!==!1,d="ui-effects-";a.effects={effect:{}},function(b,c){function n(a,b,c){var d=i[b.type]||{};return a==null?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function o(a){var c=g(),d=c._rgba=[];return a=a.toLowerCase(),m(f,function(b,e){var f,g=e.re.exec(a),i=g&&e.parse(g),j=e.space||"rgba";if(i)return f=c[j](i),c[h[j].cache]=f[h[j].cache],d=c._rgba=f._rgba,!1}),d.length?(d.join()==="0,0,0,0"&&b.extend(d,l.transparent),c):l[a]}function p(a,b,c){return c=(c+1)%1,c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}var d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),e=/^([\-+])=\s*(\d+\.?\d*)/,f=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],g=b.Color=function(a,c,d,e){return new b.Color.fn.parse(a,c,d,e)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},i={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},j=g.support={},k=b("<p>")[0],l,m=b.each;k.style.cssText="background-color:rgba(1,1,1,.5)",j.rgba=k.style.backgroundColor.indexOf("rgba")>-1,m(h,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),g.fn=b.extend(g.prototype,{parse:function(d,e,f,i){if(d===c)return this._rgba=[null,null,null,null],this;if(d.jquery||d.nodeType)d=b(d).css(e),e=c;var j=this,k=b.type(d),p=this._rgba=[];e!==c&&(d=[d,e,f,i],k="array");if(k==="string")return this.parse(o(d)||l._default);if(k==="array")return m(h.rgba.props,function(a,b){p[b.idx]=n(d[b.idx],b)}),this;if(k==="object")return d instanceof g?m(h,function(a,b){d[b.cache]&&(j[b.cache]=d[b.cache].slice())}):m(h,function(b,c){var e=c.cache;m(c.props,function(a,b){if(!j[e]&&c.to){if(a==="alpha"||d[a]==null)return;j[e]=c.to(j._rgba)}j[e][b.idx]=n(d[a],b,!0)}),j[e]&&a.inArray(null,j[e].slice(0,3))<0&&(j[e][3]=1,c.from&&(j._rgba=c.from(j[e])))}),this},is:function(a){var b=g(a),c=!0,d=this;return m(h,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],m(e.props,function(a,b){if(g[b.idx]!=null)return c=g[b.idx]===f[b.idx],c})),c}),c},_space:function(){var a=[],b=this;return m(h,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=g(a),d=c._space(),e=h[d],f=this.alpha()===0?g("transparent"):this,j=f[e.cache]||e.to(f._rgba),k=j.slice();return c=c[e.cache],m(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],h=i[d.type]||{};if(g===null)return;f===null?k[e]=g:(h.mod&&(g-f>h.mod/2?f+=h.mod:f-g>h.mod/2&&(f-=h.mod)),k[e]=n((g-f)*b+f,d))}),this[d](k)},blend:function(a){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),e=g(a)._rgba;return g(b.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var a="rgba(",c=b.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});return c[3]===1&&(c.pop(),a="rgb("),a+c.join()+")"},toHslaString:function(){var a="hsla(",c=b.map(this.hsla(),function(a,b){return a==null&&(a=b>2?1:0),b&&b<3&&(a=Math.round(a*100)+"%"),a});return c[3]===1&&(c.pop(),a="hsl("),a+c.join()+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();return a&&c.push(~~(d*255)),"#"+b.map(c,function(a){return a=(a||0).toString(16),a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),g.fn.parse.prototype=g.fn,h.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;return g===f?k=0:b===f?k=60*(c-d)/h+360:c===f?k=60*(d-b)/h+120:k=60*(b-c)/h+240,j===0||j===1?l=j:j<=.5?l=h/i:l=h/(2-i),[Math.round(k)%360,l,j,e==null?1:e]},h.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f;return[Math.round(p(g,f,b+1/3)*255),Math.round(p(g,f,b)*255),Math.round(p(g,f,b-1/3)*255),e]},m(h,function(a,d){var f=d.props,h=d.cache,i=d.to,j=d.from;g.fn[a]=function(a){i&&!this[h]&&(this[h]=i(this._rgba));if(a===c)return this[h].slice();var d,e=b.type(a),k=e==="array"||e==="object"?a:arguments,l=this[h].slice();return m(f,function(a,b){var c=k[e==="object"?a:b.idx];c==null&&(c=l[b.idx]),l[b.idx]=n(c,b)}),j?(d=g(j(l)),d[h]=l,d):g(l)},m(f,function(c,d){if(g.fn[c])return;g.fn[c]=function(f){var g=b.type(f),h=c==="alpha"?this._hsla?"hsla":"rgba":a,i=this[h](),j=i[d.idx],k;return g==="undefined"?j:(g==="function"&&(f=f.call(this,j),g=b.type(f)),f==null&&d.empty?this:(g==="string"&&(k=e.exec(f),k&&(f=j+parseFloat(k[2])*(k[1]==="+"?1:-1))),i[d.idx]=f,this[h](i)))}})}),m(d,function(a,c){b.cssHooks[c]={set:function(a,d){var e,f,h="";if(b.type(d)!=="string"||(e=o(d))){d=g(e||d);if(!j.rgba&&d._rgba[3]!==1){f=c==="backgroundColor"?a.parentNode:a;while((h===""||h==="transparent")&&f&&f.style)try{h=b.css(f,"backgroundColor"),f=f.parentNode}catch(i){}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{a.style[c]=d}catch(k){}}},b.fx.step[c]=function(a){a.colorInit||(a.start=g(a.elem,c),a.end=g(a.end),a.colorInit=!0),b.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}}),b.cssHooks.borderColor={expand:function(a){var b={};return m(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},l=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){var b=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,c={},d,e;if(b&&b.length&&b[0]&&b[b[0]]){e=b.length;while(e--)d=b[e],typeof b[d]=="string"&&(c[a.camelCase(d)]=b[d])}else for(d in b)typeof b[d]=="string"&&(c[d]=b[d]);return c}function f(b,c){var e={},f,g;for(f in c)g=c[f],b[f]!==g&&!d[f]&&(a.fx.step[f]||!isNaN(parseFloat(g)))&&(e[f]=g);return e}var c=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){if(a.end!=="none"&&!a.setAttr||a.pos===1&&!a.setAttr)jQuery.style(a.elem,c,a.end),a.setAttr=!0}}),a.effects.animateClass=function(b,d,g,h){var i=a.speed(d,g,h);return this.queue(function(){var d=a(this),g=d.attr("class")||"",h,j=i.children?d.find("*").andSelf():d;j=j.map(function(){var b=a(this);return{el:b,start:e.call(this)}}),h=function(){a.each(c,function(a,c){b[c]&&d[c+"Class"](b[c])})},h(),j=j.map(function(){return this.end=e.call(this.el[0]),this.diff=f(this.start,this.end),this}),d.attr("class",g),j=j.map(function(){var b=this,c=a.Deferred(),d=jQuery.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){h(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(d[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{add:b},c,d,e):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{remove:b},c,d,e):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):this._toggleClass(c,d):a.effects.animateClass.call(this,{toggle:c},d,e,f)},switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function e(b,c,d,e){a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},c==null&&(c={}),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function f(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects.effect[b]?c&&a.effects[b]?!1:!0:!1}a.extend(a.effects,{version:"1.9.2",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data(d+b[c],a[0].style[b[c]])},restore:function(a,c){var e,f;for(f=0;f<c.length;f++)c[f]!==null&&(e=a.data(d+c[f]),e===b&&(e=""),a.css(c[f],e))},setMode:function(a,b){return b==="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),b.css("position")==="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function i(c){function h(){a.isFunction(e)&&e.call(d[0]),a.isFunction(c)&&c()}var d=a(this),e=b.complete,f=b.mode;(d.is(":hidden")?f==="hide":f==="show")?h():g.call(d[0],b,h)}var b=e.apply(this,arguments),d=b.mode,f=b.queue,g=a.effects.effect[b.effect],h=!g&&c&&a.effects[b.effect];return a.fx.off||!g&&!h?d?this[d](b.duration,b.complete):this.each(function(){b.complete&&b.complete.call(this)}):g?f===!1?this.each(i):this.queue(f||"fx",i):h.call(this,{options:b,duration:b.duration,callback:b.complete,mode:b.mode})},_show:a.fn.show,show:function(a){if(f(a))return this._show.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:a.fn.hide,hide:function(a){if(f(a))return this._hide.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(f(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return a===0||a===1?a:-Math.pow(2,8*(a-1))*Math.sin(((a-1)*80-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){var b,c=4;while(a<((b=Math.pow(2,--c))-1)/11);return 1/Math.pow(4,3-c)-7.5625*Math.pow((b*3-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<.5?c(a*2)/2:1-c(a*-2+2)/2}})}()}(jQuery),function(a,b){var c=/up|down|vertical/,d=/up|left|vertical|horizontal/;a.effects.effect.blind=function(b,e){var f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i=b.direction||"up",j=c.test(i),k=j?"height":"width",l=j?"top":"left",m=d.test(i),n={},o=h==="show",p,q,r;f.parent().is(".ui-effects-wrapper")?a.effects.save(f.parent(),g):a.effects.save(f,g),f.show(),p=a.effects.createWrapper(f).css({overflow:"hidden"}),q=p[k](),r=parseFloat(p.css(l))||0,n[k]=o?q:0,m||(f.css(j?"bottom":"right",0).css(j?"top":"left","auto").css({position:"absolute"}),n[l]=o?r:q+r),o&&(p.css(k,0),m||p.css(l,r+q)),p.animate(n,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){h==="hide"&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),e()}})}}(jQuery),function(a,b){a.effects.effect.bounce=function(b,c){var d=a(this),e=["position","top","bottom","left","right","height","width"],f=a.effects.setMode(d,b.mode||"effect"),g=f==="hide",h=f==="show",i=b.direction||"up",j=b.distance,k=b.times||5,l=k*2+(h||g?1:0),m=b.duration/l,n=b.easing,o=i==="up"||i==="down"?"top":"left",p=i==="up"||i==="left",q,r,s,t=d.queue(),u=t.length;(h||g)&&e.push("opacity"),a.effects.save(d,e),d.show(),a.effects.createWrapper(d),j||(j=d[o==="top"?"outerHeight":"outerWidth"]()/3),h&&(s={opacity:1},s[o]=0,d.css("opacity",0).css(o,p?-j*2:j*2).animate(s,m,n)),g&&(j=j/Math.pow(2,k-1)),s={},s[o]=0;for(q=0;q<k;q++)r={},r[o]=(p?"-=":"+=")+j,d.animate(r,m,n).animate(s,m,n),j=g?j*2:j/2;g&&(r={opacity:0},r[o]=(p?"-=":"+=")+j,d.animate(r,m,n)),d.queue(function(){g&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,l+1))),d.dequeue()}}(jQuery),function(a,b){a.effects.effect.clip=function(b,c){var d=a(this),e=["position","top","bottom","left","right","height","width"],f=a.effects.setMode(d,b.mode||"hide"),g=f==="show",h=b.direction||"vertical",i=h==="vertical",j=i?"height":"width",k=i?"top":"left",l={},m,n,o;a.effects.save(d,e),d.show(),m=a.effects.createWrapper(d).css({overflow:"hidden"}),n=d[0].tagName==="IMG"?m:d,o=n[j](),g&&(n.css(j,0),n.css(k,o/2)),l[j]=g?o:0,l[k]=g?0:o/2,n.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){g||d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()}})}}(jQuery),function(a,b){a.effects.effect.drop=function(b,c){var d=a(this),e=["position","top","bottom","left","right","opacity","height","width"],f=a.effects.setMode(d,b.mode||"hide"),g=f==="show",h=b.direction||"left",i=h==="up"||h==="down"?"top":"left",j=h==="up"||h==="left"?"pos":"neg",k={opacity:g?1:0},l;a.effects.save(d,e),d.show(),a.effects.createWrapper(d),l=b.distance||d[i==="top"?"outerHeight":"outerWidth"](!0)/2,g&&d.css("opacity",0).css(i,j==="pos"?-l:l),k[i]=(g?j==="pos"?"+=":"-=":j==="pos"?"-=":"+=")+l,d.animate(k,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){f==="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()}})}}(jQuery),function(a,b){a.effects.effect.explode=function(b,c){function s(){l.push(this),l.length===d*e&&t()}function t(){f.css({visibility:"visible"}),a(l).remove(),h||f.hide(),c()}var d=b.pieces?Math.round(Math.sqrt(b.pieces)):3,e=d,f=a(this),g=a.effects.setMode(f,b.mode||"hide"),h=g==="show",i=f.show().css("visibility","hidden").offset(),j=Math.ceil(f.outerWidth()/e),k=Math.ceil(f.outerHeight()/d),l=[],m,n,o,p,q,r;for(m=0;m<d;m++){p=i.top+m*k,r=m-(d-1)/2;for(n=0;n<e;n++)o=i.left+n*j,q=n-(e-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*j,top:-m*k}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:j,height:k,left:o+(h?q*j:0),top:p+(h?r*k:0),opacity:h?0:1}).animate({left:o+(h?0:q*j),top:p+(h?0:r*k),opacity:h?1:0},b.duration||500,b.easing,s)}}}(jQuery),function(a,b){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a,b){a.effects.effect.fold=function(b,c){var d=a(this),e=["position","top","bottom","left","right","height","width"],f=a.effects.setMode(d,b.mode||"hide"),g=f==="show",h=f==="hide",i=b.size||15,j=/([0-9]+)%/.exec(i),k=!!b.horizFirst,l=g!==k,m=l?["width","height"]:["height","width"],n=b.duration/2,o,p,q={},r={};a.effects.save(d,e),d.show(),o=a.effects.createWrapper(d).css({overflow:"hidden"}),p=l?[o.width(),o.height()]:[o.height(),o.width()],j&&(i=parseInt(j[1],10)/100*p[h?0:1]),g&&o.css(k?{height:0,width:i}:{height:i,width:0}),q[m[0]]=g?p[0]:i,r[m[1]]=g?p[1]:0,o.animate(q,n,b.easing).animate(r,n,b.easing,function(){h&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()})}}(jQuery),function(a,b){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};f==="hide"&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){f==="hide"&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a,b){a.effects.effect.pulsate=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"show"),f=e==="show",g=e==="hide",h=f||e==="hide",i=(b.times||5)*2+(h?1:0),j=b.duration/i,k=0,l=d.queue(),m=l.length,n;if(f||!d.is(":visible"))d.css("opacity",0).show(),k=1;for(n=1;n<i;n++)d.animate({opacity:k},j,b.easing),k=1-k;d.animate({opacity:k},j,b.easing),d.queue(function(){g&&d.hide(),c()}),m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,i+1))),d.dequeue()}}(jQuery),function(a,b){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f=e==="hide",g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(parseInt(b.percent,10)===0?0:f==="hide"?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:h!=="horizontal"?g/100:1,x:h!=="vertical"?g/100:1};e.effect="size",e.queue=!1,e.complete=c,f!=="effect"&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||(f==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&(f==="show"&&(e.from.opacity=0,e.to.opacity=1),f==="hide"&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||n!=="effect",p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};n==="show"&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},b.mode==="toggle"&&n==="show"?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||(n==="show"?t:d),g.to=b.to||(n==="hide"?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}};if(p==="box"||p==="both")f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to));(p==="content"||p==="both")&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from);if(p==="content"||p==="both")l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})});g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){g.to.opacity===0&&g.css("opacity",g.from.opacity),n==="hide"&&g.hide(),a.effects.restore(g,s),o||(r==="static"?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return c==="auto"?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a,b){a.effects.effect.shake=function(b,c){var d=a(this),e=["position","top","bottom","left","right","height","width"],f=a.effects.setMode(d,b.mode||"effect"),g=b.direction||"left",h=b.distance||20,i=b.times||3,j=i*2+1,k=Math.round(b.duration/j),l=g==="up"||g==="down"?"top":"left",m=g==="up"||g==="left",n={},o={},p={},q,r=d.queue(),s=r.length;a.effects.save(d,e),d.show(),a.effects.createWrapper(d),n[l]=(m?"-=":"+=")+h,o[l]=(m?"+=":"-=")+h*2,p[l]=(m?"-=":"+=")+h*2,d.animate(n,k,b.easing);for(q=1;q<i;q++)d.animate(o,k,b.easing).animate(p,k,b.easing);d.animate(o,k,b.easing).animate(n,k/2,b.easing).queue(function(){f==="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()}),s>1&&r.splice.apply
(r,[1,0].concat(r.splice(s,j+1))),d.dequeue()}}(jQuery),function(a,b){a.effects.effect.slide=function(b,c){var d=a(this),e=["position","top","bottom","left","right","width","height"],f=a.effects.setMode(d,b.mode||"show"),g=f==="show",h=b.direction||"left",i=h==="up"||h==="down"?"top":"left",j=h==="up"||h==="left",k,l={};a.effects.save(d,e),d.show(),k=b.distance||d[i==="top"?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(d).css({overflow:"hidden"}),g&&d.css(i,j?isNaN(k)?"-"+k:-k:k),l[i]=(g?j?"+=":"-=":j?"-=":"+=")+k,d.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){f==="hide"&&d.hide(),a.effects.restore(d,e),a.effects.removeWrapper(d),c()}})}}(jQuery),function(a,b){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f=e.css("position")==="fixed",g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(a,b){a==="value"&&(this.options.value=b,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(a,b)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}})}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(this.options.disabled)return;var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})},_mouseDrag:function(b){var c=this;this.dragged=!0;if(this.options.disabled)return;var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==c.element[0])return;var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}),!1},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b,d,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),e.range&&(e.range===!0&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&e.values.length!==2&&(e.values=[e.values[0],e.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))),d=e.values&&e.values.length||1;for(b=f.length;b<d;b++)h.push(g);this.handles=f.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){e.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)}),this._on(this.handles,{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:b.preventDefault();if(!this._keySliding){this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h);if(d===!1)return}}g=this.options.step,this.options.values&&this.options.values.length?e=f=this.values(h):e=f=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));e>c&&(e=c,f=a(this),g=b)}),l.range===!0&&this.values(1)===l.min&&(g+=1,f=a(this.handles[g])),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k[i.orientation==="horizontal"?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&(i.orientation==="horizontal"?(d===0&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),d===1&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(d===0&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),d===1&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k[this.orientation==="horizontal"?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),g==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),g==="max"&&this.orientation==="horizontal"&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),g==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),g==="max"&&this.orientation==="vertical"&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))}})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==d)return e=a(this),!1});a.data(b.target,d.widgetName+"-item")==d&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(f.instance!==this.currentContainer)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=this.options.axis==="x"||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=this.options.axis==="y"||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--){var g=a(e[f]);for(var h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]==a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--){var g=a(e[f]);for(var h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}}for(var f=d.length-1;f>=0;f--){var j=d[f][1],k=d[f][0];for(var h=0,l=k.length;h<l;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){b=b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var c=a(document.createElement(b.currentItem[0].nodeName)).addClass(d||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(c.style.visibility="hidden"),c},update:function(a,e){if(d&&!c.forcePlaceholderSize)return;e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else{var f=1e4,g=null,h=this.containers[d].floating?"left":"top",i=this.containers[d].floating?"width":"height",j=this.positionAbs[h]+this.offset.click[h];for(var k=this.items.length-1;k>=0;k--){if(!a.contains(this.containers[d].element[0],this.items[k].item[0]))continue;if(this.items[k].item[0]==this.currentItem[0])continue;var l=this.items[k].item.offset()[h],m=!1;Math.abs(l-j)>Math.abs(l+this.items[k][i]-j)&&(m=!0,l+=this.items[k][i]),Math.abs(l-j)<f&&(f=Math.abs(l-j),g=this.items[k],this.direction=m?"up":"down")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this
.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(c||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);e!==undefined&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a)},mousewheel:function(a,b){if(!b)return;if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()},"mousedown .ui-spinner-button":function(b){function d(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),d.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,d.call(this)});if(this._start(b)===!1)return;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(!a(b.currentTarget).hasClass("ui-state-active"))return;if(this._start(b)===!1)return!1;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(a.height()*.5)&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(a){return!this.spinning&&this._trigger("start",a)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter));if(!this.spinning||this._trigger("spin",b,{value:c})!==!1)this._value(c),this.counter++},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return this.options.min!==null&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=d.min!==null?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),d.max!==null&&a>d.max?d.max:d.min!==null&&a<d.min?d.min:a},_stop:function(a){if(!this.spinning)return;clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a)},_setOption:function(a,b){if(a==="culture"||a==="numberFormat"){var c=this._parse(this.element.val());this.options[a]=b,this.element.val(this._format(c));return}(a==="max"||a==="min"||a==="step")&&typeof b=="string"&&(b=this._parse(b)),this._super(a,b),a==="disabled"&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return typeof a=="string"&&a!==""&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),a===""||isNaN(a)?null:a},_format:function(a){return a===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;a!==""&&(c=this._parse(a),c!==null&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._spin((a||1)*this.options.step)},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._spin((a||1)*-this.options.step)},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());b(this._value).call(this,a)},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function e(){return++c}function f(a){return a.hash.length>1&&a.href.replace(d,"")===location.href.replace(d,"").replace(/\s/g,"%20")}var c=0,d=/#.*$/;a.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options,d=c.active,e=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(d===null){e&&this.tabs.each(function(b,c){if(a(c).attr("aria-controls")===e)return d=b,!1}),d===null&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(d===null||d===-1)d=this.tabs.length?0:!1}d!==!1&&(d=this.tabs.index(this.tabs.eq(d)),d===-1&&(d=c.collapsible?!1:0)),c.active=d,!c.collapsible&&c.active===!1&&this.anchors.length&&(c.active=0),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(this._handlePageNav(b))return;switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault(),clearTimeout(this.activating),this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault(),clearTimeout(this.activating),this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))},_panelKeydown:function(b){if(this._handlePageNav(b))return;b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,c){function e(){return b>d&&(b=0),b<0&&(b=d),b}var d=this.tabs.length-1;while(a.inArray(e(),this.options.disabled)!==-1)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){if(a==="active"){this._activate(b);return}if(a==="disabled"){this._setupDisabled(b);return}this._super(a,b),a==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&this.options.active===!1&&this._activate(0)),a==="event"&&this._setupEvents(b),a==="heightStyle"&&this._setupHeightStyle(b)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+e()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active===!1||!this.anchors.length?(b.active=!1,this.active=a()):this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,d){var e,g,h,i=a(d).uniqueId().attr("id"),j=a(d).closest("li"),k=j.attr("aria-controls");f(d)?(e=d.hash,g=b.element.find(b._sanitizeSelector(e))):(h=b._tabId(j),e="#"+h,g=b.element.find(e),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":e.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.tabs[c];c++)b===!0||a.inArray(c,b)!==-1?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d,e=this.element.parent();b==="fill"?(a.support.minHeight||(d=e.css("overflow"),e.css("overflow","hidden")),c=e.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");if(d==="absolute"||d==="fixed")return;c-=b.outerHeight(!0)}),d&&e.css("overflow",d),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):b==="auto"&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault();if(f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1)return;c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),!j.length&&!i.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k)},_toggle:function(b,c){function g(){d.running=!1,d._trigger("activate",b,c)}function h(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),e.length&&d.options.show?d._show(e,d.options.show,g):(e.show(),g())}var d=this,e=c.newPanel,f=c.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),h()),f.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),e.length&&f.length?c.oldTab.attr("tabIndex",-1):e.length&&this.tabs.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);if(d[0]===this.active[0])return;d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c):b.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;if(d===!1)return;c===b?d=!1:(c=this._getIndex(c),a.isArray(d)?d=a.map(d,function(a){return a!==c?a:null}):d=a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d)},disable:function(c){var d=this.options.disabled;if(d===!0)return;if(c===b)d=!0;else{c=this._getIndex(c);if(a.inArray(c,d)!==-1)return;a.isArray(d)?d=a.merge([c],d).sort():d=[c]}this._setupDisabled(d)},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),g=e.find(".ui-tabs-anchor"),h=this._getPanelForTab(e),i={tab:e,panel:h};if(f(g[0]))return;this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&this.xhr.statusText!=="canceled"&&(e.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),d._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){b==="abort"&&d.panels.stop(!1,!0),e.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr},1)}))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&(a.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},a.widget("ui.tabs",a.ui.tabs,{url:function(a,b){this.anchors.eq(a).attr("href",b)}}),a.widget("ui.tabs",a.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var b=this;this._on({tabsbeforeload:function(c,d){if(a.data(d.tab[0],"cache.tabs")){c.preventDefault();return}d.jqXHR.success(function(){b.options.cache&&a.data(d.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(b,c,d){var e=this.options.ajaxOptions;return a.extend({},e,{error:function(a,b){try{e.error(a,b,d.tab.closest("li").index(),d.tab[0])}catch(c){}}},this._superApply(arguments))},_setOption:function(a,b){a==="cache"&&b===!1&&this.anchors.removeData("cache.tabs"),this._super(a,b)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),a.widget("ui.tabs",a.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(a,b){if(a.target!==this.element[0]||!this.options.spinner)return;var c=b.tab.find("span"),d=c.html();c.html(this.options.spinner),b.jqXHR.complete(function(){c.html(d)})}})}}),a.widget("ui.tabs",a.ui.tabs,{options:{enable:null,disable:null},enable:function(b){var c=this.options,d;if(b&&c.disabled===!0||a.isArray(c.disabled)&&a.inArray(b,c.disabled)!==-1)d=!0;this._superApply(arguments),d&&this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(b){var c=this.options,d;if(b&&c.disabled===!1||a.isArray(c.disabled)&&a.inArray(b,c.disabled)===-1)d=!0;this._superApply(arguments),d&&this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}}),a.widget("ui.tabs",a.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(c,d,e){e===b&&(e=this.anchors.length);var f,g,h=this.options,i=a(h.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),j=c.indexOf("#")?this._tabId(i):c.replace("#","");return i.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),i.attr("aria-controls",j),f=e>=this.tabs.length,g=this.element.find("#"+j),g.length||(g=this._createPanel(j),f?e>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[e])),g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),f?i.appendTo(this.tablist):i.insertBefore(this.tabs[e]),h.disabled=a.map(h.disabled,function(a){return a>=e?++a:a}),this.refresh(),this.tabs.length===1&&h.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.tabs.eq(b).remove(),e=this._getPanelForTab(d).remove();return d.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!==b}),function(a){return a>=b?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this}}),a.widget("ui.tabs",a.ui.tabs,{length:function(){return this.anchors.length}}),a.widget("ui.tabs",a.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(b){var c=b.is("li")?b.find("a[href]"):b;return c=c[0],a(c).closest("li").attr("aria-controls")||c.title&&c.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+e()}}),a.widget("ui.tabs",a.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(b){return a(this.options.panelTemplate).attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),a.widget("ui.tabs",a.ui.tabs,{_create:function(){var a=this.options;a.active===null&&a.selected!==b&&(a.active=a.selected===-1?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(a,b){if(a!=="selected")return this._super(a,b);var c=this.options;this._super("active",b===-1?!1:b),c.selected=c.active,c.selected===!1&&(c.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),a.widget("ui.tabs",a.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(a,b,c){var d,e,f=this._superApply(arguments);return f?(a==="beforeActivate"?(d=c.newTab.length?c.newTab:c.oldTab,e=c.newPanel.length?c.newPanel:c.oldPanel,f=this._super("select",b,{tab:d.find(".ui-tabs-anchor")[0],panel:e[0],index:d.closest("li").index()})):a==="activate"&&c.newTab.length&&(f=this._super("show",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()})),f):!1}}),a.widget("ui.tabs",a.ui.tabs,{select:function(a){a=this._getIndex(a);if(a===-1)if(this.options.collapsible&&this.options.selected!==-1)a=this.options.selected;else return;this.anchors.eq(a).trigger(this.options.event+this.eventNamespace)}}),function(){var b=0;a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var a=this.options,b;a.active==null&&a.cookie&&(b=parseInt(this._cookie(),10),b===-1&&(b=!1),a.active=b),this._super()},_cookie:function(c){var d=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++b)];return arguments.length&&(d.push(c===!1?-1:c),d.push(this.options.cookie)),a.cookie.apply(null,d)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(b,c,d){var e=a.extend({},d);return b==="load"&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(b,c,e)}}),a.widget("ui.tabs",a.ui.tabs,{options:{fx:null},_getFx:function(){var b,c,d=this.options.fx;return d&&(a.isArray(d)?(b=d[0],c=d[1]):b=c=d),d?{show:c,hide:b}:null},_toggle:function(a,b){function g(){c.running=!1,c._trigger("activate",a,b)}function h(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),d.length&&f.show?d.animate(f.show,f.show.duration,function(){g()}):(d.show(),g())}var c=this,d=b.newPanel,e=b.oldPanel,f=this._getFx();if(!f)return this._super(a,b);c.running=!0,e.length&&f.hide?e.animate(f.hide,f.hide.duration,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e.hide(),h())}}))}(jQuery),function(a){function c(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function d(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);e!==-1&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var b=0;a.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return a(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;if(b==="disabled"){this[c?"_disable":"_enable"](),this.options[b]=c;return}this._super
(b,c),b==="content"&&a.each(this.tooltips,function(a,b){d._updateContent(b)})},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);if(!d.length||d.data("ui-tooltip-id"))return;d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&b.type==="mouseover"&&d.parents().each(function(){var b=a(this),d;b.data("ui-tooltip-open")&&(d=a.Event("blur"),d.target=d.currentTarget=this,c.close(d,!0)),b.attr("title")&&(b.uniqueId(),c.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(d,b)},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;if(typeof d=="string")return this._open(b,a,d);c=d.call(a[0],function(c){if(!a.data("ui-tooltip-open"))return;e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),c&&this._open(b,a,c)},_open:function(b,d,e){function j(a){i.of=a;if(f.is(":hidden"))return;f.position(i)}var f,g,h,i=a.extend({},this.options.position);if(!e)return;f=this._find(d);if(f.length){f.find(".ui-tooltip-content").html(e);return}d.is("[title]")&&(b&&b.type==="mouseover"?d.attr("title",""):d.removeAttr("title")),f=this._tooltip(d),c(d,f.attr("id")),f.find(".ui-tooltip-content").html(e),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:j}),j(b)):f.position(a.extend({of:d},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=setInterval(function(){f.is(":visible")&&(j(i.of),clearInterval(h))},a.fx.interval)),this._trigger("open",b,{tooltip:f}),g={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(f)}};if(!b||b.type==="mouseover")g.mouseleave="close";if(!b||b.type==="focusin")g.focusout="close";this._on(!0,d,g)},close:function(b){var c=this,e=a(b?b.currentTarget:this.element),f=this._find(e);if(this.closing)return;e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),d(e),f.stop(!0),this._hide(f,this.options.hide,function(){c._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&b.type==="mouseleave"&&a.each(this.parents,function(b,d){a(d.element).attr("title",d.title),delete c.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1},_tooltip:function(c){var d="ui-tooltip-"+b++,e=a("<div>").attr({id:d,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),a.fn.bgiframe&&e.bgiframe(),this.tooltips[d]=c,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery);var wysihtml5={version:"@VERSION",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var a=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return a.get.call(this)},set:function(b){return a.set.call(this,b)}})}(),Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};(function(a,b){typeof define=="function"&&define.amd?define(a):b.rangy=a()})(function(){function h(c,d){var e=typeof c[d];return e==b||e==a&&!!c[d]||e=="unknown"}function i(b,c){return typeof b[c]==a&&!!b[c]}function j(a,b){return typeof a[b]!=c}function k(a){return function(b,c){var d=c.length;while(d--)if(!a(b,c[d]))return!1;return!0}}function o(a){return a&&l(a,g)&&n(a,f)}function p(a){return i(a,"body")?a.body:a.getElementsByTagName("body")[0]}function s(a){i(window,"console")&&h(window.console,"log")&&window.console.log(a)}function t(a,b){b?window.alert(a):s(a)}function u(a){r.initialized=!0,r.supported=!1,t("Rangy is not supported on this page in your browser. Reason: "+a,r.config.alertOnFail)}function v(a){t("Rangy warning: "+a,r.config.alertOnWarn)}function y(a){return a.message||a.description||String(a)}function z(){if(r.initialized)return;var a,b=!1,c=!1;h(document,"createRange")&&(a=document.createRange(),l(a,e)&&n(a,d)&&(b=!0));var f=p(document);if(!f||f.nodeName.toLowerCase()!="body"){u("No body element found");return}f&&h(f,"createTextRange")&&(a=f.createTextRange(),o(a)&&(c=!0));if(!b&&!c){u("Neither Range nor TextRange are available");return}r.initialized=!0,r.features={implementsDomRange:b,implementsTextRange:c};var g,i;for(var j in q)(g=q[j])instanceof C&&g.init(g,r);for(var k=0,m=x.length;k<m;++k)try{x[k](r)}catch(t){i="Rangy init listener threw an exception. Continuing. Detail: "+y(t),s(i)}}function B(a){a=a||window,z();for(var b=0,c=A.length;b<c;++b)A[b](a)}function C(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function D(a,b,c,d){var e=new C(b,c,function(a){if(!a.initialized){a.initialized=!0;try{d(r,a),a.supported=!0}catch(c){var e="Module '"+b+"' failed to load: "+y(c);s(e)}}});q[b]=e}function E(){}function F(){}var a="object",b="function",c="undefined",d=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],e=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],f=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],l=k(h),m=k(i),n=k(j),q={},r={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:h,isHostObject:i,isHostProperty:j,areHostMethods:l,areHostObjects:m,areHostProperties:n,isTextRange:o,getBody:p},features:{},modules:q,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==c?!0:rangyAutoInitialize}};r.fail=u,r.warn=v,{}.hasOwnProperty?r.util.extend=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&d!==null&&typeof d=="object"&&e!==null&&typeof e=="object"&&r.util.extend(d,e,!0),a[f]=e);return b.hasOwnProperty("toString")&&(a.toString=b.toString),a}:u("hasOwnProperty not supported"),function(){var a=document.createElement("div");a.appendChild(document.createElement("span"));var b=[].slice,c;try{b.call(a.childNodes,0)[0].nodeType==1&&(c=function(a){return b.call(a,0)})}catch(d){}c||(c=function(a){var b=[];for(var c=0,d=a.length;c<d;++c)b[c]=a[c];return b}),r.util.toArray=c}();var w;h(document,"addEventListener")?w=function(a,b,c){a.addEventListener(b,c,!1)}:h(document,"attachEvent")?w=function(a,b,c){a.attachEvent("on"+b,c)}:u("Document does not have required addEventListener or attachEvent method"),r.util.addListener=w;var x=[];r.init=z,r.addInitListener=function(a){r.initialized?a(r):x.push(a)};var A=[];r.addShimListener=function(a){A.push(a)},r.shim=r.createMissingNativeApi=B,C.prototype={init:function(){var a=this.dependencies||[];for(var b=0,c=a.length,d,e;b<c;++b){e=a[b],d=q[e];if(!d||!(d instanceof C))throw new Error("required module '"+e+"' not found");d.init();if(!d.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+a)},warn:function(a){r.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){r.warn("DEPRECATED: "+a+" in module "+this.name+"is deprecated. Please use "+b+" instead")},createError:function(a){return new Error("Error in Rangy "+this.name+" module: "+a)}},r.createModule=function(a){var b,c;arguments.length==2?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=D(!1,a,c,b);r.initialized&&d.init()},r.createCoreModule=function(a,b,c){D(!0,a,b,c)},r.RangePrototype=E,r.rangePrototype=new E,r.selectionPrototype=new F;var G=!1,H=function(a){G||(G=!0,!r.initialized&&r.config.autoInitialize&&z())};if(typeof window==c){u("No window found");return}if(typeof document==c){u("No document found");return}return h(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",H,!1),w(window,"load",H),r.createCoreModule("DomUtil",[],function(a,b){function h(a){var b;return typeof a.namespaceURI==c||(b=a.namespaceURI)===null||b=="http://www.w3.org/1999/xhtml"}function i(a){var b=a.parentNode;return b.nodeType==1?b:null}function j(a){var b=0;while(a=a.previousSibling)++b;return b}function k(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function l(a,b){var c=[],d;for(d=a;d;d=d.parentNode)c.push(d);for(d=b;d;d=d.parentNode)if(g(c,d))return d;return null}function m(a,b,c){var d=c?b:b.parentNode;while(d){if(d===a)return!0;d=d.parentNode}return!1}function n(a,b){return m(a,b,!0)}function o(a,b,c){var d,e=c?a:a.parentNode;while(e){d=e.parentNode;if(d===b)return e;e=d}return null}function p(a){var b=a.nodeType;return b==3||b==4||b==8}function q(a){if(!a)return!1;var b=a.nodeType;return b==3||b==8}function r(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function s(a,b,c){var d=a.cloneNode(!1);d.deleteData(0,b),a.deleteData(b,a.length-b),r(d,a);if(c)for(var e=0,f;f=c[e++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>j(a)&&++f.offset;return d}function t(a){if(a.nodeType==9)return a;if(typeof a.ownerDocument!=c)return a.ownerDocument;if(typeof a.document!=c)return a.document;if(a.parentNode)return t(a.parentNode);throw b.createError("getDocument: no document found for node")}function u(a){var d=t(a);if(typeof d.defaultView!=c)return d.defaultView;if(typeof d.parentWindow!=c)return d.parentWindow;throw b.createError("Cannot get a window object for node")}function v(a){if(typeof a.contentDocument!=c)return a.contentDocument;if(typeof a.contentWindow!=c)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function w(a){if(typeof a.contentWindow!=c)return a.contentWindow;if(typeof a.contentDocument!=c)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function x(a){return a&&d.isHostMethod(a,"setTimeout")&&d.isHostObject(a,"document")}function y(a,b,c){var e;a?d.isHostProperty(a,"nodeType")?e=a.nodeType==1&&a.tagName.toLowerCase()=="iframe"?v(a):t(a):x(a)&&(e=a.document):e=document;if(!e)throw b.createError(c+"(): Parameter must be a Window object or DOM node");return e}function z(a){var b;while(b=a.parentNode)a=b;return a}function A(a,c,d,e){var f,g,h,i,k;if(a==d)return c===e?0:c<e?-1:1;if(f=o(d,a,!0))return c<=j(f)?-1:1;if(f=o(a,d,!0))return j(f)<e?-1:1;g=l(a,d);if(!g)throw new Error("comparePoints error: nodes have no common ancestor");h=a===g?g:o(a,g,!0),i=d===g?g:o(d,g,!0);if(h===i)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");k=g.firstChild;while(k){if(k===h)return-1;if(k===i)return 1;k=k.nextSibling}}function C(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function D(a){if(!a)return"[No node]";if(B&&C(a))return"[Broken node]";if(p(a))return'"'+a.data+'"';if(a.nodeType==1){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">[index:"+j(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return a.nodeName}function E(a){var b=t(a).createDocumentFragment(),c;while(c=a.firstChild)b.appendChild(c);return b}function G(a){this.root=a,this._next=a}function H(a){return new G(a)}function I(a,b){this.node=a,this.offset=b}function J(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var c="undefined",d=a.util;d.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),d.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var e=document.createElement("div");d.areHostMethods(e,["insertBefore","appendChild","cloneNode"]||!d.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),d.isHostProperty(e,"innerHTML")||b.fail("Element is missing innerHTML property");var f=document.createTextNode("test");d.areHostMethods(f,["splitText","deleteData","insertData","appendData","cloneNode"]||!d.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"])||!d.areHostProperties(f,["data"]))||b.fail("Incomplete Text Node implementation");var g=function(a,b){var c=a.length;while(c--)if(a[c]===b)return!0;return!1},B=!1;(function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br>",B=C(c),a.features.crashyTextNodes=B})();var F;typeof window.getComputedStyle!=c?F=function(a,b){return u(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=c?F=function(a,b){return a.currentStyle[b]}:b.fail("No means of obtaining computed style properties found"),G.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b,c;if(this._current){b=a.firstChild;if(b)this._next=b;else{c=null;while(a!==this.root&&!(c=a.nextSibling))a=a.parentNode;this._next=c}}return this._current},detach:function(){this._current=this._next=this.root=null}},I.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+D(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},J.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},J.prototype.toString=function(){return this.message},a.dom={arrayContains:g,isHtmlNamespace:h,parentElement:i,getNodeIndex:j,getNodeLength:k,getCommonAncestor:l,isAncestorOf:m,isOrIsAncestorOf:n,getClosestAncestorIn:o,isCharacterDataNode:p,isTextOrCommentNode:q,insertAfter:r,splitDataNode:s,getDocument:t,getWindow:u,getIframeWindow:w,getIframeDocument:v,getBody:d.getBody,isWindow:x,getContentDocument:y,getRootContainer:z,comparePoints:A,isBrokenNode:C,inspectNode:D,getComputedStyleProperty:F,fragmentFromNodeChildren:E,createIterator:H,DomPosition:I},a.DOMException=J}),r.createCoreModule("DomRange",["DomUtil"],function(a,b){function r(a,b){return a.nodeType!=3&&(i(a,b.startContainer)||i(a,b.endContainer))}function s(a){return a.document||j(a.startContainer)}function t(a){return new e(a.parentNode,h(a))}function u(a){return new e(a.parentNode,h(a)+1)}function v(a,b,d){var e=a.nodeType==11?a.firstChild:a;return g(b)?d==b.length?c.insertAfter(a,b):b.parentNode.insertBefore(a,d==0?b:l(b,d)):d>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[d]),e}function w(a,b,c){W(a),W(b);if(s(b)!=s(a))throw new f("WRONG_DOCUMENT_ERR");var d=k(a.startContainer,a.startOffset,b.endContainer,b.endOffset),e=k(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?d<=0&&e>=0:d<0&&e>0}function x(a){var b;for(var c,d=s(a.range).createDocumentFragment(),e;c=a.next();){b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(x(e)),e.detach());if(c.nodeType==10)throw new f("HIERARCHY_REQUEST_ERR");d.appendChild(c)}return d}function y(a,b,d){var e,f;d=d||{stop:!1};for(var g,h;g=a.next();)if(a.isPartiallySelectedSubtree()){if(b(g)===!1){d.stop=!0;return}h=a.getSubtreeIterator(),y(h,b,d),h.detach();if(d.stop)return}else{e=c.createIterator(g);while(f=e.next())if(b(f)===!1){d.stop=!0;return}}}function z(a){var b;while(a.next())a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),z(b),b.detach()):a.remove()}function A(a){for(var b,c=s(a.range).createDocumentFragment(),d;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(A(d)),d.detach()):a.remove();if(b.nodeType==10)throw new f("HIERARCHY_REQUEST_ERR");c.appendChild(b)}return c}function B(a,b,c){var d=!!b&&!!b.length,e,f=!!c;d&&(e=new RegExp("^("+b.join("|")+")$"));var h=[];return y(new D(a,!1),function(b){if(d&&!e.test(b.nodeType))return;if(f&&!c(b))return;var i=a.startContainer;if(b==i&&g(i)&&a.startOffset==i.length)return;var j=a.endContainer;if(b==j&&g(j)&&a.endOffset==0)return;h.push(b)}),h}function C(a){var b=typeof a.getName=="undefined"?"Range":a.getName();return"["+b+"("+c.inspectNode(a.startContainer)+":"+a.startOffset+", "+c.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function D(a,b){this.range=a,this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&g(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===c&&!g(this.sc)?this.sc.childNodes[this.so]:m(this.sc,c,!0),this._last=this.ec===c&&!g(this.ec)?this.ec.childNodes[this.eo-1]:m(this.ec,c,!0))}}function J(a){return function(b,c){var d,e=c?b:b.parentNode;while(e){d=e.nodeType;if(o(a,d))return e;e=e.parentNode}return null}}function N(a,b){if(M(a,b))throw new f("INVALID_NODE_TYPE_ERR")}function O(a,b){if(!o(b,a.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function P(a,b){if(b<0||b>(g(a)?a.length:a.childNodes.length))throw new f("INDEX_SIZE_ERR")}function Q(a,b){if(K(a,!0)!==K(b,!0))throw new f("WRONG_DOCUMENT_ERR")}function R(a){if(L(a,!0))throw new f("NO_MODIFICATION_ALLOWED_ERR")}function S(a,b){if(!a)throw new f(b)}function T(a){return q&&c.isBrokenNode(a)||!o(F,a.nodeType)&&!K(a,!0)}function U(a,b){return b<=(g(a)?a.length:a.childNodes.length)}function V(a){return!!a.startContainer&&!!a.endContainer&&!T(a.startContainer)&&!T(a.endContainer)&&U(a.startContainer,a.startOffset)&&U(a.endContainer,a.endOffset)}function W(a){if(!V(a))throw new Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")")}function _(a,b){W(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,i=c===e;g(e)&&f>0&&f<e.length&&l(e,f,b),g(c)&&d>0&&d<c.length&&(c=l(c,d,b),i?(f-=d,e=c):e==c.parentNode&&f>=h(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function ba(a){W(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function bk(a){a.START_TO_START=bc,a.START_TO_END=bd,a.END_TO_END=be,a.END_TO_START=bf,a.NODE_BEFORE=bg,a.NODE_AFTER=bh,a.NODE_BEFORE_AND_AFTER=bi,a.NODE_INSIDE=bj}function bl(a){bk(a),bk(a.prototype)}function bm(a,b){return function(){W(this);var c=this.startContainer,d=this.startOffset,e=this.commonAncestorContainer,f=new D(this,!0),g,h;c!==e&&(g=m(c,e,!0),h=u(g),c=h.node,d=h.offset),y(f,R),f.reset();var i=a(f);return f.detach(),b(this,c,d,c,d),i}}function bn(b,c){function e(a,b){return function(c){O(c,E),O(p(c),F);var d=(a?t:u)(c);(b?f:i)(this,d.node,d.offset)}}function f(a,b,d){var e=a.endContainer,f=a.endOffset;if(b!==a.startContainer||d!==a.startOffset){if(p(b)!=p(e)||k(b,d,e,f)==1)e=b,f=d;c(a,b,d,e,f)}}function i(a,b,d){var e=a.startContainer,f=a.startOffset;if(b!==a.endContainer||d!==a.endOffset){if(p(b)!=p(e)||k(b,d,e,f)==-1)e=b,f=d;c(a,e,f,b,d)}}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,d.extend(b.prototype,{setStart:function(a,b){N(a,!0),P(a,b),f(this,a,b)},setEnd:function(a,b){N(a,!0),P(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],d=a[1],e=b,f=d;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}c(this,b,d,e,f)},setBoundary:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){W(this),a?c(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):c(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){N(a,!0),c(this,a,0,a,n(a))},selectNode:function(a){N(a,!1),O(a,E);var b=t(a),d=u(a);c(this,b.node,b.offset,d.node,d.offset)},extractContents:bm(A,c),deleteContents:bm(z,c),canSurroundContents:function(){W(this),R(this.startContainer),R(this.endContainer);var a=new D(this,!0),b=a._first&&r(a._first,this)||a._last&&r(a._last,this);return a.detach(),!b},splitBoundaries:function(){_(this)},splitBoundariesPreservingPositions:function(a){_(this,a)},normalizeBoundaries:function(){W(this);var a=this.startContainer,b=this.startOffset,d=this.endContainer,e=this.endOffset,f=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(d=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},i=function(c){var f=c.previousSibling;if(f&&f.nodeType==c.nodeType){a=c;var g=c.length;b=f.length,c.insertData(0,f.data),f.parentNode.removeChild(f);if(a==d)e+=b,d=a;else if(d==c.parentNode){var i=h(c);e==i?(d=c,e=g):e>i&&e--}}},j=!0;if(g(d))d.length==e&&f(d);else{if(e>0){var k=d.childNodes[e-1];k&&g(k)&&f(k)}j=!this.collapsed}if(j){if(g(a))b==0&&i(a);else if(b<a.childNodes.length){var l=a.childNodes[b];l&&g(l)&&i(l)}}else a=d,b=e;c(this,a,b,d,e)},collapseToPoint:function(a,b){N(a,!0),P(a,b),this.setStartAndEnd(a,b)}}),bl(b)}function bo(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:c.getCommonAncestor(a.startContainer,a.endContainer)}function bp(a,b,d,e,f){a.startContainer=b,a.startOffset=d,a.endContainer=e,a.endOffset=f,a.document=c.getDocument(b),bo(a)}function bq(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,bo(this)}var c=a.dom,d=a.util,e=c.DomPosition,f=a.DOMException,g=c.isCharacterDataNode,h=c.getNodeIndex,i=c.isOrIsAncestorOf,j=c.getDocument,k=c.comparePoints,l=c.splitDataNode,m=c.getClosestAncestorIn,n=c.getNodeLength,o=c.arrayContains,p=c.getRootContainer,q=a.features.crashyTextNodes;D.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,g(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a=this._current,b,c;!g(a)||a!==this.sc&&a!==this.ec?a.parentNode&&a.parentNode.removeChild(a):(b=a===this.sc?this.so:0,c=a===this.ec?this.eo:a.length,b!=c&&a.deleteData(b,c-b))},isPartiallySelectedSubtree:function(){var a=this._current;return r(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new bq(s(this.range));var b=this._current,c=b,d=0,e=b,f=n(b);i(b,this.sc)&&(c=this.sc,d=this.so),i(b,this.ec)&&(e=this.ec,f=this.eo),bp(a,c,d,e,f)}return new D(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var E=[1,3,4,5,7,8,10],F=[2,9,11],G=[5,6,10,12],H=[1,3,4,5,7,8,10,11],I=[1,3,4,5,7,8],K=J([9,11]),L=J(G),M=J([6,10,12]),X=document.createElement("style"),Y=!1;try{X.innerHTML="<b>x</b>",Y=X.firstChild.nodeType==3}catch(Z){}a.features.htmlParsingConforms=Y;var $=Y?function(a){var b=this.startContainer,d=j(b);if(!b)throw new f("INVALID_STATE_ERR");var e=null;return b.nodeType==1?e=b:g(b)&&(e=c.parentElement(b)),e===null||e.nodeName=="HTML"&&c.isHtmlNamespace(j(e).documentElement)&&c.isHtmlNamespace(e)?e=d.createElement("body"):e=e.cloneNode(!1),e.innerHTML=a,c.fragmentFromNodeChildren(e)}:function(a){var b=s(this),d=b.createElement("body");return d.innerHTML=a,c.fragmentFromNodeChildren(d)},bb=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],bc=0,bd=1,be=2,bf=3,bg=0,bh=1,bi=2,bj=3;d.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){W(this),Q(this.startContainer,b.startContainer);var c,d,e,f,g=a==bf||a==bc?"start":"end",h=a==bd||a==bc?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],k(c,d,e,f)},insertNode:function(a){W(this),O(a,H),R(this.startContainer);if(i(a,this.startContainer))throw new f("HIERARCHY_REQUEST_ERR");var b=v(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){W(this);var a,b;if(this.collapsed)return s(this).createDocumentFragment();if(this.startContainer===this.endContainer&&g(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=s(this).createDocumentFragment(),b.appendChild(a),b;var c=new D(this,!0);return a=x(c),c.detach(),a},canSurroundContents:function(){W(this),R(this.startContainer),R(this.endContainer);var a=new D(this,!0),b=a._first&&r(a._first,this)||a._last&&r(a._last,this);return a.detach(),!b},surroundContents:function(a){O(a,I);if(!this.canSurroundContents())throw new f("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())while(a.lastChild)a.removeChild(a.lastChild);v(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){W(this);var a=new bq(s(this)),b=bb.length,c;while(b--)c=bb[b],a[c]=this[c];return a},toString:function(){W(this);var a=this.startContainer;if(a===this.endContainer&&g(a))return a.nodeType==3||a.nodeType==4?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new D(this,!0);return y(c,function(a){(a.nodeType==3||a.nodeType==4)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){W(this);var b=a.parentNode,c=h(a);if(!b)throw new f("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return d<0?e>0?bi:bg:e>0?bh:bj},comparePoint:function(a,b){return W(this),S(a,"HIERARCHY_REQUEST_ERR"),Q(a,this.startContainer),k(a,b,this.startContainer,this.startOffset)<0?-1:k(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:$,toHtml:function(){return ba(this)},intersectsNode:function(a,b){W(this),S(a,"NOT_FOUND_ERR");if(j(a)!==s(this))return!1;var c=a.parentNode,d=h(a);S(c,"NOT_FOUND_ERR");var e=k(c,d,this.endContainer,this.endOffset),f=k(c,d+1,this.startContainer,this.startOffset);return b?e<=0&&f>=0:e<0&&f>0},isPointInRange:function(a,b){return W(this),S(a,"HIERARCHY_REQUEST_ERR"),Q(a,this.startContainer),k(a,b,this.startContainer,this.startOffset)>=0&&k(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return w(this,a,!1)},intersectsOrTouchesRange:function(a){return w(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=k(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=k(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return b==-1&&d.setStart(a.startContainer,a.startOffset),c==1&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return k(a.startContainer,a.startOffset,this.startContainer,this.startOffset)==-1&&b.setStart(a.startContainer,a.startOffset),k(a.endContainer,a.endOffset,this.endContainer,this.endOffset)==1&&b.setEnd(a.endContainer,a.endOffset),b}throw new f("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==bj},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,n(a))<=0},containsRange:function(a){var b=this.intersection(a);return b!==null&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a)},getNodes:function(a,b){return W(this),B(this,a,b)},getDocument:function(){return s(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var d=s(this),e=a.createRange(d);b=b||c.getBody(d),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);var d=[b],e,f=!1,g=!1,h,i,j;while(!g&&(e=d.pop()))if(e.nodeType==3)h=c+e.length,!f&&a.start>=c&&a.start<=h&&(this.setStart(e,a.start-c),f=!0),f&&a.end>=c&&a.end<=h&&(this.setEnd(e,a.end-c),g=!0),c=h;else{j=e.childNodes,i=j.length;while(i--)d.push(j[i])}},getName:function(){return"DomRange"},equals:function(a){return bq.rangesEqual(this,a)},isValid:function(){return V(this)},inspect:function(){return C(this)},detach:function(){}}),bn(bq,bp),d.extend(bq,{rangeProperties:bb,RangeIterator:D,copyComparisonConstants:bl,createPrototypeRange:bn,inspect:C,toHtml:ba,getRangeDocument:s,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=bq}),r.createCoreModule("WrappedRange",["DomRange"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;a.features.implementsDomRange&&function(){function k(a){var b=g.length,c;while(b--)c=g[b],a[c]=a.nativeRange[c];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function l(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);if(f||g||h)a.setEnd(d,e),a.setStart(b,c)}var d,g=h.rangeProperties,m;c=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");this.nativeRange=a,k(this)},h.createPrototypeRange(c,l),d=c.prototype,d.selectNode=function(a){this.nativeRange.selectNode(a),k(this)},d.cloneContents=function(){return this.nativeRange.cloneContents()},d.surroundContents=function(a){this.nativeRange.surroundContents(a),k(this)},d.collapse=function(a){this.nativeRange.collapse(a),k(this)},d.cloneRange=function(){return new c(this.nativeRange.cloneRange())},d.refresh=function(){k(this)},d.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),d.setStart=function(a,b){this.nativeRange.setStart(a,b),k(this)},d.setEnd=function(a,b){this.nativeRange.setEnd(a,b),k(this)},m=function(a){return function(b){this.nativeRange[a](b),k(this)}}}catch(p){d.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}k(this)},d.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}k(this)},m=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(d){this.nativeRange[b](c),this.nativeRange[a](c)}k(this)}}}d.setStartBefore=m("setStartBefore","setEndBefore"),d.setStartAfter=m("setStartAfter","setEndAfter"),d.setEndBefore=m("setEndBefore","setStartBefore"),d.setEndAfter=m("setEndAfter","setStartAfter"),d.selectNodeContents=function(a)
{this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),o.compareBoundaryPoints(o.START_TO_END,q)==-1&&o.compareBoundaryPoints(o.END_TO_START,q)==1?d.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:d.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement("div");r.innerHTML="123";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),s.data=="13"&&(d.deleteContents=function(){this.nativeRange.deleteContents(),k(this)},d.extractContents=function(){var a=this.nativeRange.extractContents();return k(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,"createContextualFragment")&&(d.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),d.getName=function(){return"WrappedRange"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),a.createRange()}}();if(a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return a.compareEndPoints("StartToEnd",a)==0},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();e.isOrIsAncestorOf(b,i)||(i=b);if(!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement("span");l.parentNode&&l.parentNode.removeChild(l);var m,n=c?"StartToStart":"StartToEnd",o,p,q,r,s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;for(;;){v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(n,a);if(m==0||s==u)break;if(m==-1){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}r=l.nextSibling;if(m==-1&&r&&k(r)){h.setEndPoint(c?"EndToStart":"EndToEnd",a);var w;if(/[\r\n]/.test(r.data)){var x=h.duplicate(),y=x.text.replace(/\r\n/g,"\r").length;w=x.moveStart("character",y);while((m=x.compareEndPoints("StartToEnd",x))==-1)w++,x.moveStart("character",1)}else w=h.text.length;q=new g(r,w)}else o=(d||!c)&&l.previousSibling,p=(d||c)&&l.nextSibling,p&&k(p)?q=new g(p,0):o&&k(o)?q=new g(o,o.data.length):q=new g(i,e.getNodeIndex(l));return l.parentNode.removeChild(l),{boundaryPosition:q,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f=a.offset,g=e.getDocument(a.node),h,j,l=i(g).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(j=a.node.childNodes,c=f<j.length?j[f]:null,d=a.node),h=g.createElement("span"),h.innerHTML="&#feff;",c?d.insertBefore(h,c):d.appendChild(h),l.moveToElementText(h),l.collapse(!b),d.removeChild(h),m&&l[b?"moveStart":"moveEnd"]("character",f),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint("StartToStart",b),d.setEndPoint("EndToEnd",c),d};d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d;if(!a.features.implementsDomRange||a.config.preferTextRange){var q=function(){return this}();typeof q.Range=="undefined"&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,"createRange"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,"createRangyRange"),new h(a)},a.createIframeRange=function(c){return b.deprecationNotice("createIframeRange()","createRange(iframeEl)"),a.createRange(c)},a.createIframeRangyRange=function(c){return b.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),a.createRangyRange(c)},a.addShimListener(function(b){var c=b.document;typeof c.createRange=="undefined"&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),r.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function s(a){return typeof a=="string"?/^backward(s)?$/i.test(a):!!a}function t(a,c){if(!a)return window;if(e.isWindow(a))return a;if(a instanceof W)return a.win;var d=e.getContentDocument(a,b,c);return e.getWindow(d)}function u(a){return t(a,"getWinSelection").getSelection()}function v(a){return t(a,"getDocSelection").document.selection}function w(a){var b=!1;return a.anchorNode&&(b=e.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)==1),b}function L(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function M(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function N(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function O(b){var c;return b instanceof h?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof i?c=b.nativeRange:n.implementsDomRange&&b instanceof e.getWindow(b.startContainer).Range&&(c=b),c}function P(a){if(!a.length||a[0].nodeType!=1)return!1;for(var b=1,c=a.length;b<c;++b)if(!e.isAncestorOf(a[0],a[b]))return!1;return!0}function Q(a){var c=a.getNodes();if(!P(c))throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return c[0]}function R(a){return!!a&&typeof a.text!="undefined"}function S(a,b){var c=new i(b);a._ranges=[c],L(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function T(b){b._ranges.length=0;if(b.docSelection.type=="None")N(b);else{var c=b.docSelection.createRange();if(R(c))S(b,c);else{b.rangeCount=c.length;var d,e=p(c.item(0));for(var f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=b.rangeCount==1&&b._ranges[0].collapsed,L(b,b._ranges[b.rangeCount-1],!1)}}}function U(a,c){var d=a.docSelection.createRange(),e=Q(c),f=p(d.item(0)),g=q(f).createControlRange();for(var h=0,i=d.length;h<i;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select(),T(a)}function W(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function X(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function Z(a,b){var c=Y.length,d,e;while(c--){d=Y[c],e=d.selection;if(b=="deleteAll")X(e);else if(d.win==a)return b=="delete"?(Y.splice(c,1),!0):e}return b=="deleteAll"&&(Y.length=0),null}function ba(a,c){var d=p(c[0].startContainer),e=q(d).createControlRange();for(var f=0,g,h=c.length;f<h;++f){g=Q(c[f]);try{e.add(g)}catch(i){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}e.select(),T(a)}function bf(a,b){if(a.win.document!=p(b))throw new j("WRONG_DOCUMENT_ERR")}function bg(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function bh(a){var b=[],c=new k(a.anchorNode,a.anchorOffset),d=new k(a.focusNode,a.focusOffset),e=typeof a.getName=="function"?a.getName():"Selection";if(typeof a.rangeCount!="undefined")for(var f=0,g=a.rangeCount;f<g;++f)b[f]=h.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.config.checkSelectionRanges=!0;var c="boolean",d="number",e=a.dom,f=a.util,g=f.isHostMethod,h=a.DomRange,i=a.WrappedRange,j=a.DOMException,k=e.DomPosition,l,m,n=a.features,o="Control",p=e.getDocument,q=e.getBody,r=h.rangesEqual,x=g(window,"getSelection"),y=f.isHostObject(document,"selection");n.implementsWinGetSelection=x,n.implementsDocSelection=y;var z=y&&(!x||a.config.preferTextRange);z?(l=v,a.isSelectionValid=function(a){var b=t(a,"isSelectionValid").document,c=b.selection;return c.type!="None"||p(c.createRange().parentElement())==b}):x?(l=u,a.isSelectionValid=function(){return!0}):b.fail("Neither document.selection or window.getSelection() detected."),a.getNativeSelection=l;var A=l(),B=a.createNativeRange(document),C=q(document),D=f.areHostProperties(A,["anchorNode","focusNode","anchorOffset","focusOffset"]);n.selectionHasAnchorAndFocus=D;var E=g(A,"extend");n.selectionHasExtend=E;var F=typeof A.rangeCount==d;n.selectionHasRangeCount=F;var G=!1,H=!0,I=E?function(b,c){var d=h.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(O(e)),b.extend(c.startContainer,c.startOffset)}:null;f.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&typeof A.rangeCount==d&&n.implementsDomRange&&function(){var b=window.getSelection();if(b){var c=b.rangeCount,d=c>1,e=[],f=w(b);for(var g=0;g<c;++g)e[g]=b.getRangeAt(g);var h=q(document),i=h.appendChild(document.createElement("div"));i.contentEditable="false";var j=i.appendChild(document.createTextNode("")),k=document.createRange();k.setStart(j,1),k.collapse(!0),b.addRange(k),H=b.rangeCount==1,b.removeAllRanges();if(!d){var l=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(l&&parseInt(l[1])>=36)G=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),G=b.rangeCount==2}}h.removeChild(i),b.removeAllRanges();for(g=0;g<c;++g)g==0&&f?I?I(b,e[g]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(e[g])):b.addRange(e[g])}}(),n.selectionSupportsMultipleRanges=G,n.collapsedNonEditableSelectionsSupported=H;var J=!1,K;C&&g(C,"createControlRange")&&(K=C.createControlRange(),f.areHostProperties(K,["item","add"])&&(J=!0)),n.implementsControlRange=J,D?m=function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:m=function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var V;g(A,"getRangeAt")?V=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:D&&(V=function(b){var c=p(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),W.prototype=a.selectionPrototype;var Y=[],$=function(a){if(a&&a instanceof W)return a.refresh(),a;a=t(a,"getNativeSelection");var b=Z(a),c=l(a),d=y?v(a):null;return b?(b.nativeSelection=c,b.docSelection=d,b.refresh()):(b=new W(c,d,a),Y.push({win:a,selection:b})),b};a.getSelection=$,a.getIframeSelection=function(c){return b.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),a.getSelection(e.getIframeWindow(c))};var _=W.prototype;if(!z&&D&&f.areHostMethods(A,["removeAllRanges","addRange"])){_.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),N(this)};var bb=function(a,b){I(a.nativeSelection,b),a.refresh()};F?_.addRange=function(b,c){if(J&&y&&this.docSelection.type==o)U(this,b);else if(s(c)&&E)bb(this,b);else{var d;G?d=this.rangeCount:(this.removeAllRanges(),d=0),this.nativeSelection.addRange(O(b).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==d+1){if(a.config.checkSelectionRanges){var e=V(this.nativeSelection,this.rangeCount-1);e&&!r(e,b)&&(b=new i(e))}this._ranges[this.rangeCount-1]=b,L(this,b,be(this.nativeSelection)),this.isCollapsed=m(this)}else this.refresh()}}:_.addRange=function(a,b){s(b)&&E?bb(this,a):(this.nativeSelection.addRange(O(a)),this.refresh())},_.setRanges=function(a){if(J&&y&&a.length>1)ba(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else if(g(A,"empty")&&g(B,"select")&&J&&z)_.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var a;if(this.anchorNode)a=p(this.anchorNode);else if(this.docSelection.type==o){var b=this.docSelection.createRange();b.length&&(a=p(b.item(0)))}if(a){var c=q(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}N(this)},_.addRange=function(b){this.docSelection.type==o?U(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,L(this,b,!1))},_.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?ba(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;_.getRangeAt=function(a){if(a<0||a>=this.rangeCount)throw new j("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var bc;if(z)bc=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=q(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==o?T(b):R(c)?S(b,c):N(b)};else if(g(A,"getRangeAt")&&typeof A.rangeCount==d)bc=function(b){if(J&&y&&b.docSelection.type==o)T(b);else{b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount;if(b.rangeCount){for(var c=0,d=b.rangeCount;c<d;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));L(b,b._ranges[b.rangeCount-1],be(b.nativeSelection)),b.isCollapsed=m(b)}else N(b)}};else if(D&&typeof A.isCollapsed==c&&typeof B.collapsed==c&&n.implementsDomRange)bc=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=V(c,0),a._ranges=[b],a.rangeCount=1,M(a),a.isCollapsed=m(a)):N(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;_.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;bc(this);if(a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;while(e--)if(!r(b[e],this._ranges[e]))return!0;return!1}};var bd=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;d<e;++d)r(b,c[d])||a.addRange(c[d]);a.rangeCount||N(a)};J&&y?_.removeRange=function(a){if(this.docSelection.type==o){var b=this.docSelection.createRange(),c=Q(a),d=p(b.item(0)),e=q(d).createControlRange(),f,g=!1;for(var h=0,i=b.length;h<i;++h)f=b.item(h),f!==c||g?e.add(b.item(h)):g=!0;e.select(),T(this)}else bd(this,a)}:_.removeRange=function(a){bd(this,a)};var be;!z&&D&&n.implementsDomRange?(be=w,_.isBackward=function(){return be(this)}):be=_.isBackward=function(){return!1},_.isBackwards=_.isBackward,_.toString=function(){var a=[];for(var b=0,c=this.rangeCount;b<c;++b)a[b]=""+this._ranges[b];return a.join("")},_.collapse=function(b,c){bf(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},_.collapseToStart=function(){if(!this.rangeCount)throw new j("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},_.collapseToEnd=function(){if(!this.rangeCount)throw new j("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},_.selectAllChildren=function(b){bf(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},_.deleteFromDocument=function(){if(J&&y&&this.docSelection.type==o){var a=this.docSelection.createRange(),b;while(a.length)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;d<e;++d)c[d].deleteContents();this.addRange(c[e-1])}}},_.eachRange=function(a,b){for(var c=0,d=this._ranges.length;c<d;++c)if(a(this.getRangeAt(c)))return b},_.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},_.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},_.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b))}),c},_.setStart=bg(!0),_.setEnd=bg(!1),a.rangePrototype.select=function(a){$(this.getDocument()).setSingleRange(this,a)},_.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&b.length==1?this.addRange(b[0],"backward"):this.setRanges(b)},_.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},_.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}},_.moveToBookmark=function(b){var c=[];for(var d=0,e,f;e=b.rangeBookmarks[d++];)f=a.createRange(this.win),f.moveToBookmark(e),c.push(f);b.backward?this.setSingleRange(c[0],"backward"):this.setRanges(c)},_.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(h.toHtml(b))}),a.join("")},n.implementsTextRange&&(_.getNativeTextRange=function(){var c,d;if(c=this.docSelection){var e=c.createRange();if(R(e))return e;throw b.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range")}),_.getName=function(){return"WrappedSelection"},_.inspect=function(){return bh(this)},_.detach=function(){Z(this.win,"delete"),X(this)},W.detachAll=function(){Z(null,"deleteAll")},W.inspect=bh,W.isDirectionBackward=s,a.Selection=W,a.selectionPrototype=_,a.addShimListener(function(a){typeof a.getSelection=="undefined"&&(a.getSelection=function(){return $(a)}),a=null})}),r},this),function(a,b){typeof define=="function"&&define.amd?define(["rangy"],a):a(b.rangy)}(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,b){function e(a,b){return(b||document).getElementById(a)}function f(a,b){var e="selectionBoundary_"+ +(new Date)+"_"+(""+Math.random()).slice(2),f,g=c.getDocument(a.startContainer),h=a.cloneRange();return h.collapse(b),f=g.createElement("span"),f.id=e,f.style.lineHeight="0",f.style.display="none",f.className="rangySelectionBoundary",f.appendChild(g.createTextNode(d)),h.insertNode(f),f}function g(a,c,d,f){var g=e(d,a);g?(c[f?"setStartBefore":"setEndBefore"](g),g.parentNode.removeChild(g)):b.warn("Marker element has been removed. Cannot restore selection.")}function h(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function i(b,c){var d,e,g=a.DomRange.getRangeDocument(b),h=b.toString();return b.collapsed?(e=f(b,!1),{document:g,markerId:e.id,collapsed:!0}):(e=f(b,!1),d=f(b,!0),{document:g,startMarkerId:d.id,endMarkerId:e.id,collapsed:!1,backward:c,toString:function(){return"original text: '"+h+"', new text: '"+b.toString()+"'"}})}function j(c,d){var f=c.document;typeof d=="undefined"&&(d=!0);var h=a.createRange(f);if(c.collapsed){var i=e(c.markerId,f);if(i){i.style.display="inline";var j=i.previousSibling;j&&j.nodeType==3?(i.parentNode.removeChild(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),i.parentNode.removeChild(i))}else b.warn("Marker element has been removed. Cannot restore selection.")}else g(f,h,c.startMarkerId,!0),g(f,h,c.endMarkerId,!1);return d&&h.normalizeBoundaries(),h}function k(b,c){var d=[],f,g;b=b.slice(0),b.sort(h);for(var j=0,k=b.length;j<k;++j)d[j]=i(b[j],c);for(j=k-1;j>=0;--j)f=b[j],g=a.DomRange.getRangeDocument(f),f.collapsed?f.collapseAfter(e(d[j].markerId,g)):(f.setEndBefore(e(d[j].endMarkerId,g)),f.setStartAfter(e(d[j].startMarkerId,g)));return d}function l(c){if(!a.isSelectionValid(c))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var d=a.getSelection(c),e=d.getAllRanges(),f=e.length==1&&d.isBackward(),g=k(e,f);return f?d.setSingleRange(e[0],"backward"):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function m(a){var b=[],c=a.length;for(var d=c-1;d>=0;d--)b[d]=j(a[d],!0);return b}function n(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=m(d),g=d.length;g==1&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function o(a,b){var c=e(b,a);c&&c.parentNode.removeChild(c)}function p(a){var b=a.rangeInfos;for(var c=0,d=b.length,e;c<d;++c)e=b[c],e.collapsed?o(a.doc,e.markerId):(o(a.doc,e.startMarkerId),o(a.doc,e.endMarkerId))}var c=a.dom,d="";a.util.extend(a,{saveRange:i,restoreRange:j,saveRanges:k,restoreRanges:m,saveSelection:l,restoreSelection:n,removeMarkerElement:o,removeMarkers:p})})},this);var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(arguments[0]!=null)return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return a=="object"?f:e.valueOf()},c.call(f,b),typeof f.init=="function"&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&typeof b=="function"&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\bbase\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return a=="object"?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;!Base._prototyping&&typeof this!="function"&&(e=this.extend||e);var f={toSource:null},g=["constructor","toString","valueOf"],h=Base._prototyping?0:1;while(i=g[h++])a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a)this.prototype[d]===undefined&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)typeof arguments[a]=="function"?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function g(a){return+(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\d+).+? like mac os x/)||[undefined,0])[1]}function h(a){return+(a.match(/android (\d+)/)||[undefined,0])[1]}function i(a,b){var c=-1,d;navigator.appName=="Microsoft Internet Explorer"?d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):navigator.appName=="Netscape"&&(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),d&&d.exec(navigator.userAgent)!=null&&(c=parseFloat(RegExp.$1));if(c===-1)return!1;if(!a)return!0;if(!b)return a===c;if(b==="<")return a<c;if(b===">")return a>c;if(b==="<=")return a<=c;if(b===">=")return a>=c}var a=navigator.userAgent,b=document.createElement("div"),c=a.indexOf("Gecko")!==-1&&a.indexOf("KHTML")===-1,d=a.indexOf("AppleWebKit/")!==-1,e=a.indexOf("Chrome/")!==-1,f=a.indexOf("Opera/")!==-1;return{USER_AGENT:a,supported:function(){var a=this.USER_AGENT.toLowerCase(),c="contentEditable"in b,d=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,e=document.querySelector&&document.querySelectorAll,f=this.isIos()&&g(a)<5||this.isAndroid()&&h(a)<4||a.indexOf("opera mobi")!==-1||a.indexOf("hpwos/")!==-1;return c&&d&&e&&!f},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return this.USER_AGENT.indexOf("Android")!==-1},supportsSandboxedIframes:function(){return i()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return i()},hasCurrentStyleProperty:function(){return"currentStyle"in b},hasHistoryIssue:function(){return c&&navigator.platform.substr(0,3)==="Mac"},insertsLineBreaksOnReturn:function(){return c},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){return"on"+a in b||function(){return b.setAttribute("on"+a,"return;"),typeof b["on"+a]=="function"}()},supportsEventsInIframeCorrectly:function(){return!f},supportsHTML5Tags:function(a){var b=a.createElement("div"),c="<article>foo</article>";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:i(10,"<="),insertUnorderedList:i(),insertOrderedList:i()},b={insertHTML:c};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return i()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return c||f||d},supportsGetAttributeCorrectly:function(){var a=document.createElement("td");return a.getAttribute("rowspan")!="1"},canSelectImagesInContentEditable:function(){return c||i()||f},autoScrollsToCaret:function(){return!d},autoClosesUnclosedTags:function(){var a=b.cloneNode(!1),c,d;return a.innerHTML="<p><div></div>",d=a.innerHTML.toLowerCase(),c=d==="<p></p><div></div>"||d==="<p><div></div></p>",this.autoClosesUnclosedTags=function(){return c},c},supportsNativeGetElementsByClassName:function(){return String(document.getElementsByClassName).indexOf("[native code]")!==-1},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return f},supportsSpeechApiOn:function(b){var c=a.match(/Chrome\/(\d+)/)||[undefined,0];return c[1]>=11&&("onwebkitspeechchange"in b||"speech"in b)},crashesWhenDefineProperty:function(a){return i(9)&&(a==="XMLHttpRequest"||a==="XDomainRequest")},doesAsyncFocus:function(){return i()},hasProblemsSettingCaretAfterImg:function(){return i()},hasUndoInContextMenu:function(){return c||e||f},hasInsertNodeIssue:function(){return f},hasIframeFocusIssue:function(){return i()},createsNestedInvalidMarkupAfterPaste:function(){return d},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(wysihtml5.lang.array(a).indexOf(b[c])!==-1)return!0;return!1}return wysihtml5.lang.array(a).indexOf(b)!==-1},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);var c=[],d=0,e=a.length;for(;d<e;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){var b=0,c=a.length,d=[];for(;b<c;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);var d=a.length>>>0,e=Array(d),f=0;for(;f<d;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){var b=[],c=a.length,d=0;while(d<c)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c=0,d,e;if(a){d=this.events[a]||[],e=[];for(;c<d.length;c++)d[c]!==b&&b&&e.push(d[c]);this.events[a]=e}else this.events={};return this},fire:function(a,b){this.events=this.events||{};var c=this.events[a]||[],d=0;for(;d<c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b){for(var c in b)a[c]=b[c];return this},get:function(){return a},clone:function(){var b={},c;for(c in a)b[c]=a[c];return b},isArray:function(){return Object.prototype.toString.call(a)==="[object Array]"}}},function(){var a=/^\s+/,b=/\s+$/,c=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(e){return e=String(e),{trim:function(){return e.replace(a,"").replace(b,"")},interpolate:function(a){for(var b in a)e=this.replace("#{"+b+"}").by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(){return e.replace(c,function(a){return d[a]})}}}}(),function(a){function g(a,b){return k(a,b)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),l(a,b))}function h(a){return a.replace(c,function(a,b){var c=(b.match(d)||[])[1]||"",g=f[c];b=b.replace(d,""),b.split(g).length>b.split(c).length&&(b=b+c,c="");var h=b,i=b;return b.length>e&&(i=i.substr(0,e)+"..."),h.substr(0,4)==="www."&&(h="http://"+h),'<a href="'+h+'">'+i+"</a>"+c})}function i(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement("div")),b}function j(b){var c=b.parentNode,d=a.lang.string(b.data).escapeHTML(),e=i(c.ownerDocument);e.innerHTML="<span></span>"+h(d),e.removeChild(e.firstChild);while(e.firstChild)c.insertBefore(e.firstChild,b);c.removeChild(b)}function k(c,d){var e;while(c.parentNode){c=c.parentNode,e=c.nodeName;if(c.className&&a.lang.array(c.className.split(" ")).contains(d))return!0;if(b.contains(e))return!0;if(e==="body")return!1}return!1}function l(d,e){if(b.contains(d.nodeName))return;if(d.className&&a.lang.array(d.className.split(" ")).contains(e))return;if(d.nodeType===a.TEXT_NODE&&d.data.match(c)){j(d);return}var f=a.lang.array(d.childNodes).get(),g=f.length,h=0;for(;h<g;h++)l(f[h],e);return d}var b=a.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),c=/((https?:\/\/|www\.)[^\s<]{3,})/gi,d=/([^\w\/\-](,?))$/i,e=100,f={")":"(","]":"[","}":"{"};a.dom.autoLink=g,a.dom.autoLink.URL_REG_EXP=c}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;if(d)return d.add(c);if(b.hasClass(a,c))return;a.className+=" "+c},b.removeClass=function(a,b){var c=a.classList;if(c)return c.remove(b);a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")},b.hasClass=function(a,b){var c=a.classList;if(c)return c.contains(b);var d=a.className;return d.length>0&&(d==b||(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,b){return b.nodeType!==wysihtml5.ELEMENT_NODE&&(b=b.parentNode),a!==b&&a.contains(b)};if(a.compareDocumentPosition)return function(a,b){return!!(a.compareDocumentPosition(b)&16)}}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement("li");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(c.nodeName==="UL"||c.nodeName==="OL"||c.nodeName==="MENU")return c;var f=c.ownerDocument,g=b(f,d),h=c.querySelectorAll("br"),i=h.length,j,k,l,m,n,o,p,q,r;for(r=0;r<i;r++){m=h[r];while((n=m.parentNode)&&n!==c&&n.lastChild===m){if(wysihtml5.dom.getStyle("display").from(n)==="block"){n.removeChild(m);break}wysihtml5.dom.insert(m).after(m.parentNode)}}j=wysihtml5.lang.array(c.childNodes).get(),k=j.length;for(r=0;r<k;r++){q=q||a(f,g),l=j[r],o=wysihtml5.dom.getStyle("display").from(l)==="block",p=l.nodeName==="BR";if(o&&(!e||!wysihtml5.dom.hasClass(l,e))){q=q.firstChild?a(f,g):q,q.appendChild(l),q=null;continue}if(p){q=q.firstChild?null:q;continue}q.appendChild(l)}return j.length===0&&a(f,g),c.parentNode.replaceChild(g,c),g}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){var d,e=0,f=a.length;for(;e<f;e++)d=a[e],typeof b[d]!="undefined"&&b[d]!==""&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],c=function(b){return d(b)?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1},d=function(c){var d=0,e=b.length;for(;d<e;d++)if(a.getStyle(b[d]).from(c)==="border-box")return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));var f="",g=d.length,h=0,i;for(;h<g;h++)i=d[h],f+=i+":"+a.getStyle(i).from(e)+";";return{to:function(b){return a.setStyles(f).on(b)
,{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(b,c,d,e){return a.dom.observe(b,d,function(d){var f=d.target,g=a.lang.array(b.querySelectorAll(c));while(f&&f!==b){if(g.contains(f)){e.call(f,d);break}f=f.parentNode}})}}(wysihtml5),function(a){a.dom.domNode=function(b){var c=[a.ELEMENT_NODE,a.TEXT_NODE],d=function(b){return b.nodeType===a.TEXT_NODE&&/^\s*$/g.test(b.data)};return{prev:function(e){var f=b.previousSibling,g=e&&e.nodeTypes?e.nodeTypes:c;return f?!a.lang.array(g).contains(f.nodeType)||e&&e.ignoreBlankTexts&&d(f)?a.dom.domNode(f).prev(e):f:null},next:function(e){var f=b.nextSibling,g=e&&e.nodeTypes?e.nodeTypes:c;return f?!a.lang.array(g).contains(f.nodeType)||e&&e.ignoreBlankTexts&&d(f)?a.dom.domNode(f).next(e):f:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement("div");c.style.display="none",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(a._wysihtml5_supportsHTML5Tags)return;for(var b=0,d=c.length;b<d;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0},c=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(c,d){d=d||document;var e;return typeof c=="object"&&c.nodeType?(e=d.createElement("div"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement("div"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){function a(a,b){return!b||!b.length?!0:typeof b=="string"?a===b:wysihtml5.lang.array(b).contains(a)}function b(a){return a.nodeType===wysihtml5.ELEMENT_NODE}function c(a,b,c){var d=(a.className||"").match(c)||[];return b?d[d.length-1]===b:!!d.length}function d(a,b,c){var d=(a.getAttribute("style")||"").match(c)||[];return b?d[d.length-1]===b:!!d.length}return function(e,f,g,h){var i=f.cssStyle||f.styleRegExp,j=f.className||f.classRegExp;g=g||50;while(g--&&e&&e.nodeName!=="BODY"&&(!h||e!==h)){if(b(e)&&a(e.nodeName,f.nodeName)&&(!i||d(e,f.cssStyle,f.styleRegExp))&&(!j||c(e,f.className,f.classRegExp)))return e;e=e.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function c(a){return a.replace(b,function(a){return a.charAt(1).toUpperCase()})}var a={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},b=/\-[a-z]/g;return function(b){return{from:function(d){if(d.nodeType!==wysihtml5.ELEMENT_NODE)return;var e=d.ownerDocument,f=a[b]||c(b),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k=e.defaultView||e.parentWindow,l=(b==="height"||b==="width")&&d.nodeName==="TEXTAREA",m,n;if(k.getComputedStyle)return l&&(m=g.overflow,g.overflow="hidden"),n=k.getComputedStyle(d,null).getPropertyValue(b),l&&(g.overflow=m||""),n}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)a.nodeType==3?(!b||!/^\s*$/.test(a.innerText||a.textContent))&&c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function c(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=b++)}var a={},b=1;return function(b,d){var e=c(b)+":"+d,f=a[e];return f||(f=a[e]=b.getElementsByTagName(d)),f.length>0}}(),function(a){function d(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;a.dom.hasElementWithClassName=function(c,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!c.querySelector("."+e);var f=d(c)+":"+e,g=b[f];return g||(g=b[f]=c.getElementsByClassName(e)),g.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join("\n"),{into:function(b){var c=b.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));var d=b.querySelector("head link");if(d){d.parentNode.insertBefore(c,d);return}var e=b.querySelector("head");e&&e.appendChild(c)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return a.nodeName==="BR"}function d(b){return c(b)?!0:a.dom.getStyle("display").from(b)==="block"?!0:!1}return{add:function(c){var e=b.ownerDocument,f=a.dom.domNode(b).next({ignoreBlankTexts:!0}),g=a.dom.domNode(b).prev({ignoreBlankTexts:!0});f&&!d(f)&&a.dom.insert(e.createElement("br")).after(b),g&&!d(g)&&a.dom.insert(e.createElement("br")).before(b)},remove:function(d){var e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&&c(e)&&e.parentNode.removeChild(e),f&&c(f)&&f.parentNode.removeChild(f)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=typeof b=="string"?[b]:b;var d,e,f=0,g=b.length;for(;f<g;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){"target"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent("on"+e,d));return{stop:function(){var e,f=0,g=b.length;for(;f<g;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent("on"+e,d)}}},wysihtml5.dom.parse=function(){function g(a,b){wysihtml5.lang.object(e).merge(d).merge(b.rules).get();var c=b.context||a.ownerDocument||document,g=c.createDocumentFragment(),i=typeof a=="string",j=!1,k,l,m;b.clearInternals===!0&&(j=!0),b.uneditableClass&&(f=b.uneditableClass),i?k=wysihtml5.dom.getAsDom(a,c):k=a;while(k.firstChild)m=k.firstChild,l=h(m,b.cleanUp,j),l&&g.appendChild(l),m!==l&&k.removeChild(m);return k.innerHTML="",k.appendChild(g),i?wysihtml5.quirks.getCorrectInnerHTML(k):k}function h(c,d,e){var g=c.nodeType,i=c.childNodes,j=i.length,k=a[g],l=0,m,n,o;if(f&&g===1&&wysihtml5.dom.hasClass(c,f))return c;n=k&&k(c,e);if(!n){if(n===!1){m=c.ownerDocument.createDocumentFragment();for(l=j;l--;)i[l]&&(o=h(i[l],d,e),o&&(i[l]===o&&l--,m.insertBefore(o,m.firstChild)));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(c.nodeName.toLowerCase())&&c.parentNode.lastChild!==c&&(!c.nextSibling||c.nextSibling.nodeType!==3||!/^\s/.test(c.nextSibling.nodeValue))&&m.appendChild(c.ownerDocument.createTextNode(" ")),m.normalize&&m.normalize(),m}return null}for(l=0;l<j;l++)i[l]&&(o=h(i[l],d,e),o&&(i[l]===o&&l--,n.appendChild(o)));if(d&&n.nodeName.toLowerCase()===b&&(!n.childNodes.length||/^\s*$/gi.test(n.innerHTML)&&(e||c.className!=="_wysihtml5-temp-placeholder"&&c.className!=="rangySelectionBoundary")||!n.attributes.length)){m=n.ownerDocument.createDocumentFragment();while(n.firstChild)m.appendChild(n.firstChild);return m.normalize&&m.normalize(),m}return n.normalize&&n.normalize(),n}function i(a,c){var d,f,g=e.tags,h=a.nodeName.toLowerCase(),i=a.scopeName;if(a._wysihtml5)return null;a._wysihtml5=1;if(a.className==="wysihtml5-temp")return null;i&&i!="HTML"&&(h=i+":"+h),"outerHTML"in a&&!wysihtml5.browser.autoClosesUnclosedTags()&&a.nodeName==="P"&&a.outerHTML.slice(-4).toLowerCase()!=="</p>"&&(h="div");if(h in g){d=g[h];if(!d||d.remove)return null;if(d.unwrap)return!1;d=typeof d=="string"?{rename_tag:d}:d}else if(a.firstChild)d={rename_tag:b};else return null;return f=a.ownerDocument.createElement(d.rename_tag||h),n(a,f,d,c),m(a,f,d),d.one_of_type&&!j(a,e,d.one_of_type,c)?d.remove_action&&d.remove_action=="unwrap"?!1:null:(a=null,f.normalize&&f.normalize(),f)}function j(a,b,c,d){var e,f;if(a.nodeName!=="SPAN"||!!d||a.className!=="_wysihtml5-temp-placeholder"&&a.className!=="rangySelectionBoundary"){for(f in c)if(c.hasOwnProperty(f)&&b.type_definitions&&b.type_definitions[f]){e=b.type_definitions[f];if(l(a,e))return!0}return!1}return!0}function k(a,b){var c=a.length;while(c--)if(a[c]===b)return!0;return!1}function l(a,b){var d=a.getAttribute("class"),e=a.getAttribute("style"),f,g,h,i,j,k,l;if(b.methods)for(var m in b.methods)if(b.methods.hasOwnProperty(m)&&x[m]&&x[m](a))return!0;if(d&&b.classes){d=d.replace(/^\s+/g,"").replace(/\s+$/g,"").split(c),f=d.length;for(var n=0;n<f;n++)if(b.classes[d[n]])return!0}if(e&&b.styles){e=e.split(";");for(g in b.styles)if(b.styles.hasOwnProperty(g))for(var o=e.length;o--;){l=e[o].split(":");if(l[0].replace(/\s/g,"").toLowerCase()===g)if(b.styles[g]===!0||b.styles[g]===1||wysihtml5.lang.array(b.styles[g]).contains(l[1].replace(/\s/g,"").toLowerCase()))return!0}}if(b.attrs)for(i in b.attrs)if(b.attrs.hasOwnProperty(i)){j=p(a,i);if(typeof j=="string"&&j.search(b.attrs[i])>-1)return!0}return!1}function m(a,b,c){var d;if(c&&c.keep_styles)for(d in c.keep_styles)c.keep_styles.hasOwnProperty(d)&&(d=="float"?(a.style.styleFloat&&(b.style.styleFloat=a.style.styleFloat),a.style.cssFloat&&(b.style.cssFloat=a.style.cssFloat)):a.style[d]&&(b.style[d]=a.style[d]))}function n(a,b,d,f){var g={},h=d.set_class,i=d.add_class,j=d.add_style,k=d.set_attributes,l=d.check_attributes,m=e.classes,n=0,o=[],q=[],r=[],s=[],t,x,y,z,A,B,C,D;k&&(g=wysihtml5.lang.object(k).clone());if(l)for(A in l){C=u[l[A]];if(!C)continue;D=p(a,A);if(D||A==="alt"&&a.nodeName=="IMG")B=C(D),typeof B=="string"&&(g[A]=B)}h&&o.push(h);if(i)for(A in i){C=w[i[A]];if(!C)continue;z=C(p(a,A)),typeof z=="string"&&o.push(z)}if(j)for(A in j){C=v[j[A]];if(!C)continue;newStyle=C(p(a,A)),typeof newStyle=="string"&&q.push(newStyle)}if(typeof m=="string"&&m==="any"&&a.getAttribute("class"))g["class"]=a.getAttribute("class");else{f||(m["_wysihtml5-temp-placeholder"]=1,m._rangySelectionBoundary=1,m["wysiwyg-tmp-selected-cell"]=1),s=a.getAttribute("class"),s&&(o=o.concat(s.split(c))),t=o.length;for(;n<t;n++)y=o[n],m[y]&&r.push(y);r.length&&(g["class"]=wysihtml5.lang.array(r).unique().join(" "))}g["class"]&&f&&(g["class"]=g["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(g["class"])&&delete g["class"]),q.length&&(g.style=wysihtml5.lang.array(q).unique().join(" "));for(A in g)try{b.setAttribute(A,g[A])}catch(E){}g.src&&(typeof g.width!="undefined"&&b.setAttribute("width",g.width),typeof g.height!="undefined"&&b.setAttribute("height",g.height))}function p(a,b){b=b.toLowerCase();var c=a.nodeName;if(c=="IMG"&&b=="src"&&q(a)===!0)return a.src;if(o&&"outerHTML"in a){var d=a.outerHTML.toLowerCase(),e=d.indexOf(" "+b+"=")!=-1;return e?a.getAttribute(b):null}return a.getAttribute(b)}function q(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(b){if(a.complete&&a.readyState==="complete")return!0}}function s(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(r,"")+b.data.replace(r,"");else{var c=a.data.replace(r,"");return a.ownerDocument.createTextNode(c)}}function t(a){if(e.comments)return a.ownerDocument.createComment(a.nodeValue)}var a={1:i,3:s,8:t},b="span",c=/\s+/,d={tags:{},classes:{}},e={},f=!1,o=!wysihtml5.browser.supportsGetAttributeCorrectly(),r=/\uFEFF/g,u={url:function(){var a=/^https?:\/\//i;return function(b){return!b||!b.match(a)?null:b.replace(a,function(a){return a.toLowerCase()})}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return!b||!b.match(a)?null:b.replace(a,function(a){return a.toLowerCase()})}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:)/i;return function(b){return!b||!b.match(a)?null:b.replace(a,function(a){return a.toLowerCase()})}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b){return b?b.replace(a,""):""}}(),numbers:function(){var a=/\D/g;return function(b){return b=(b||"").replace(a,""),b||null}}(),any:function(){return function(a){return a}}()},v={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},w={align_img:function(){var a={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},x={has_visible_contet:function(){var a,b=!1,c=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(b){a=(b.innerText||b.textContent).replace(/\s/g,"");if(a&&a.length>0)return!0;for(var d=c.length;d--;)if(b.querySelector(c[d]))return!0;return b.offsetWidth&&b.offsetWidth>0&&b.offsetHeight&&b.offsetHeight>0?!0:!1}}()};return g}(),wysihtml5.dom.removeEmptyTextNodes=function(a){var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;for(;e<d;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&b.data===""&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){var c=a.ownerDocument.createElement(b),d;while(d=a.firstChild)c.appendChild(d);return wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(c),a.parentNode.replaceChild(c,a),c},wysihtml5.dom.replaceWithChildNodes=function(a){if(!a.parentNode)return;if(!a.firstChild){a.parentNode.removeChild(a);return}var b=a.ownerDocument.createDocumentFragment();while(a.firstChild)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null},function(a){function b(b){return a.getStyle("display").from(b)==="block"}function c(a){return a.nodeName==="BR"}function d(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}function e(a,e){if(!a.nodeName.match(/^(MENU|UL|OL)$/))return;var f=a.ownerDocument,g=f.createDocumentFragment(),h=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),i,j,k,l,m,n;if(e){h&&!b(h)&&!c(h)&&d(g);while(n=a.firstElementChild||a.firstChild){j=n.lastChild;while(i=n.firstChild)k=i===j,l=k&&!b(i)&&!c(i),g.appendChild(i),l&&d(g);n.parentNode.removeChild(n)}}else while(n=a.firstElementChild||a.firstChild){if(n.querySelector&&n.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))while(i=n.firstChild)g.appendChild(i);else{m=f.createElement("p");while(i=n.firstChild)m.appendChild(i);g.appendChild(m)}n.parentNode.removeChild(n)}a.parentNode.replaceChild(g,a)}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],e=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.editableArea=this._createIframe()},insertInto:function(a){typeof a=="string"&&(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var c=this,d=b.createElement("iframe");return d.className="wysihtml5-sandbox",a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src="javascript:'<html></html>'"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(!a.dom.contains(b.documentElement,f))return;var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||"utf-8",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});i.open("text/html","replace"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error("wysihtml5.Sandbox: "+a,b,c)};if(!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;l<m;l++)this._unset(h,c[l]);for(l=0,m=d.length;l<m;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;l<m;l++)this._unset(i,e[l]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){g.callback(g)},0)},_getHtml:function(b){var c=b.stylesheets,d="",e=0,f;c=typeof c=="string"?[c]:c;if(c){f=c.length;for(;e<f;e++)d+='<link rel="stylesheet" href="'+c[e]+'">'}return b.stylesheets=d,a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),d?this.element=this._bindElement(d):this.element=this._createElement()},_createElement:function(){var a=b.createElement("div");return a.className="wysihtml5-sandbox",this._loadElement(a),a},_bindElement:function(a){return a.className=a.className&&a.className!=""?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(a,!0),a},_loadElement:function(a,b){var c=this;if(!b){var d=this._getHtml();a.innerHTML=d}this.getWindow=function(){return a.ownerDocument.defaultView},this.getDocument=function(){return a.ownerDocument},this.loaded=!0,setTimeout(function(){c.callback(c)},0)},_getHtml:function(a){return""}})}(wysihtml5),function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if(typeof a=="string"){c.cssText+=";"+a;return}for(var d in a)d==="float"?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d){var e="placeholder",f=function(){var b=c.element.offsetWidth>0&&c.element.offsetHeight>0;c.hasPlaceholderSet()&&(c.clear(),c.element.focus(),b&&setTimeout(function(){var a=c.selection.getSelection();(!a.focusNode||!a.anchorNode)&&c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,e)},g=function(){c.isEmpty()&&(c.placeholderSet=!0,c.setValue(d),a.addClass(c.element,e))};b.on("set_placeholder",g).on("unset_placeholder",f).on("focus:composer",f).on("paste:composer",f).on("blur:composer",g),g()}}(wysihtml5.dom),function(a){var b=document.documentElement;"textContent"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):"innerText"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c=!wysihtml5.browser.supportsGetAttributeCorrectly();b=b.toLowerCase();var d=a.nodeName;if(d=="IMG"&&b=="src"&&_isLoadedImage(a)===!0)return a.src;if(c&&"outerHTML"in a){var e=a.outerHTML.toLowerCase(),f=e.indexOf(" "+b+"=")!=-1;return f?a.getAttribute(b):null}return a.getAttribute(b)},function(a){function f(a,b){var c=[],d;for(var e=0,f=a.length;e<f;e++){d=a[e].querySelectorAll(b);if(d)for(var g=d.length;g--;c.unshift(d[g]));}return c}function g(a){a.parentNode.removeChild(a)}function h(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function i(a,b){var c=a.nextSibling;while(c.nodeType!=1){c=c.nextSibling;if(!b||b==c.tagName.toLowerCase())return c}return null}var b=a.dom,d=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},e=function(a,c){a?(this.cell=a,this.table=b.getParentElement(a,{nodeName:["TABLE"]})):c&&(this.table=c,this.cell=this.table.querySelectorAll("th, td")[0])};e.prototype={addSpannedCellToMap:function(a,b,c,e,f,g){var h=[],i=c+(g?parseInt(g,10)-1:0),j=e+(f?parseInt(f,10)-1:0);for(var k=c;k<=i;k++){typeof b[k]=="undefined"&&(b[k]=[]);for(var l=e;l<=j;l++)b[k][l]=new d(a),b[k][l].isColspan=f&&parseInt(f,10)>1,b[k][l].isRowspan=g&&parseInt(g,10)>1,b[k][l].firstCol=l==e,b[k][l].lastCol=l==j,b[k][l].firstRow=k==c,b[k][l].lastRow=k==i,b[k][l].isReal=l==e&&k==c,b[k][l].spanCollection=h,h.push(b[k][l])}},setCellAsModified:function(a){a.modified=!0;if(a.spanCollection.length>0)for(var b=0,c=a.spanCollection.length;b<c;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],c=this.getTableRows(),e,f,g,h,i,j,k,l;for(e=0;e<c.length;e++){f=c[e],g=this.getRowCells(f),j=0,typeof a[e]=="undefined"&&(a[e]=[]);for(h=0;h<g.length;h++){i=g[h];while(typeof a[e][j]!="undefined")j++;k=b.getAttribute(i,"colspan"),l=b.getAttribute(i,"rowspan"),k||l?(this.addSpannedCellToMap(i,a,e,j,k,l),j=j+(k?parseInt(k,10):1)):(a[e][j]=new d(i),j++)}}return this.map=a,a},getRowCells:function(b){var c=this.table.querySelectorAll("table"),d=c?f(c,"th, td"):[],e=b.querySelectorAll("th, td"),g=d.length>0?a.lang.array(e).without(d):e;return g},getTableRows:function(){var b=this.table.querySelectorAll("table"),c=b?f(b,"tr"):[],d=this.table.querySelectorAll("tr"),e=c.length>0?a.lang.array(d).without(c):d;return e},getMapIndex:function(a){var b=this.map.length,c=this.map&&this.map[0]?this.map[0].length:0;for(var d=0;d<b;d++)for(var e=0;e<c;e++)if(this.map[d][e].el===a)return{row:d,col:e};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var c=this.idx_start;this.idx_start=this.idx_end,this.idx_end=c}if(this.idx_start.col>this.idx_end.col){var d=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=d}if(this.idx_start!=null&&this.idx_end!=null)for(var e=this.idx_start.row,f=this.idx_end.row;e<=f;e++)for(var g=this.idx_start.col,h=this.idx_end.col;g<=h;g++)b.push(this.map[e][g].el);return b},orderSelectionEnds:function(a){this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){var d=this.table.ownerDocument,e=d.createDocumentFragment(),f;for(var g=0;g<b;g++){f=d.createElement(a);if(c)for(var h in c)c.hasOwnProperty(h)&&f.setAttribute(h,c[h]);f.appendChild(document.createTextNode("")),e.appendChild(f)}return e},correctColIndexForUnreals:function(a,b){var c=this.map[b],d=-1;for(var e=0,f=a;e<a;e++)c[e].isReal&&d++;return d},getLastNewCellOnRow:function(a,b){var c=this.getRowCells(a),d,e;for(var f=0,g=c.length;f<g;f++){d=c[f],e=this.getMapIndex(d);if(e===!1||typeof b!="undefined"&&e.row!=b)return d}return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");return!a||a.length==0?(g(this.table),!0):!1},splitRowToCells:function(a){if(a.isColspan){var c=parseInt(b.getAttribute(a.el,"colspan")||1,10),d=a.el.tagName.toLowerCase();if(c>1){var e=this.createCells(d,c-1);h(a.el,e)}a.el.removeAttribute("colspan")}},getRealRowEl:function(a,c){var d=null,e=null;c=c||this.idx;for(var f=0,g=this.map[c.row].length;f<g;f++){e=this.map[c.row][f];if(e.isReal){d=b.getParentElement(e.el,{nodeName:["TR"]});if(d)return d}}return d===null&&a&&(d=b.getParentElement(this.map[c.row][c.col].el,{nodeName:["TR"]})||null),d},injectRowAt:function(a,c,d,e,f){var g=this.getRealRowEl(!1,{row:a,col:c}),i=this.createCells(e,d);if(g){var j=this.correctColIndexForUnreals(c,a);j>=0?h(this.getRowCells(g)[j],i):g.insertBefore(i,g.firstChild)}else{var k=this.table.ownerDocument.createElement("tr");k.appendChild(i),h(b.getParentElement(f.el,{nodeName:["TR"]}),k)}},canMerge:function(a){this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var b=this.idx_start;this.idx_start=this.idx_end,this.idx_end=b}if(this.idx_start.col>this.idx_end.col){var c=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=c}for(var d=this.idx_start.row,e=this.idx_end.row;d<=e;d++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,c){var d=parseInt(b.getAttribute(a.el,c),10)-1;d>=1?a.el.setAttribute(c,d):(a.el.removeAttribute(c),c=="colspan"&&(a.isColspan=!1),c=="rowspan"&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,c,d,e,f,h,i;this.setTableMap();if(this.map){d=0,e=this.map.length;for(;d<e;d++){a=this.map[d],i=!0,f=0,h=a.length;for(;f<h;f++){c=a[f];if(!(b.getAttribute(c.el,"rowspan")&&parseInt(b.getAttribute(c.el,"rowspan"),10)>1&&c.firstRow!==!0)){i=!1;break}}if(i){f=0;for(;f<h;f++)this.decreaseCellSpan(a[f],"rowspan")}}var j=this.getTableRows();d=0,e=j.length;for(;d<e;d++)a=j[d],a.childNodes.length==0&&/^\s*$/.test(a.textContent||a.innerText)&&g(a)}},fillMissingCells:function(){var a=0,b=0,c=null;this.setTableMap();if(this.map){a=this.map.length;for(var e=0;e<a;e++)this.map[e].length>b&&(b=this.map[e].length);for(var f=0;f<a;f++)for(var g=0;g<b;g++)this.map[f]&&!this.map[f][g]&&g>0&&(this.map[f][g]=new d(this.createCells("td",1)),c=this.map[f][g-1],c&&c.el&&c.el.parent&&h(this.map[f][g-1].el,this.map[f][g].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()){this.setTableMap(),this.idx=this.getMapIndex(this.cell);if(this.idx){var a=this.map[this.idx.row][this.idx.col],c=b.getAttribute(a.el,"colspan")?parseInt(b.getAttribute(a.el,"colspan"),10):1,d=a.el.tagName.toLowerCase();if(a.isRowspan){var e=parseInt(b.getAttribute(a.el,"rowspan"),10);if(e>1)for(var f=1,g=e-1;f<=g;f++)this.injectRowAt(this.idx.row+f,this.idx.col,c,d,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}}},merge:function(a){if(this.rectify())if(this.canMerge(a)){var b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1;for(var d=this.idx_start.row,e=this.idx_end.row;d<=e;d++)for(var f=this.idx_start.col,h=this.idx_end.col;f<=h;f++)d==this.idx_start.row&&f==this.idx_start.col?(b>1&&this.map[d][f].el.setAttribute("rowspan",b),c>1&&this.map[d][f].el.setAttribute("colspan",c)):(/^\s*<br\/?>\s*$/.test(this.map[d][f].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[d][f].el.innerHTML),g(this.map[d][f].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var c=this.getMapIndex(a.el),d=c.row+1,e={row:d,col:c.col};if(d<this.map.length){var f=this.getRealRowEl(!1,e);if(f!==null){var g=this.correctColIndexForUnreals(e.col,e.row);if(g>=0)h(this.getRowCells(f)[g],a.el);else{var i=this.getLastNewCellOnRow(f,d);i!==null?h(i,a.el):f.insertBefore(a.el,f.firstChild)}parseInt(b.getAttribute(a.el,"rowspan"),10)>2?a.el.setAttribute("rowspan",parseInt(b.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")}}},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):g(a.el):parseInt(b.getAttribute(a.el,"rowspan"),10)>2?a.el.setAttribute("rowspan",parseInt(b.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap(),this.idx=this.getMapIndex(this.cell);if(this.idx!==!1){var b=this.map[this.idx.row];for(var c=0,d=b.length;c<d;c++)b[c].isReal&&a.push(b[c].el)}return a},getColumnElementsByCell:function(){var a=[];this.setTableMap(),this.idx=this.getMapIndex(this.cell);if(this.idx!==!1)for(var b=0,c=this.map.length;b<c;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=b.getParentElement(this.cell,{nodeName:["TR"]});if(a){this.setTableMap(),this.idx=this.getMapIndex(this.cell);if(this.idx!==!1){var c=this.map[this.idx.row];for(var d=0,e=c.length;d<e;d++)c[d].modified||(this.setCellAsModified(c[d]),this.removeRowCell(c[d]))}g(a)}},removeColCell:function(a){a.isColspan?parseInt(b.getAttribute(a.el,"colspan"),10)>2?a.el.setAttribute("colspan",parseInt(b.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&g(a.el)},removeColumn:function(){this.setTableMap(),this.idx=this.getMapIndex(this.cell);if(this.idx!==!1)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(a){var c=this.table.ownerDocument;this.setTableMap(),this.idx=this.getMapIndex(this.cell),a=="below"&&b.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(b.getAttribute(this.cell,"rowspan"),10)-1);if(this.idx!==!1){var d=this.map[this.idx.row],e=c.createElement("tr");for(var f=0,g=d.length;f<g;f++)d[f].modified||(this.setCellAsModified(d[f]),this.addRowCell(d[f],e,a));switch(a){case"below":h(this.getRealRowEl(!0),e);break;case"above":var i=b.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});i&&i.parentNode.insertBefore(e,i)}}},addRowCell:function(a,d,e){var f=a.isColspan?{colspan:b.getAttribute(a.el,"colspan")}:null;a.isReal?e!="above"&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(b.getAttribute(a.el,"rowspan"),10)+1):d.appendChild(this.createCells("td",1,f)):e!="above"&&a.isRowspan&&a.lastRow?d.appendChild(this.createCells("td",1,f)):c.isRowspan&&a.el.attr("rowspan",parseInt(b.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&((a=="below"||a=="above")&&this.addRow(a),(a=="before"||a=="after")&&this.addColumn(a))},addColCell:function(a,d,e){var f,g=a.el.tagName.toLowerCase();switch(e){case"before":f=!a.isColspan||a.firstCol;break;case"after":f=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(f){switch(e){case"before":a.el.parentNode.insertBefore(this.createCells(g,1),a.el);break;case"after":h(a.el,this.createCells(g,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,d+1,e)}else a.el.setAttribute("colspan",parseInt(b.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var c,d;this.setTableMap(),this.idx=this.getMapIndex(this.cell),a=="after"&&b.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(b.getAttribute(this.cell,"colspan"),10)-1);if(this.idx!==!1)for(var e=0,f=this.map.length;e<f;e++)c=this.map[e],c[this.idx.col]&&(d=c[this.idx.col],d.modified||(this.setCellAsModified(d),this.addColCell(d,e,a)))},handleCellAddWithRowspan:function(a,c,d){var e=parseInt(b.getAttribute(this.cell,"rowspan"),10)-1,f=b.getParentElement(a.el,{nodeName:["TR"]}),g=a.el.tagName.toLowerCase(),j,k,l=this.table.ownerDocument,m;for(var n=0;n<e;n++){j=this.correctColIndexForUnreals
(this.idx.col,c+n),f=i(f,"tr");if(f)if(j>0)switch(d){case"before":k=this.getRowCells(f),j>0&&this.map[c+n][this.idx.col].el!=k[j]&&j==k.length-1?h(k[j],this.createCells(g,1)):k[j].parentNode.insertBefore(this.createCells(g,1),k[j]);break;case"after":h(this.getRowCells(f)[j],this.createCells(g,1))}else f.insertBefore(this.createCells(g,1),f.firstChild);else m=l.createElement("tr"),m.appendChild(this.createCells(g,1)),this.table.appendChild(m)}}},b.table={getCellsBetween:function(a,b){var c=new e(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new e(a);c.add(b)},removeCells:function(a,b){var c=new e(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new e(a);c.merge(b)},unmergeCell:function(a){var b=new e(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new e(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new e(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new e(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new e(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new e(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new e(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c=[],d;a.nodeType&&(a=[a]);for(var e=0,f=a.length;e<f;e++){d=a[e].querySelectorAll(b);if(d)for(var g=d.length;g--;c.unshift(d[g]));}return c},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d;a.nodeType===9?c=a:c=a.ownerDocument,b.nodeType===9?d=b:d=b.ownerDocument;if(a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(a.nodeType===2&&a.childNodes&&wysihtml5.lang.array(a.childNodes).indexOf(b)!==-1)return 20;if(b.nodeType===2&&b.childNodes&&wysihtml5.lang.array(b.childNodes).indexOf(a)!==-1)return 10;var e=a,f=[],g=null;while(e){if(e==b)return 10;f.push(e),e=e.parentNode}e=b,g=null;while(e){if(e==a)return 20;var h=wysihtml5.lang.array(f).indexOf(e);if(h!==-1){var i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g);return j>k?2:4}g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){if(a.parentNode){while(a.lastChild)wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}},wysihtml5.quirks.cleanPastedHTML=function(){function b(b,c,d){c=c||a,d=d||b.ownerDocument||document;var e,f=typeof b=="string",g,h,i,j,k=0,l;f?e=wysihtml5.dom.getAsDom(b,d):e=b;for(j in c){h=e.querySelectorAll(j),g=c[j],i=h.length;for(;k<i;k++)g(h[k])}var m=wysihtml5.dom.getTextNodes(e);for(l=m.length;l--;)m[l].nodeValue=m[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return h=b=c=null,f?e.innerHTML:e}var a={"a u":wysihtml5.dom.replaceWithChildNodes};return b}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if(b=="<p>&nbsp;</p>"||b=="<p>&nbsp;</p><p>&nbsp;</p>")a.innerHTML=""},0)};return function(b){wysihtml5.dom.observe(b.element,["cut","keydown"],a)}}(),function(a){var b="%7E";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(d.indexOf(b)===-1)return d;var e=c.querySelectorAll("[href*='~'], [src*='~']"),f,g,h,i;for(i=0,h=e.length;i<h;i++)f=e[i].href||e[i].src,g=a.lang.string(f).replace("~").by(b),d=a.lang.string(d).replace(g).by(f);return d}}(wysihtml5),function(a){var b="wysihtml5-quirks-redraw";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand("italic",!1,null),d.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function h(){return c.observe(a,"mousedown",function(a){var b=wysihtml5.dom.getParentElement(a.target,{nodeName:["TD","TH"]});b&&i(b)}),d}function i(h){d.start=h,d.end=h,d.cells=[h],d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(j(),c.addClass(h,e),f=c.observe(a,"mousemove",l),g=c.observe(a,"mouseup",m),b.fire("tableselectstart").fire("tableselectstart:composer"))}function j(){if(a){var b=a.querySelectorAll("."+e);if(b.length>0)for(var d=0;d<b.length;d++)c.removeClass(b[d],e)}}function k(a){for(var b=0;b<a.length;b++)c.addClass(a[b],e)}function l(a){var e=null,f=c.getParentElement(a.target,{nodeName:["TD","TH"]}),g;f&&d.table&&d.start&&(e=c.getParentElement(f,{nodeName:["TABLE"]}),e&&e===d.table&&(j(),g=d.end,d.end=f,d.cells=c.table.getCellsBetween(d.start,f),d.cells.length>1&&b.composer.selection.deselect(),k(d.cells),d.end!==g&&b.fire("tableselectchange").fire("tableselectchange:composer")))}function m(a){f.stop(),g.stop(),b.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){n()},0)}function n(){var e=c.observe(a.ownerDocument,"click",function(a){e.stop(),c.getParentElement(a.target,{nodeName:["TABLE"]})!=d.table&&(j(),d.table=null,d.start=null,d.end=null,b.fire("tableunselect").fire("tableunselect:composer"))})}function o(a,e){d.start=a,d.end=e,d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=c.table.getCellsBetween(d.start,d.end),k(selectedCells),n(),b.fire("tableselect").fire("tableselect:composer")}var c=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:o},e="wysiwyg-tmp-selected-cell",f=null,g=null;return h()},function(a){var b=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,d=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,e=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,f=function(a){return new RegExp("(^|\\s|;)"+a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={parseColor:function(g,h){var i=f(h),j=g.match(i),k=10,l,m;if(j){for(var n=j.length;n--;)j[n]=a.lang.string(j[n].split(":")[1]).trim();l=j[j.length-1];if(b.test(l))m=l.match(b);else if(c.test(l))m=l.match(c);else if(d.test(l))m=l.match(d),k=16;else if(e.test(l))return m=l.match(e),m.shift(),m.push(1),a.lang.array(m).map(function(a,b){return b<3?parseInt(a,16)*16+parseInt(a,16):parseFloat(a)});if(m)return m.shift(),m[3]||m.push(1),a.lang.array(m).map(function(a,b){return b<3?parseInt(a,k):parseFloat(a)})}return!1},unparseColor:function(a,b){if(b){if(b=="hex")return a[0].toString(16).toUpperCase()+a[1].toString(16).toUpperCase()+a[2].toString(16).toUpperCase();if(b=="hash")return"#"+a[0].toString(16).toUpperCase()+a[1].toString(16).toUpperCase()+a[2].toString(16).toUpperCase();if(b=="rgb")return"rgb("+a[0]+","+a[1]+","+a[2]+")";if(b=="rgba")return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")";if(b=="csv")return a[0]+","+a[1]+","+a[2]+","+a[3]}return a[3]&&a[3]!==1?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(b){var c=b.match(f("font-size"));return c?a.lang.string(c[c.length-1].split(":")[1]).trim():!1}}}(wysihtml5),function(a){function c(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function d(a,b){var c=0;while(b!==a){c++,b=b.parentNode;if(!b)throw new Error("not a descendant of ancestor!")}return c}function e(a){if(a.canSurroundContents())return;var b=a.commonAncestorContainer,c=d(b,a.startContainer),e=d(b,a.endContainer);while(!a.canSurroundContents())c>e?(a.setStartBefore(a.startContainer),c=d(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=d(b,a.endContainer))}var b=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&&e(a),a&&a.cloneRange()},setBookmark:function(a){if(!a)return;this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},setAfter:function(a){var b=rangy.createRange(this.doc);return b.setStartAfter(a),b.setEndAfter(a),this.setSelection(b)},selectNode:function(c,d){var e=rangy.createRange(this.doc),f=c.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in c?c.canHaveHTML:c.nodeName!=="IMG",h=f?c.innerHTML:c.data,i=h===""||h===a.INVISIBLE_SPACE,j=b.getStyle("display").from(c),k=j==="block"||j==="list-item";if(i&&f&&g&&!d)try{c.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?e.selectNodeContents(c):e.selectNode(c),g&&i&&f?e.collapse(k):g&&i&&(e.setStartAfter(c),e.setEndAfter(c)),this.setSelection(e)},getSelectedNode:function(a){var b,c;if(a&&this.doc.selection&&this.doc.selection.type==="Control"){c=this.doc.selection.createRange();if(c&&c.length)return c.item(0)}return b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body)},fixSelBorders:function(){var a=this.getRange();e(a),this.setSelection(a)},getSelectedOwnNodes:function(a){var b,c=this.getOwnRanges(),d=[];for(var e=0,f=c.length;e<f;e++)d.push(c[e].commonAncestorContainer||this.doc.body);return d},findNodesInSelection:function(b){var c=this.getOwnRanges(),d=[],e;for(var f=0,g=c.length;f<g;f++)e=c[f].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),d=d.concat(e);return d},containsUneditable:function(){var a=this.getOwnUneditables(),b=this.getSelection();for(var c=0,d=a.length;c<d;c++)if(b.containsNode(a[c]))return!0;return!1},deleteContents:function(){var a=this.getOwnRanges();for(var b=a.length;b--;)a[b].deleteContents();this.setSelection(a[0])},getPreviousNode:function(b,c){if(!b){var d=this.getSelection();b=d.anchorNode}if(b===this.contain)return!1;var e=b.previousSibling,f;return e===this.contain?!1:(e&&e.nodeType!==3&&e.nodeType!==1?e=this.getPreviousNode(e,c):e&&e.nodeType===3&&/^\s*$/.test(e.textContent)?e=this.getPreviousNode(e,c):c&&e&&e.nodeType===1&&!a.lang.array(["BR","HR","IMG"]).contains(e.nodeName)&&/^[\s]*$/.test(e.innerHTML)?e=this.getPreviousNode(e,c):!e&&b!==this.contain&&(f=b.parentNode,f!==this.contain&&(e=this.getPreviousNode(f,c))),e!==this.contain?e:!1)},getSelectionParentsByTag:function(b){var c=this.getSelectedOwnNodes(),d,e=[];for(var f=0,g=c.length;f<g;f++)d=c[f].nodeName&&c[f].nodeName==="LI"?c[f]:a.dom.getParentElement(c[f],{nodeName:["LI"]},!1,this.contain),d&&e.push(d);return e.length?e:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=rangy.createRange(this.doc),b=this.getSelection(),c=this.getRangeToNodeEnd().cloneContents(),d=c.textContent;return/^\s*$/.test(d)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e.nodeType===a.TEXT_NODE?this.isCollapsed()&&e.nodeType===a.TEXT_NODE&&/^\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&&(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&&b.startOffset===c.anchorOffset)},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b?e===0&&(d.nodeName&&d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{nodeName:b},1)):e===0&&!this.getPreviousNode(d,!0)},caretIsBeforeUneditable:function(){var a=this.getSelection(),b=a.anchorNode,c=a.anchorOffset;if(c===0){var d=this.getPreviousNode(b,!0);if(d){var e=this.getOwnUneditables();for(var f=0,g=e.length;f<g;f++)if(d===e[f])return e[f]}}return!1},executeAndRestoreRangy:function(a,b){var c=this.doc.defaultView||this.doc.parentWindow,d=rangy.saveSelection(c);if(!d)a();else try{a()}catch(e){setTimeout(function(){throw e},0)}rangy.restoreSelection(d)},executeAndRestore:function(c,d){var e=this.doc.body,f=d&&e.scrollTop,g=d&&e.scrollLeft,h="_wysihtml5-temp-placeholder",i='<span class="'+h+'">'+a.INVISIBLE_SPACE+"</span>",j=this.getRange(!0),k,l,m,n,o,p,q,r;if(!j){c(e,e);return}j.collapsed||(q=j.cloneRange(),p=q.createContextualFragment(i),q.collapse(!1),q.insertNode(p),q.detach()),o=j.createContextualFragment(i),j.insertNode(o),p&&(k=this.contain.querySelectorAll("."+h),j.setStartBefore(k[0]),j.setEndAfter(k[k.length-1])),this.setSelection(j);try{c(j.startContainer,j.endContainer)}catch(s){setTimeout(function(){throw s},0)}k=this.contain.querySelectorAll("."+h);if(k&&k.length){r=rangy.createRange(this.doc),m=k[0].nextSibling,k.length>1&&(n=k[k.length-1].previousSibling),n&&m?(r.setStartBefore(m),r.setEndAfter(n)):(l=this.doc.createTextNode(a.INVISIBLE_SPACE),b.insert(l).after(k[0]),r.setStartBefore(l),r.setEndAfter(l)),this.setSelection(r);for(var t=k.length;t--;)k[t].parentNode.removeChild(k[t])}else this.contain.focus();d&&(e.scrollTop=f,e.scrollLeft=g);try{k.parentNode.removeChild(k)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b=rangy.createRange(this.doc),c=b.createContextualFragment(a),d=c.lastChild;this.insertNode(c),d&&this.setAfter(d)},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},surround:function(a){var b=this.getOwnRanges(),c,d=[];if(b.length==0)return d;for(var e=b.length;e--;){c=this.doc.createElement(a.nodeName),d.push(c),a.className&&(c.className=a.className),a.cssStyle&&c.setAttribute("style",a.cssStyle);try{b[e].surroundContents(c),this.selectNode(c)}catch(f){c.appendChild(b[e].extractContents()),b[e].insertNode(c)}}return d},deblockAndSurround:function(b){var c=this.doc.createElement("div"),d=rangy.createRange(this.doc),e,f,g;c.className=b.className,this.composer.commands.exec("formatBlock",b.nodeName,b.className),e=this.contain.querySelectorAll("."+b.className);if(e[0]){e[0].parentNode.insertBefore(c,e[0]),d.setStartBefore(e[0]),d.setEndAfter(e[e.length-1]),f=d.extractContents();while(f.firstChild){g=f.firstChild;if(g.nodeType==1&&a.dom.hasClass(g,b.className)){while(g.firstChild)c.appendChild(g.firstChild);g.nodeName!=="BR"&&c.appendChild(this.doc.createElement("br")),f.removeChild(g)}else c.appendChild(g)}}else c=null;return c},scrollIntoView:function(){var b=this.doc,d=5,e=b.documentElement.scrollHeight>b.documentElement.offsetHeight,f=b._wysihtml5ScrollIntoViewElement=b._wysihtml5ScrollIntoViewElement||function(){var c=b.createElement("span");return c.innerHTML=a.INVISIBLE_SPACE,c}(),g;e&&(this.insertNode(f),g=c(f),f.parentNode.removeChild(f),g>=b.body.scrollTop+b.documentElement.offsetHeight-d&&(b.body.scrollTop=g))},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var a=this.doc.defaultView,b=a.getSelection();b.modify("move","left","lineboundary"),b.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var a=this.doc.selection.createRange(),b=a.boundingTop,c=this.doc.body.scrollWidth,d,e,f,g,h;if(!a.moveToPoint)return;b===0&&(f=this.doc.createElement("span"),this.insertNode(f),b=f.offsetTop,f.parentNode.removeChild(f)),b+=1;for(g=-10;g<c;g+=2)try{a.moveToPoint(g,b);break}catch(i){}d=b,e=this.doc.selection.createRange();for(h=c;h>=0;h--)try{e.moveToPoint(h,d);break}catch(j){}a.setEndPoint("EndToEnd",e),a.select()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes([a],b):[]},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);if(b!==2)b===1&&a.setStartBefore(this.contain.firstChild),b===0&&a.setEndAfter(this.contain.lastChild),b===3&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(a)){var c=a.endContainer.previousElementSibling;c&&a.setEnd(c,this._endOffsetForNode(c))}}},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var c=b.compareDocumentPosition(a.startContainer,a.endContainer);return a.endOffset==0&&c&4},getRange:function(a){var b=this.getSelection(),c=b&&b.rangeCount&&b.getRangeAt(0);return a!==!0&&this.fixRangeOverflow(c),c},getOwnUneditables:function(){var c=b.query(this.contain,"."+this.unselectableClass),d=b.query(c,"."+this.unselectableClass);return a.lang.array(c).without(d)},getOwnRanges:function(){var a=[],b=this.getRange(),c;b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var d=this.getOwnUneditables(),e;if(d.length>0)for(var f=0,g=d.length;f<g;f++){c=[];for(var h=0,i=a.length;h<i;h++){if(a[h])switch(a[h].compareNode(d[f])){case 2:break;case 3:e=a[h].cloneRange(),e.setEndBefore(d[f]),c.push(e),e=a[h].cloneRange(),e.setStartAfter(d[f]),c.push(e);break;default:c.push(a[h])}a=c}}}return a},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(a){var b=this.doc.defaultView||this.doc.parentWindow,c=rangy.getSelection(b);return c.setSingleRange(a)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;d.nodeType===a.TEXT_NODE&&(d=d.parentNode);if(e.nodeType===a.TEXT_NODE&&!/^\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&&!/^\s*$/.test(f.data.substr(c.endOffset)))return!1;while(e&&e!==d){if(e.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}while(f&&f!==d){if(f.nodeType!==a.TEXT_NODE&&!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},deselect:function(){var a=this.getSelection();a&&a.removeAllRanges()}})}(wysihtml5),function(a,b){function e(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function f(a,b){if(!a.getAttribute||!a.getAttribute("style"))return!1;var c=a.getAttribute("style").match(b);return a.getAttribute("style").match(b)?!0:!1}function g(a,b,c){a.getAttribute("style")?(j(a,c),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",b+";"+a.getAttribute("style")):a.setAttribute("style",b)):a.setAttribute("style",b)}function h(a,b,c){a.className?(i(a,c),a.className+=" "+b):a.className=b}function i(a,b){a.className&&(a.className=a.className.replace(b,""))}function j(a,b){var c,d=[];if(a.getAttribute("style")){c=a.getAttribute("style").split(";");for(var e=c.length;e--;)!c[e].match(b)&&!/^\s*$/.test(c[e])&&d.push(c[e]);d.length?a.setAttribute("style",d.join(";")):a.removeAttribute("style")}}function k(a,b){var c=[],d=b.split(";"),e=a.getAttribute("style");if(e){e=e.replace(/\s/gi,"").toLowerCase(),c.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var f=d.length;f-->0;)/^\s*$/.test(d[f])||c.push(new RegExp("(^|\\s|;)"+d[f].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var g=0,h=c.length;g<h;g++)if(e.match(c[g]))return c[g]}return!1}function l(c,d,e,f){return e?k(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function m(a,b,c,d){for(var e=a.length;e--;)if(!l(a[e],b,c,d))return!1;return a.length?!0:!1}function n(a,b,c){var d=k(a,b);return d?(j(a,d),"remove"):(g(a,b,c),"change")}function o(a,b){return a.className.replace(d," ")==b.className.replace(d," ")}function p(a){var b=a.parentNode;while(a.firstChild)b.insertBefore(a.firstChild,a);b.removeChild(a)}function q(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c=0,d=a.attributes.length,e,f,g;c<d;++c){e=a.attributes[c],g=e.name;if(g!="class"){f=b.attributes.getNamedItem(g);if(e.specified!=f.specified)return!1;if(e.specified&&e.nodeValue!==f.nodeValue)return!1}}return!0}function r(a,c){return b.dom.isCharacterDataNode(a)?c==0?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function s(a,c,d,e){var f;b.dom.isCharacterDataNode(c)&&(d==0?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d));if(!f)if(!e||c!==e){f=c.cloneNode(!1),f.id&&f.removeAttribute("id");var g;while(g=c.childNodes[d])f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:s(a,f.parentNode,b.dom.getNodeIndex(f),e)}function t(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function u(a,b,d,e,f,g,h){this.tagNames=a||[c],this.cssClass=b||(b===!1?!1:""),this.similarClassRegExp=d,this.cssStyle=f||"",this.similarStyleRegExp=g,this.normalize=e,this.applyToAnyTagName=!1,this.container=h}var c="span",d=/\s+/g;t.prototype={doMerge:function(){var a=[],b,c,d;for(var e=0,f=this.textNodes.length;e<f;++e)b=this.textNodes[e],c=b.parentNode,a[e]=b.data,e&&(c.removeChild(b),c.hasChildNodes()||c.parentNode.removeChild(c));return this.firstTextNode.data=d=a.join(""),d},getLength:function(){var a=this.textNodes.length,b=0;while(a--)b+=this.textNodes[a].length;return b},toString:function(){var a=[];for(var b=0,c=this.textNodes.length;b<c;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}},u.prototype={getAncestorWithClass:function(c){var d;while(c){d=this.cssClass?e(c,this.cssClass,this.similarClassRegExp):this.cssStyle!==""?!1:!0;if(c.nodeType==a.ELEMENT_NODE&&c.getAttribute("contenteditable")!="false"&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&d)return c;c=c.parentNode}return!1},getAncestorWithStyle:function(c){var d;while(c){d=this.cssStyle?f(c,this.similarStyleRegExp):!1;if(c.nodeType==a.ELEMENT_NODE&&c.getAttribute("contenteditable")!="false"&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&d)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&&(c="class"):(b=this.getAncestorWithStyle(a),b&&(c="style")),{element:b,type:c}},postApply:function(a,b){var c=a[0],d=a[a.length-1],e=[],f,g=c,h=d,i=0,j=d.length,k,l;for(var m=0,n=a.length;m<n;++m)k=a[m],l=null,k&&k.parentNode&&(l=this.getAdjacentMergeableTextNode(k.parentNode,!1)),l?(f||(f=new t(l),e.push(f)),f.textNodes.push(k),k===c&&(g=f.firstTextNode,i=g.length),k===d&&(h=f.firstTextNode,j=f.getLength())):f=null;if(d&&d.parentNode){var o=this.getAdjacentMergeableTextNode(d.parentNode,!0);o&&(f||(f=new t(d),e.push(f)),f.textNodes.push(o))}if(e.length){for(m=0,n=e.length;m<n;++m)e[m].doMerge();b.setStart(g,i),b.setEnd(h,j)}},getAdjacentMergeableTextNode:function(b,c){var d=b.nodeType==a.TEXT_NODE,e=d?b.parentNode:b,f,g=c?"nextSibling":"previousSibling";if(d){f=b[g];if(f&&f.nodeType==a.TEXT_NODE)return f}else{f=e[g];if(f&&this.areElementsMergeable(b,f))return f[c?"firstChild":"lastChild"]}return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||"").toLowerCase())&&o(a,c)&&q(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),this.cssStyle&&b.setAttribute("style",this.cssStyle),b},applyToTextNode:function(a){var c=a.parentNode;if(c.childNodes.length==1&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&h(c,this.cssClass,this.similarClassRegExp),this.cssStyle&&g(c,this.cssStyle,this.similarStyleRegExp);else{var d=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(d,a),d.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&a.lang.string(c.className).trim()===""&&(!c.getAttribute("style")||a.lang.string(c.getAttribute("style")).trim()==="")},undoToTextNode:function(a,b,c,d){var e=c?!1:!0,f=c||d,g=!1;if(!b.containsNode(f)){var h=b.cloneRange();h.selectNode(f),h.isPointInRange(b.endContainer,b.endOffset)&&r(b.endContainer,b.endOffset)&&(s(f,b.endContainer,b.endOffset,this.container),b.setEndAfter(f)),h.isPointInRange(b.startContainer,b.startOffset)&&r(b.startContainer,b.startOffset)&&(f=s(f,b.startContainer,b.startOffset,this.container))}!e&&this.similarClassRegExp&&i(f,this.similarClassRegExp),e&&this.similarStyleRegExp&&(g=n(f,this.cssStyle,this.similarStyleRegExp)==="change"),this.isRemovable(f)&&!g&&p(f)},applyToRange:function(b){var c;for(var d=b.length;d--;){c=b[d].getNodes([a.TEXT_NODE]);if(!c.length)try{var e=this.createContainer(b[d].endContainer.ownerDocument);b[d].surroundContents(e),this.selectNode(b[d],e);return}catch(f){}b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]);if(c.length){var g;for(var h=0,i=c.length;h<i;++h)g=c[h],this.getMatchingAncestor(g).element||this.applyToTextNode(g);b[d].setStart(c[0],0),g=c[c.length-1],b[d].setEnd(g,g.length),this.normalize&&this.postApply(c,b[d])}}},undoToRange:function(b){var c,d,e,f,g;for(var h=b.length;h--;){c=b[h].getNodes([a.TEXT_NODE]);if(c.length)b[h].splitBoundaries(),c=b[h].getNodes([a.TEXT_NODE]);else{var i=b[h].endContainer.ownerDocument,j=i.createTextNode(a.INVISIBLE_SPACE);b[h].insertNode(j),b[h].selectNode(j),c=[j]}for(var k=0,l=c.length;k<l;++k)b[h].isValid()&&(d=c[k],g=this.getMatchingAncestor(d),g.type==="style"?this.undoToTextNode(d,b[h],!1,g.element):g.element&&this.undoToTextNode(d,b[h],g.element));l==1?this.selectNode(b[h],c[0]):(b[h].setStart(c[0],0),d=c[c.length-1],b[h].setEnd(d,d.length),this.normalize&&this.postApply(c,b[h]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e="canHaveHTML"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=f===""||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():"";return c.detach(),e},isAppliedToRange:function(b){var c=[],d="full",e,f,g;for(var h=b.length;h--;){g=b[h].getNodes([a.TEXT_NODE]);if(!g.length)return e=this.getMatchingAncestor(b[h].startContainer).element,e?{elements:[e],coverage:d}:!1;for(var i=0,j=g.length,k;i<j;++i)k=this.getTextSelectedByRange(g[i],b[h]),e=this.getMatchingAncestor(g[i]).element,e&&k!=""?(c.push(e),a.dom.getTextNodes(e,!0).length===1?d="full":d==="full"&&(d="inline")):e||(d="partial")}return c.length?{elements:c,coverage:d}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a),c;b?b.coverage==="full"?this.undoToRange(a):b.coverage==="inline"?(c=m(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),c||this.applyToRange(a)):(m(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=u}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;this.editor.fire("beforecommand:composer");if(e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire("aftercommand:composer"),f},state:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.state;if(e)return d.unshift(this.composer),e.apply(c,d);try{return this.doc.queryCommandState(a)}catch(f){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),wysihtml5.commands.bold={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,"b")},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,"b")}},function(a){function e(e,f){var g=e.doc,h="_wysihtml5-temp-"+ +(new Date),i=/non-matching-class/g,j=0,k,l,m,n,o,p,q,r,s;a.commands.formatInline.exec(e,b,c,h,i,b,b,!0,!0),l=g.querySelectorAll(c+"."+h),k=l.length;for(;j<k;j++){m=l[j],m.removeAttribute("class");for(s in f)s!=="text"&&m.setAttribute(s,f[s])}p=m,k===1&&(q=d.getTextContent(m),n=!!m.querySelector("*"),o=q===""||q===a.INVISIBLE_SPACE,!n&&o&&(d.setTextContent(m,f.text||m.href),r=g.createTextNode(" "),e.selection.setAfter(m),d.insert(r).after(m),p=r)),e.selection.setAfter(p)}function f(a,b,c){var d;for(var e=b.length;e--;){d=b[e].attributes;for(var f=d.length;f--;)b[e].removeAttribute(d.item(f).name);for(var g in c)c.hasOwnProperty(g)&&b[e].setAttribute(g,c[g])}}var b,c="A",d=a.dom;a.commands.createLink={exec:function(a,b,c){var d=this.state(a,b);d?a.selection.executeAndRestore(function(){f(a,d,c)}):(c=typeof c=="object"?c:{href:c},e(a,c))},state:function(b,c){return a.commands.formatInline.state(b,c,"A")}}}(wysihtml5),function(a){function c(a,c){var d=c.length,e=0,f,g,h;for(;e<d;e++)f=c[e],g=b.getParentElement(f,{nodeName:"code"}),h=b.getTextContent(f),h.match(b.autoLink.URL_REG_EXP)&&!g?g=b.renameElement(f,"code"):b.replaceWithChildNodes(f)}var b=a.dom;a.commands.removeLink={exec:function(a,b){var d=this.state(a,b);d&&a.selection.executeAndRestore(function(){c(a,d)})},state:function(b,c){return a.commands.formatInline.state(b,c,"A")}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.execWithToggle(c,d,"span","wysiwyg-font-size-"+e,b)},state:function(c,d,e){return a.commands.formatInline.state(c,d,"span","wysiwyg-font-size-"+e,b)}}}(wysihtml5),function(a){var b=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;a.commands.fontSizeStyle={exec:function(c,d,e){e=typeof e=="object"?e.size:e,/^\s*$/.test(e)||a.commands.formatInline.execWithToggle(c,d,"span",!1,!1,"font-size:"+e,b)},state:function(c,d,e){return a.commands.formatInline.state(c,d,"span",!1,!1,"font-size",b)},stateValue:function(b,c){var d=this.state(b,c),e,f,g=!1;d&&a.lang.object(d).isArray()&&(d=d[0]);if(d){e=d.getAttribute("style");if(e)return a.quirks.styleParser.parseFontSize(e)}return!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.execWithToggle(c,d,"span","wysiwyg-color-"+e,b)},state:function(c,d,e){return a.commands.formatInline.state(c,d,"span","wysiwyg-color-"+e,b)}}}(wysihtml5),function(a){var b=/(\s|^)color\s*:\s*[^;\s]+;?/gi;a.commands.foreColorStyle={exec:function(c,d,e){var f=a.quirks.styleParser.parseColor(typeof e=="object"?"color:"+e.color:"color:"+e,"color"),g;f&&(g="color: rgb("+f[0]+","+f[1]+","+f[2]+");",f[3]!==1&&(g+="color: rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+");"),a.commands.formatInline.execWithToggle(c,d,"span",!1,!1,g,b))},state:function(c,d){return a.commands.formatInline.state(c,d,"span",!1,!1,"color",b)},stateValue:function(b,c,d){var e=this.state(b,c),f;e&&a.lang.object(e).isArray()&&(e=e[0]);if(e){f=e.getAttribute("style");if(f&&f)return val=a.quirks.styleParser.parseColor(f,"color"),a.quirks.styleParser.unparseColor(val,d)}return!1}}}(wysihtml5),function(a){var b=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;a.commands.bgColorStyle={exec:function(c,d,e){var f=a.quirks.styleParser.parseColor(typeof e=="object"?"background-color:"+e.color:"background-color:"+e,"background-color"),g;f&&(g="background-color: rgb("+f[0]+","+f[1]+","+f[2]+");",f[3]!==1&&(g+="background-color: rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+");"),a.commands.formatInline.execWithToggle(c,d,"span",!1,!1,g,b))},state:function(c,d){return a.commands.formatInline.state(c,d,"span",!1,!1,"background-color",b)},stateValue:function(b,c,d){var e=this.state(b,c),f,g=!1;e&&a.lang.object(e).isArray()&&(e=e[0]);if(e){f=e.getAttribute("style");if(f)return g=a.quirks.styleParser.parseColor(f,"background-color"),a.quirks.styleParser.unparseColor(g,d)}return!1}}}(wysihtml5),function(a){function d(b,c,d){b.className?(f(b,d),b.className=a.lang.string(b.className+" "+c).trim()):b.className=c}function e(b,c,d){g(b,d),b.getAttribute("style")?b.setAttribute("style",a.lang.string(b.getAttribute("style")+" "+c).trim()):b.setAttribute("style",c)}function f(b,c){var d=c.test(b.className);return b.className=b.className.replace(c,""),a.lang.string(b.className).trim()==""&&b.removeAttribute("class"),d}function g(b,c){var d=c.test(b.getAttribute("style"));return b.setAttribute("style",(b.getAttribute("style")||"").replace(c,"")),a.lang.string(b.getAttribute("style")||"").trim()==""&&b.removeAttribute("style"),d}function h(a){var b=a.lastChild;b&&i(b)&&b.parentNode.removeChild(b)}function i(a){return a.nodeName==="BR"}function j
(c,d,e,f,g){var h=d.selection.getOwnRanges();for(var i=h.length;i--;){d.selection.getSelection().removeAllRanges(),d.selection.setSelection(h[i]);if(g)var j=b.observe(c,"DOMNodeInserted",function(c){var d=c.target,e;if(d.nodeType!==a.ELEMENT_NODE)return;e=b.getStyle("display").from(d),e.substr(0,6)!=="inline"&&(d.className+=" "+g)});c.execCommand(e,!1,f),j&&j.stop()}}function k(b,c){b.selection.isCollapsed()&&b.selection.selectLine();var d=b.selection.surround(c);for(var e=0,f=d.length;e<f;e++)a.dom.lineBreaks(d[e]).remove(),h(d[e])}function l(b){return!!a.lang.string(b.className).trim()}function m(b){return!!a.lang.string(b.getAttribute("style")||"").trim()}var b=a.dom,c=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];a.commands.formatBlock={exec:function(h,i,j,n,o,p,q){var r=h.doc,s=this.state(h,i,j,n,o,p,q),t=h.config.useLineBreaks,u=t?"DIV":"P",v,w,x,y,z;j=typeof j=="string"?j.toUpperCase():j;if(s.length){h.selection.executeAndRestoreRangy(function(){for(var c=s.length;c--;){o&&(w=f(s[c],o)),q&&(y=g(s[c],q));if((y||w)&&j===null&&s[c].nodeName!=u)return;var d=l(s[c]),e=m(s[c]);!d&&!e&&(t||j==="P")?(a.dom.lineBreaks(s[c]).add(),b.replaceWithChildNodes(s[c])):b.renameElement(s[c],j==="P"?"DIV":u)}});return}if(j===null||a.lang.array(c).contains(j)){v=h.selection.findNodesInSelection(c).concat(h.selection.getSelectedOwnNodes()),h.selection.executeAndRestoreRangy(function(){for(var a=v.length;a--;)z=b.getParentElement(v[a],{nodeName:c}),z==h.element&&(z=null),z&&(j&&(z=b.renameElement(z,j)),n&&d(z,n,o),p&&e(z,p,q),x=!0)});if(x)return}k(h,{nodeName:j||u,className:n||null,cssStyle:p||null})},state:function(c,d,e,f,g,h,i){var j=c.selection.getSelectedOwnNodes(),k=[],l;e=typeof e=="string"?e.toUpperCase():e;for(var m=0,n=j.length;m<n;m++)l=b.getParentElement(j[m],{nodeName:e,className:f,classRegExp:g,cssStyle:h,styleRegExp:i}),l&&a.lang.array(k).indexOf(l)==-1&&k.push(l);return k.length==0?!1:k}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(a,b,c){var d=this.state(a),e,f,g;d?a.selection.executeAndRestore(function(){e=d.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(d),e&&wysihtml5.dom.replaceWithChildNodes(e)}):(f=a.selection.getRange(),g=f.extractContents(),d=a.doc.createElement("pre"),e=a.doc.createElement("code"),c&&(e.className=c),d.appendChild(e),e.appendChild(g),f.insertNode(d),a.selection.selectNode(d))},state:function(a){var b=a.selection.getSelectedNode();return b&&b.nodeName&&b.nodeName=="PRE"&&b.firstChild&&b.firstChild.nodeName&&b.firstChild.nodeName=="CODE"?b:wysihtml5.dom.getParentElement(b,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(b,{nodeName:"PRE"})}},function(a){function d(a){var c=b[a];return c?[a.toLowerCase(),c.toLowerCase()]:[a.toLowerCase()]}function e(b,e,f,g,h,i){var j=b;return e&&(j+=":"+e),g&&(j+=":"+g),c[j]||(c[j]=new a.selection.HTMLApplier(d(b),e,f,!0,g,h,i)),c[j]}var b={strong:"b",em:"i",b:"strong",i:"em"},c={};a.commands.formatInline={exec:function(a,b,c,d,f,g,h,i,j){var k=a.selection.createRange(),l=a.selection.getOwnRanges();if(!l||l.length==0)return!1;a.selection.getSelection().removeAllRanges(),e(c,d,f,g,h,a.element).toggleRange(l),i?j||a.cleanUp():(k.setStart(l[0].startContainer,l[0].startOffset),k.setEnd(l[l.length-1].endContainer,l[l.length-1].endOffset),a.selection.setSelection(k),a.selection.executeAndRestore(function(){j||a.cleanUp()},!0,!0))},execWithToggle:function(b,c,d,e,f,g,h){var i=this;if(this.state(b,c,d,e,f,g,h)&&b.selection.isCollapsed()&&!b.selection.caretIsLastInSelection()&&!b.selection.caretIsFirstInSelection()){var j=i.state(b,c,d,e,f)[0];b.selection.executeAndRestoreRangy(function(){var i=j.parentNode;b.selection.selectNode(j,!0),a.commands.formatInline.exec(b,c,d,e,f,g,h,!0,!0)})}else this.state(b,c,d,e,f,g,h)&&!b.selection.isCollapsed()?b.selection.executeAndRestoreRangy(function(){a.commands.formatInline.exec(b,c,d,e,f,g,h,!0,!0)}):a.commands.formatInline.exec(b,c,d,e,f,g,h)},state:function(c,d,f,g,h,i,j){var k=c.doc,l=b[f]||f,m,n;return!a.dom.hasElementWithTagName(k,f)&&!a.dom.hasElementWithTagName(k,l)?!1:g&&!a.dom.hasElementWithClassName(k,g)?!1:(m=c.selection.getOwnRanges(),!m||m.length===0?!1:(n=e(f,g,h,i,j,c.element).isAppliedToRange(m),n&&n.elements?n.elements:!1))}}}(wysihtml5),function(a){a.commands.insertBlockQuote={exec:function(b,c){var d=this.state(b,c),e=b.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]),f,g;b.selection.executeAndRestore(function(){if(d)b.config.useLineBreaks&&a.dom.lineBreaks(d).add(),a.dom.unwrap(d);else{b.selection.isCollapsed()&&b.selection.selectLine();if(e){var c=e.ownerDocument.createElement("blockquote");a.dom.insert(c).after(e),c.appendChild(e)}else b.selection.surround({nodeName:"blockquote"})}})},state:function(b,c){var d=b.selection.getSelectedNode(),e=a.dom.getParentElement(d,{nodeName:"BLOCKQUOTE"},!1,b.element);return e?e:!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(a,b,c){a.commands.support(b)?a.doc.execCommand(b,!1,c):a.selection.insertHTML(c)},state:function(){return!1}},function(a){var b="IMG";a.commands.insertImage={exec:function(c,d,e){e=typeof e=="object"?e:{src:e};var f=c.doc,g=this.state(c),h,i;if(g){c.selection.setBefore(g),i=g.parentNode,i.removeChild(g),a.dom.removeEmptyTextNodes(i),i.nodeName==="A"&&!i.firstChild&&(c.selection.setAfter(i),i.parentNode.removeChild(i)),a.quirks.redraw(c.element);return}g=f.createElement(b);for(var j in e)g.setAttribute(j==="className"?"class":j,e[j]);c.selection.insertNode(g),a.browser.hasProblemsSettingCaretAfterImg()?(h=f.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(h),c.selection.setAfter(h)):c.selection.setAfter(g)},state:function(c){var d=c.doc,e,f,g;return a.dom.hasElementWithTagName(d,b)?(e=c.selection.getSelectedNode(),e?e.nodeName===b?e:e.nodeType!==a.ELEMENT_NODE?!1:(f=c.selection.getText(),f=a.lang.string(f).trim(),f?!1:(g=c.selection.getNodes(a.ELEMENT_NODE,function(a){return a.nodeName==="IMG"}),g.length!==1?!1:g[0])):!1):!1}}}(wysihtml5),function(a){var b="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(c,d){c.commands.support(d)?(c.doc.execCommand(d,!1,null),a.browser.autoScrollsToCaret()||c.selection.scrollIntoView()):c.commands.exec("insertHTML",b)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(a,b){wysihtml5.commands.insertList.exec(a,b,"OL")},state:function(a,b){return wysihtml5.commands.insertList.state(a,b,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(a,b){wysihtml5.commands.insertList.exec(a,b,"UL")},state:function(a,b){return wysihtml5.commands.insertList.state(a,b,"UL")}},wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&&a.nodeName){typeof b=="string"&&(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f={el:null,other:!1};if(c){var g=a.dom.getParentElement(c,{nodeName:"LI"}),h=d==="UL"?"OL":"UL";b(c,d)?f.el=c:b(c,h)?f={el:c,other:!0}:g&&(b(g.parentNode,d)?f.el=g.parentNode:b(g.parentNode,h)&&(f={el:g.parentNode,other:!0}))}return f.el&&!e.element.contains(f.el)&&(f.el=null),f},d=function(b,c,d){var e=c==="UL"?"OL":"UL",g,h;d.selection.executeAndRestore(function(){var g=f(e,d);if(g.length)for(var i=g.length;i--;)a.dom.renameElement(g[i],c.toLowerCase());else{h=f(["OL","UL"],d);for(var j=h.length;j--;)a.dom.resolveList(h[j],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=c==="UL"?"OL":"UL";d.selection.executeAndRestore(function(){var g=[b].concat(f(e,d));for(var h=g.length;h--;)a.dom.renameElement(g[h],c.toLowerCase())})},f=function(a,c){var d=c.selection.getOwnRanges(),e=[];for(var f=d.length;f--;)e=e.concat(d[f].getNodes([1],function(c){return b(c,a)}));return e},g=function(b,c){c.selection.executeAndRestoreRangy(function(){var d="_wysihtml5-temp-"+(new Date).getTime(),e=c.selection.deblockAndSurround({nodeName:"div",className:d}),f,g,h=/\uFEFF/g;e.innerHTML=e.innerHTML.replace(h,""),e&&(f=a.lang.array(["","<br>",a.INVISIBLE_SPACE]).contains(e.innerHTML),g=a.dom.convertToList(e,b.toLowerCase(),c.parent.config.uneditableContainerClassname),f&&c.selection.selectNode(g.querySelector("li"),!0))})};return{exec:function(a,b,f){var h=a.doc,i=f==="OL"?"insertOrderedList":"insertUnorderedList",j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&&!f.other?f.el:!1}}}(wysihtml5),wysihtml5.commands.italic={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,"i")},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,"i")}},function(a){var b="wysiwyg-text-align-center",c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyCenter={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,b,c)}}}(wysihtml5),function(a){var b="wysiwyg-text-align-left",c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyLeft={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,b,c)}}}(wysihtml5),function(a){var b="wysiwyg-text-align-right",c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyRight={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,b,c)}}}(wysihtml5),function(a){var b="wysiwyg-text-align-justify",c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyFull={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,b,c)}}}(wysihtml5),function(a){var b="text-align: right;",c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignRightStyle={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,null,null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,null,null,b,c)}}}(wysihtml5),function(a){var b="text-align: left;",c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignLeftStyle={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,null,null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,null,null,b,c)}}}(wysihtml5),function(a){var b="text-align: center;",c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignCenterStyle={exec:function(d,e){return a.commands.formatBlock.exec(d,"formatBlock",null,null,null,b,c)},state:function(d,e){return a.commands.formatBlock.state(d,"formatBlock",null,null,null,b,c)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}},wysihtml5.commands.underline={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,"u")},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,"u")}},wysihtml5.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}},wysihtml5.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){c.tableStyle?f='<table style="'+c.tableStyle+'">':f="<table>",f+="<tbody>";for(e=0;e<c.rows;e++){f+="<tr>";for(d=0;d<c.cols;d++)f+="<td>&nbsp;</td>";f+="</tr>"}f+="</tbody></table>",a.commands.exec("insertHTML",f)}},state:function(a,b){return!1}},wysihtml5.commands.mergeTableCells={exec:function(a,b){a.tableSelection&&a.tableSelection.start&&a.tableSelection.end&&(this.state(a,b)?wysihtml5.dom.table.unmergeCell(a.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(a.tableSelection.start,a.tableSelection.end))},state:function(a,b){if(a.tableSelection){var c=a.tableSelection.start,d=a.tableSelection.end;if(c&&d&&c==d&&(wysihtml5.dom.getAttribute(c,"colspan")&&parseInt(wysihtml5.dom.getAttribute(c,"colspan"),10)>1||wysihtml5.dom.getAttribute(c,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(c,"rowspan"),10)>1))return[c]}return!1}},wysihtml5.commands.addTableCells={exec:function(a,b,c){if(a.tableSelection&&a.tableSelection.start&&a.tableSelection.end){var d=wysihtml5.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end);c=="before"||c=="above"?wysihtml5.dom.table.addCells(d.start,c):(c=="after"||c=="below")&&wysihtml5.dom.table.addCells(d.end,c),setTimeout(function(){a.tableSelection.select(d.start,d.end)},0)}},state:function(a,b){return!1}},wysihtml5.commands.deleteTableCells={exec:function(a,b,c){if(a.tableSelection&&a.tableSelection.start&&a.tableSelection.end){var d=wysihtml5.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end),e=wysihtml5.dom.table.indexOf(d.start),f,g=a.tableSelection.table;wysihtml5.dom.table.removeCells(d.start,c),setTimeout(function(){f=wysihtml5.dom.table.findCell(g,e),f||(c=="row"&&(f=wysihtml5.dom.table.findCell(g,{row:e.row-1,col:e.col})),c=="column"&&(f=wysihtml5.dom.table.findCell(g,{row:e.row,col:e.col-1}))),f&&a.tableSelection.select(f,f)},0)}},state:function(a,b){return!1}},wysihtml5.commands.indentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag("LI");return d?this.tryToPushLiLevel(d,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(a,b){var c,d,e,f,g,h=!1;return b.executeAndRestoreRangy(function(){for(var b=a.length;b--;)f=a[b],c=f.parentNode.nodeName==="OL"?"OL":"UL",d=f.ownerDocument.createElement(c),e=wysihtml5.dom.domNode(f).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),g=e?e.querySelector("ul, ol"):null,e&&(g?g.appendChild(f):(d.appendChild(f),e.appendChild(d)),h=!0)}),h}},wysihtml5.commands.outdentList={exec:function(a,b,c){var d=a.selection.getSelectionParentsByTag("LI");return d?this.tryToPullLiLevel(d,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(a,b){var c,d,e,f,g,h,i,j=!1,k=this;return b.selection.executeAndRestoreRangy(function(){for(var f=a.length;f--;){h=a[f];if(h.parentNode){c=h.parentNode;if(c.tagName==="OL"||c.tagName==="UL"){j=!0,d=wysihtml5.dom.getParentElement(c.parentNode,{nodeName:["OL","UL"]},!1,b.element),e=wysihtml5.dom.getParentElement(c.parentNode,{nodeName:["LI"]},!1,b.element);if(d&&e)h.nextSibling&&(i=k.getAfterList(c,h),h.appendChild(i)),d.insertBefore(h,e.nextSibling);else{h.nextSibling&&(i=k.getAfterList(c,h),h.appendChild(i));for(var g=h.childNodes.length;g--;)c.parentNode.insertBefore(h.childNodes[g],c.nextSibling);c.parentNode.insertBefore(document.createElement("br"),c.nextSibling),h.parentNode.removeChild(h)}c.childNodes.length===0&&c.parentNode.removeChild(c)}}}}),j},getAfterList:function(a,b){var c=a.nodeName,d=document.createElement(c);while(b.nextSibling)d.appendChild(b.nextSibling);return d}},function(a){function l(a){var b;while(b=a.querySelector("._wysihtml5-temp"))b.parentNode.removeChild(b)}var b=90,c=89,d=8,e=46,f=25,g="data-wysihtml5-selection-node",h="data-wysihtml5-selection-offset",i='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",j='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",k=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var a=this,f=this.composer.sandbox.getDocument(),g;k.observe(this.element,"keydown",function(d){if(d.altKey||!d.ctrlKey&&!d.metaKey)return;var e=d.keyCode,f=e===b&&!d.shiftKey,g=e===b&&d.shiftKey||e===c;f?(a.undo(),d.preventDefault()):g&&(a.redo(),d.preventDefault())}),k.observe(this.element,"keydown",function(b){var c=b.keyCode;if(c===g)return;g=c,(c===d||c===e)&&a.transact()}),this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var b=this.historyStr[this.position-1],c=this.composer.getValue(!1,!1),d=this.element.offsetWidth>0&&this.element.offsetHeight>0,e,i,j,k,l;if(c===b)return;var m=this.historyStr.length=this.historyDom.length=this.position;m>f&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,d&&(e=this.composer.selection.getRange(),i=e&&e.startContainer?e.startContainer:this.element,j=e&&e.startOffset?e.startOffset:0,i.nodeType===a.ELEMENT_NODE?k=i:(k=i.parentNode,l=this.getChildNodeIndex(k,i)),k.setAttribute(h,j),typeof l!="undefined"&&k.setAttribute(g,l));var n=this.element.cloneNode(!!c);this.historyDom.push(n),this.historyStr.push(c),k&&(k.removeAttribute(h),k.removeAttribute(g))},undo:function(){this.transact();if(!this.undoPossible())return;this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer")},redo:function(){if(!this.redoPossible())return;this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer")},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";var b=0,c=a.childNodes,d=a.childNodes.length;for(;b<d;b++)this.element.appendChild(c[b].cloneNode(!0));var e,f,i;a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector("["+h+"]")||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),i!==null&&(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){var c=0,d=a.childNodes,e=d.length;for(;c<e;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")===this.element)return;try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(b,c){var d=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);return b!==!1&&(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",!this.config.noTextarea&&!this.textarea.element.disabled&&(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle("display").from(this.editableArea),this._displayStyle==="none"&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&this.selection&&(c.nodeName==="BR"?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||a===""||a==="<br>"||a==="<p></p>"||a==="<p><br></p>"||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var c=this.textarea.element;b.insert(this.editableArea).after(c),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden",a.name="_wysihtml5_mode",a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),b.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),this.config.contentEditableMode||b.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var f=typeof this.config.placeholder=="string"?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");f&&b.simulatePlaceholder(this.parent,this,f),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),!this.config.noTextarea&&(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&!c.isIos()&&setTimeout(function(){d.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();e&&this.commands.exec("autoUrlDetect",!1);if(!this.config.autoLink)return;if(!f||f&&e)this.parent.on("newword:composer",function(){b.getTextContent(d.element).match(b.autoLink.URL_REG_EXP)&&d.selection.executeAndRestore(function(c,e){var f=d.element.querySelectorAll("."+d.config.uneditableContainerClassname),g=!1;for(var h=f.length;h--;)a.dom.contains(f[h],e)&&(g=!0);g||b.autoLink(e.parentNode,[d.config.uneditableContainerClassname])})}),b.observe(this.element,"blur",function(){b.autoLink(d.element,[d.config.uneditableContainerClassname])});var g=this.sandbox.getDocument().getElementsByTagName("a"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return d.substr(0,4)==="www."&&(d="http://"+d),d};b.observe(this.element,"keydown",function(a){if(!g.length)return;var c=d.selection.getSelectedNode(a.target.ownerDocument),e=b.getParentElement(c,{nodeName:"A"},4),f;if(!e)return;f=i(e),setTimeout(function(){var a=i(e);if(a===f)return;a.match(h)&&e.setAttribute("href",a)},0)})},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(c.supportsEvent("resizeend")){var d=["width","height"],e=d.length,f=this.element;b.observe(f,"resizeend",function(b){var c=b.target||b.srcElement,g=c.style,h=0,i;if(c.nodeName!=="IMG")return;for(;h<e;h++)i=d[h],g[i]&&(c.setAttribute(i,parseInt(g[i],10)),g[i]="");a.quirks.redraw(f)})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function g(a){var c=b.getParentElement(a,{nodeName:["P","DIV"]},2);c&&b.contains(d.element,c)&&d.selection.executeAndRestore(function(){d.config.useLineBreaks?b.replaceWithChildNodes(c):c.nodeName!=="P"&&b.renameElement(c,"p")})}var d=this,e=["LI","P","H1","H2","H3","H4","H5","H6"],f=["UL","OL","MENU"];this.config.useLineBreaks||b.observe(this.element,["focus","keydown"],function(){if(d.isEmpty()){var a=d.doc.createElement("P");d.element.innerHTML="",d.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?d.selection.selectNode(a,!0):(a.innerHTML="<br>",d.selection.setBefore(a.firstChild))}}),b.observe(this.element,"keydown",function(c){var h=c.keyCode;if(c.shiftKey)return;if(h!==a.ENTER_KEY&&h!==a.BACKSPACE_KEY)return;var i=b.getParentElement(d.selection.getSelectedNode(),{nodeName:e},4);if(i){setTimeout(function(){var c=d.selection.getSelectedNode(),e;if(i.nodeName==="LI"){if(!c)return;e=b.getParentElement(c,{nodeName:f},2),e||g(c)}h===a.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&g(c)},0);return}d.config.useLineBreaks&&h===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(c.preventDefault(),d.commands.exec("insertLineBreak"))})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement("div"),f=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],g=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],h=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",".wysiwyg-color-black {color: black;}",".wysiwyg-color-silver {color: silver;}",".wysiwyg-color-gray {color: gray;}",".wysiwyg-color-white {color: white;}",".wysiwyg-color-maroon {color: maroon;}",".wysiwyg-color-red {color: red;}",".wysiwyg-color-purple {color: purple;}",".wysiwyg-color-fuchsia {color: fuchsia;}",".wysiwyg-color-green {color: green;}",".wysiwyg-color-lime {color: lime;}",".wysiwyg-color-olive {color: olive;}",".wysiwyg-color-yellow {color: yellow;}",".wysiwyg-color-navy {color: navy;}",".wysiwyg-color-blue {color: blue;}",".wysiwyg-color-teal {color: teal;}",".wysiwyg-color-aqua {color: aqua;}",".wysiwyg-color-orange {color: orange;}",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d=this,j=c.querySelector(":focus"),k=this.textarea.element,l=k.hasAttribute("placeholder"),m=l&&k.getAttribute("placeholder"),n=k.style.display,o=k.disabled,p;this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),l&&k.removeAttribute("placeholder"),k===j&&k.blur(),k.disabled=!1,k.style.display=p="none";if(k.getAttribute("rows")&&b.getStyle("height").from(k)==="auto"||k.getAttribute("cols")&&b.getStyle("width").from(k)==="auto")k.style.display=p=n;b.copyStyles(g).from(k).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(k).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),k.disabled=!0,b.copyStyles(g).from(k).to(this.disabledStylesHost),b.copyStyles(f).from(k).to(this.disabledStylesHost),k.disabled=o,k.style.display=n,i(k),k.style.display=p,b.copyStyles(g).from(k).to(this.focusStylesHost),b.copyStyles(f).from(k).to(this.focusStylesHost),k.style.display=n,b.copyStyles(["display"]).from(k).to(this.editableArea);var q=a.lang.array(g).without(["display"]);return j?j.focus():k.blur(),l&&k.setAttribute("placeholder",m),this.parent.on("focus:composer",function(){b.copyStyles(q).from(d.focusStylesHost).to(d.editableArea),b.copyStyles(f).from(d.focusStylesHost).to(d.element)}),this.parent.on("blur:composer",function(){b.copyStyles(q).from(d.blurStylesHost).to(d.editableArea),b.copyStyles(f).from(d.blurStylesHost).to(d.element)}),this.parent.observe("disable:composer",function(){b.copyStyles(q).from(d.disabledStylesHost).to(d.editableArea),b.copyStyles(f).from(d.disabledStylesHost).to(d.element)}),this.parent.observe("enable:composer",function(){b.copyStyles(q).from(d.blurStylesHost).to(d.editableArea),b.copyStyles(f).from(d.blurStylesHost).to(d.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:"bold",73:"italic",85:"underline"},e=function(a,b,c){var d=a.getPreviousNode(b,!0),e=a.getSelectedNode();e.nodeType!==1&&e.parentNode!==c&&(e=e.parentNode);if(d)if(e.nodeType==1){var f=e.firstChild;if(d.nodeType==1)while(e.firstChild)d.appendChild(e.firstChild);else while(e.firstChild)b.parentNode.insertBefore(e.firstChild,b);e.parentNode&&e.parentNode.removeChild(e),a.setBefore(f)}else d.nodeType==1?d.appendChild(e):b.parentNode.insertBefore(e,b),a.setBefore(e)},f=function(a,b,c,d){if(b.isCollapsed())if(b.caretIsInTheBeginnig("LI"))a.preventDefault(),d.commands.exec("outdentList");else if(b.caretIsInTheBeginnig())a.preventDefault();else{if(b.caretIsFirstInSelection()&&b.getPreviousNode()&&b.getPreviousNode().nodeName&&/^H\d$/gi.test(b.getPreviousNode().nodeName)){var f=b.getPreviousNode();a.preventDefault();if(/^\s*$/.test(f.textContent||f.innerText))f.parentNode.removeChild(f);else{var g=f.ownerDocument.createRange();g.selectNodeContents(f),g.collapse(!1),b.setSelection(g)}}var h=b.caretIsBeforeUneditable();h&&(a.preventDefault(),e(b,h,c))}else b.containsUneditable()&&(a.preventDefault(),b.deleteContents())},g=function(a,b){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("LI")&&a.commands.exec("indentList"))return;a.commands.exec("insertHTML","&emsp;")};a.views.Composer.prototype.observe=function(){var e=this,h=this.getValue(!1,!1),i=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),j=this.element,k=c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?j:this.sandbox.getWindow(),l=["drop","paste"],m=["drop","paste","mouseup","focus","keyup"];b.observe(i,"DOMNodeRemoved",function(){clearInterval(n),e.parent.fire("destroy:composer")});if(!c.supportsMutationEvents())var n=setInterval(function(){b.contains(document.documentElement,i)||(clearInterval(n),e.parent.fire("destroy:composer"))},250);b.observe(k,m,function(){setTimeout(function(){e.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this
.tableClickHandle=b.observe(i,["focus","mouseup","mouseover"],function(){e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false"),e.tableClickHandle.stop()}):setTimeout(function(){e.doc.execCommand("enableObjectResizing",!1,"false"),e.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=a.quirks.tableCellsSelection(j,e.parent)),b.observe(k,"focus",function(a){e.parent.fire("focus",a).fire("focus:composer",a),setTimeout(function(){h=e.getValue(!1,!1)},0)}),b.observe(k,"blur",function(a){if(h!==e.getValue(!1,!1)){var b=a;typeof Object.create=="function"&&(b=Object.create(a,{type:{value:"change"}})),e.parent.fire("change",b).fire("change:composer",b)}e.parent.fire("blur",a).fire("blur:composer",a)}),b.observe(j,"dragenter",function(){e.parent.fire("unset_placeholder")}),b.observe(j,l,function(a){setTimeout(function(){e.parent.fire(a.type,a).fire(a.type+":composer",a)},0)}),b.observe(j,"keyup",function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&e.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){e.parent.fire("newword:composer")},0)}),c.canSelectImagesInContentEditable()||b.observe(j,"mousedown",function(b){var c=b.target,d=j.querySelectorAll("img"),f=j.querySelectorAll("."+e.config.uneditableContainerClassname+" img"),g=a.lang.array(d).without(f);c.nodeName==="IMG"&&a.lang.array(g).contains(c)&&e.selection.selectNode(c)}),c.canSelectImagesInContentEditable()||b.observe(j,"drop",function(a){setTimeout(function(){e.selection.getSelection().removeAllRanges()},0)}),c.hasHistoryIssue()&&c.supportsSelectionModify()&&b.observe(j,"keydown",function(a){if(!a.metaKey&&!a.ctrlKey)return;var b=a.keyCode,c=j.ownerDocument.defaultView,d=c.getSelection();if(b===37||b===39)b===37&&(d.modify("extend","left","lineboundary"),a.shiftKey||d.collapseToStart()),b===39&&(d.modify("extend","right","lineboundary"),a.shiftKey||d.collapseToEnd()),a.preventDefault()}),b.observe(j,"keydown",function(a){var b=a.keyCode,c=d[b];(a.ctrlKey||a.metaKey)&&!a.altKey&&c&&(e.commands.exec(c),a.preventDefault()),b===8?f(a,e.selection,j,e):e.config.handleTabKey&&b===9&&(a.preventDefault(),g(e,j))}),b.observe(j,"keydown",function(b){var c=e.selection.getSelectedNode(!0),d=b.keyCode,f;c&&c.nodeName==="IMG"&&(d===a.BACKSPACE_KEY||d===a.DELETE_KEY)&&(f=c.parentNode,f.removeChild(c),f.nodeName==="A"&&!f.firstChild&&f.parentNode.removeChild(f),setTimeout(function(){a.quirks.redraw(j)},0),b.preventDefault())}),!this.config.contentEditableMode&&c.hasIframeFocusIssue()&&(b.observe(i,"focus",function(){setTimeout(function(){e.doc.querySelector(":focus")!==e.element&&e.focus()},0)}),b.observe(this.element,"blur",function(){setTimeout(function(){e.selection.getSelection().removeAllRanges()},0)}));var o={IMG:"Image: ",A:"Link: "};b.observe(j,"mouseover",function(a){var b=a.target,c=b.nodeName,d;if(c!=="A"&&c!=="IMG")return;var e=b.hasAttribute("title");e||(d=o[c]+(b.getAttribute("href")||b.getAttribute("src")),b.setAttribute("title",d))})}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){this.editor.currentView.name==="textarea"?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,"submit",function(){d.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(a){a==="composer"&&!c?(d.fromTextareaToComposer(!0),f()):a==="textarea"&&(d.fromComposerToTextarea(!0),g())}),this.editor.on("destroy:composer",g)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=""},getValue:function(a){var b=this.isEmpty()?"":this.element.value;return a!==!1&&(b=this.parent.parse(b)),b},setValue:function(a,b){b&&(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(){var a=this.parent.parse(this.element.value);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute("placeholder")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:"focus",focusout:"blur"},d=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];b.on("beforeload",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+":textarea")}),wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){b.fire("paste").fire("paste:textarea")},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:a.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){this.editableElement=typeof b=="string"?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),this.editableElement.nodeName.toLowerCase()!="textarea"&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea);if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;setTimeout(function(){e.fire("beforeload").fire("load")},0);return}a.dom.addClass(document.body,this.config.bodyClassName),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,typeof this.config.parser=="function"&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire("unset_placeholder"),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(b,c){var d=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,e=this.config.parser(b,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:d,uneditableClass:this.config.uneditableContainerClassname,clearInternals:c});return typeof b=="object"&&a.quirks.redraw(b),e},_initParser:function(){this.on("paste:composer",function(){var b=!0,c=this;c.composer.selection.executeAndRestore(function(){a.quirks.cleanPastedHTML(c.composer.element),c.parse(c.composer.element)},b)})}})}(wysihtml5),function(a){var b=a.dom,c="wysihtml5-command-dialog-opened",d="input, select, textarea",e="[data-wysihtml5-dialog-field]",f="data-wysihtml5-dialog-field";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(this._observed)return;var e=this,f=function(a){var b=e._serialize();b==e.elementToChange?e.fire("edit",b):e.fire("save",b),e.hide(),a.preventDefault(),a.stopPropagation()};b.observe(e.link,"click",function(){b.hasClass(e.link,c)&&setTimeout(function(){e.hide()},0)}),b.observe(this.container,"keydown",function(b){var c=b.keyCode;c===a.ENTER_KEY&&f(b),c===a.ESCAPE_KEY&&(e.fire("cancel"),e.hide())}),b.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",f),b.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){e.fire("cancel"),e.hide(),a.preventDefault(),a.stopPropagation()});var g=this.container.querySelectorAll(d),h=0,i=g.length,j=function(){clearInterval(e.interval)};for(;h<i;h++)b.observe(g[h],"change",j);this._observed=!0},_serialize:function(){var a=this.elementToChange||{},b=this.container.querySelectorAll(e),c=b.length,d=0;for(;d<c;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){var b,c,d,g=document.querySelector(":focus"),h=this.container.querySelectorAll(e),i=h.length,j=0;for(;j<i;j++){b=h[j];if(b===g)continue;if(a&&b.type==="hidden")continue;c=b.getAttribute(f),d=this.elementToChange&&typeof this.elementToChange!="boolean"?this.elementToChange.getAttribute(c)||"":b.defaultValue,b.value=d}},show:function(a){if(b.hasClass(this.link,c))return;var e=this,f=this.container.querySelector(d);this.elementToChange=a,this._observe(),this._interpolate(),a&&(this.interval=setInterval(function(){e._interpolate(!0)},500)),b.addClass(this.link,c),this.container.style.display="",this.fire("show");if(f&&!a)try{f.focus()}catch(g){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(a){var b=a.dom,c={position:"relative"},d={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},e={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},f={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(g,h){var i=document.createElement("input");if(!a.browser.supportsSpeechApiOn(i)){h.style.display="none";return}var j=g.editor.textarea.element.getAttribute("lang");j&&(f.lang=j);var k=document.createElement("div");a.lang.object(d).merge({width:h.offsetWidth+"px",height:h.offsetHeight+"px"}),b.insert(i).into(k),b.insert(k).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(k),b.setStyles(c).on(h);var l="onwebkitspeechchange"in i?"webkitspeechchange":"speechchange";b.observe(i,l,function(){g.execCommand("insertText",i.value),i.value=""}),b.observe(i,"click",function(a){b.hasClass(h,"wysihtml5-command-disabled")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){var b="wysihtml5-command-disabled",c="wysihtml5-commands-disabled",d="wysihtml5-command-active",e="wysihtml5-action-active",f=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,c,d){this.editor=b,this.container=typeof c=="string"?document.getElementById(c):c,this.composer=b.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),d&&this.show();var e=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),f=e.length,g=0;for(;g<f;g++)new a.toolbar.Speech(this,e[g])},_getLinks:function(b){var c=this[b+"Links"]=a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),d=c.length,e=0,f=this[b+"Mapping"]={},g,h,i,j,k;for(;e<d;e++)g=c[e],i=g.getAttribute("data-wysihtml5-"+b),j=g.getAttribute("data-wysihtml5-"+b+"-value"),h=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+i+"']"),k=this._getDialog(g,i),f[i+":"+j]={link:g,group:h,name:i,value:j,dialog:k,state:!1}},_getDialog:function(b,c){var d=this,e=this.container.querySelector("[data-wysihtml5-dialog='"+c+"']"),f,g;return e&&(a.toolbar["Dialog_"+c]?f=new a.toolbar["Dialog_"+c](b,e):f=new a.toolbar.Dialog(b,e),f.on("show",function(){g=d.composer.selection.getBookmark(),d.editor.fire("show:dialog",{command:c,dialogContainer:e,commandLink:b})}),f.on("save",function(a){g&&d.composer.selection.setBookmark(g),d._execCommand(c,a),d.editor.fire("save:dialog",{command:c,dialogContainer:e,commandLink:b})}),f.on("cancel",function(){d.editor.focus(!1),d.editor.fire("cancel:dialog",{command:c,dialogContainer:e,commandLink:b})})),f},execCommand:function(a,b){if(this.commandsDisabled)return;var c=this.commandMapping[a+":"+b];c&&c.dialog&&!c.state?c.dialog.show():this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;a==="change_view"&&b.textarea&&(b.currentView===b.textarea?b.fire("change_view","composer"):b.fire("change_view","textarea")),a=="showSource"&&b.fire("showSource")},_observe:function(){var a=this,b=this.editor,d=this.container,e=this.commandLinks.concat(this.actionLinks),g=e.length,h=0;for(;h<g;h++)e[h].nodeName==="A"?f.setAttributes({href:"javascript:;",unselectable:"on"}).on(e[h]):f.setAttributes({unselectable:"on"}).on(e[h]);f.delegate(d,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(a){a.preventDefault()}),f.delegate(d,"[data-wysihtml5-command]","click",function(b){var c=this,d=c.getAttribute("data-wysihtml5-command"),e=c.getAttribute("data-wysihtml5-command-value");a.execCommand(d,e),b.preventDefault()}),f.delegate(d,"[data-wysihtml5-action]","click",function(b){var c=this.getAttribute("data-wysihtml5-action");a.execAction(c),b.preventDefault()}),b.on("interaction:composer",function(){a._updateLinkStates()}),b.on("focus:composer",function(){a.bookmark=null}),this.editor.config.handleTables&&(b.on("tableselect:composer",function(){a.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),b.on("tableunselect:composer",function(){a.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),b.on("change_view",function(e){b.textarea&&setTimeout(function(){a.commandsDisabled=e!=="composer",a._updateLinkStates(),a.commandsDisabled?f.addClass(d,c):f.removeClass(d,c)},0)})},_updateLinkStates:function(){var c=this.commandMapping,g=this.actionMapping,h,i,j,k;for(h in c){k=c[h],this.commandsDisabled?(i=!1,f.removeClass(k.link,d),k.group&&f.removeClass(k.group,d),k.dialog&&k.dialog.hide()):(i=this.composer.commands.state(k.name,k.value),f.removeClass(k.link,b),k.group&&f.removeClass(k.group,b));if(k.state===i)continue;k.state=i,i?(f.addClass(k.link,d),k.group&&f.addClass(k.group,d),k.dialog&&(typeof i=="object"||a.lang.object(i).isArray()?(!k.dialog.multiselect&&a.lang.object(i).isArray()&&(i=i.length===1?i[0]:!0,k.state=i),k.dialog.show(i)):k.dialog.hide())):(f.removeClass(k.link,d),k.group&&f.removeClass(k.group,d),k.dialog&&k.dialog.hide())}for(h in g)j=g[h],j.name==="change_view"&&(j.state=this.editor.currentView===this.editor.textarea,j.state?f.addClass(j.link,e):f.removeClass(j.link,e))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=a.dom,c="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){var a={},b=this.container.querySelectorAll(c),e=b.length,f=0;for(;f<e;f++)a[b[f].getAttribute(d)]=b[f].value;return a},_interpolate:function(b){var e,f,g,h=document.querySelector(":focus"),i=this.container.querySelectorAll(c),j=i.length,k=0,l=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,m=l?l.getAttribute("style"):null,n=m?a.quirks.styleParser.parseColor(m,"color"):null;for(;k<j;k++){e=i[k];if(e===h)continue;if(b&&e.type==="hidden")continue;e.getAttribute(d)==="color"&&(n?n[3]&&n[3]!=1?e.value="rgba("+n[0]+","+n[1]+","+n[2]+","+n[3]+");":e.value="rgb("+n[0]+","+n[1]+","+n[2]+");":e.value="rgb(0,0,0);")}}})}(wysihtml5),function(a){var b=a.dom,c="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(b){var c=document.querySelector(":focus"),d=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,f=e?e.getAttribute("style"):null,g=f?a.quirks.styleParser.parseFontSize(f):null;d&&d!==c&&g&&!/^\s*$/.test(g)&&(d.value=g)}})}(wysihtml5),!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){(function(d){function e(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}"use strict";var f=c(6)["default"];b.__esModule=!0;var g=c(1),h=f(g),i=c(2),j=f(i),k=c(3),l=f(k),m=c(4),n=f(m),o=c(5),p=f(o),q=e();q.create=e;var r="undefined"!=typeof d?d:window,s=r.Handlebars;q.noConflict=function(){r.Handlebars===q&&(r.Handlebars=s)},q["default"]=q,b["default"]=q,a.exports=b["default"]}).call(b,function(){return this}())},function(a,b,c){function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(b===!0)return e(this);if(b===!1||null==b)return d(this);if(o(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=f(c.data);g.contextPath=i.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){function c(b,c,e){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!e,l&&(j.contextPath=l+b)),h+=d(a[b],{data:j,blockParams:i.blockParams([a[b],b],[l+b,null])})}if(!b)throw new k["default"]("Must pass iterator to #each");var d=b.fn,e=b.inverse,g=0,h="",j=void 0,l=void 0;if(b.data&&b.ids&&(l=i.appendContextPath(b.data.contextPath,b.ids[0])+"."),p(a)&&(a=a.call(this)),b.data&&(j=f(b.data)),a&&"object"==typeof a)if(o(a))for(var m=a.length;m>g;g++)c(g,g,g===a.length-1);else{var n=void 0;for(var q in a)a.hasOwnProperty(q)&&(n&&c(n,g-1),n=q,g++);n&&c(n,g-1,!0)}return 0===g&&(h=e(this)),h}),a.registerHelper("if",function(a,b){return p(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||i.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){p(a)&&(a=a.call(this));var c=b.fn;if(i.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=f(b.data);d.contextPath=i.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}function f(a){var b=i.extend({},a);return b._parent=a,b}"use strict";var g=c(6)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d,b.createFrame=f;var h=c(4),i=g(h),j=c(3),k=g(j),l="3.0.1";b.VERSION=l;var m=6;b.COMPILER_REVISION=m;var n={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=n;var o=i.isArray,p=i.isFunction,q=i.toString,r="[object Object]";d.prototype={constructor:d,logger:s,log:t,registerHelper:function(a,b){if(q.call(a)===r){if(b)throw new k["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(q.call(a)===r)i.extend(this.partials,a);else{if("undefined"==typeof b)throw new k["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var s={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,b){if("undefined"!=typeof console&&s.level<=a){var c=s.methodMap[a];(console[c]||console.log).call(console,b)}}};b.logger=s;var t=s.log;b.log=t},function(a,b,c){function d(a){this.string=a}"use strict",b.__esModule=!0,d.prototype.toString=d.prototype.toHTML=function(){return""+this.string},b["default"]=d,a.exports=b["default"]},function(a,b,c){function d(a,b){var c=b&&b.loc,f=void 0,g=void 0;c&&(f=c.start.line,g=c.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<e.length;i++)this[e[i]]=h[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,d),c&&(this.lineNumber=f,this.column=g)}"use strict",b.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){function d(a){return k[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function g(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,d):a}function h(a){return a||0===a?p(a)&&0===a.length?!0:!1:!0}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}"use strict",b.__esModule=!0,b.extend=e,b.indexOf=f,b.escapeExpression=g,b.isEmpty=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,m=/[&<>"'`]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)});var o;b.isFunction=o;var p=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===n.call(a):!1};b.isArray=p},function(a,b,c){function d(a){var b=a&&a[0]||1,c=p.COMPILER_REVISION;if(b!==c){if(c>b){var d=p.REVISION_CHANGES[c],e=p.REVISION_CHANGES[b];throw new o["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new o["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=m.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new o["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){var c=void 0===arguments[1]?{}:arguments[1],f=c.data;d._setup(c),!c.partial&&a.useData&&(f=j(b,f));var g=void 0,h=a.useBlockParams?[]:void 0;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(e,b,e.helpers,e.partials,f,h,g)}if(!b)throw new o["default"]("No environment passed to template");if(!a||!a.main)throw new o["default"]("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(b in a)return a[b];throw new o["default"]('"'+b+'" not defined in '+a)},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:m.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=m.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new o["default"]("must pass block params");if(a.useDepths&&!g)throw new o["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=void 0===arguments[1]?{}:arguments[1];return c.call(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),g&&[b].concat(g))}return h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=c.partials[c.name],a}function h(a,b,c){if(c.partial=!0,void 0===a)throw new o["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?p.createFrame(b):{},b.root=a),b}"use strict";var k=c(6)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var l=c(4),m=k(l),n=c(3),o=k(n),p=c(1)},function(a,b,c){"use strict",b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0}])}),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},3:function(a,b,c,d){return'      <span class="fa fa-quote-left"></span>\n'},5:function(a,b,c,d){return'      <span class="glyphicon glyphicon-quote"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<li>\n  <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))!=null?e:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.color=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.black:e,a))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.black:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.silver:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.gray:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.maroon:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.red:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.purple:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.green:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.olive:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.navy:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.blue:e,a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.colours:e)!=null?e.orange:e,a))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.emphasis=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},3:function(a,b,c,d){var e;return'    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+this.escapeExpression(this.lambda((e=(e=a!=null?a.locale:a)!=null?e.emphasis:e)!=null?e.small:e,a))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.emphasis:e)!=null?e.bold:e,a))+'</a>\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.emphasis:e)!=null?e.italic:e,a))+'</a>\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+
g(f((e=(e=a!=null?a.locale:a)!=null?e.emphasis:e)!=null?e.underline:e,a))+"</a>\n"+((e=b["if"].call(a,(e=(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.emphasis:e)!=null?e.small:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))!=null?e:"")+"  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl["font-styles"]=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},3:function(a,b,c,d){return'      <span class="fa fa-font"></span>\n'},5:function(a,b,c,d){return'      <span class="glyphicon glyphicon-font"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+'" data-toggle="dropdown">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))!=null?e:"")+'    <span class="current-font">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.normal:e,a))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.normal:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h1:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h2:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h3:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h4:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h5:e,a))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.font_styles:e)!=null?e.h6:e,a))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.html=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},3:function(a,b,c,d){return'        <span class="fa fa-pencil"></span>\n'},5:function(a,b,c,d){return'        <span class="glyphicon glyphicon-pencil"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<li>\n  <div class="btn-group">\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-action="change_view" title="'+this.escapeExpression(this.lambda((e=(e=a!=null?a.locale:a)!=null?e.html:e)!=null?e.edit:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))!=null?e:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.image=Handlebars.template({1:function(a,b,c,d){return"modal-sm"},3:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},5:function(a,b,c,d){return'      <span class="fa fa-file-image-o"></span>\n'},7:function(a,b,c,d){return'      <span class="glyphicon glyphicon-picture"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.smallmodals:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+g(f((e=(e=a!=null?a.locale:a)!=null?e.image:e)!=null?e.insert:e,a))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.image:e)!=null?e.cancel:e,a))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.image:e)!=null?e.insert:e,a))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="insertImage" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.image:e)!=null?e.insert:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(5,d,0),inverse:this.program(7,d,0),data:d}))!=null?e:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.link=Handlebars.template({1:function(a,b,c,d){return"modal-sm"},3:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},5:function(a,b,c,d){return'      <span class="fa fa-share-square-o"></span>\n'},7:function(a,b,c,d){return'      <span class="glyphicon glyphicon-share"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.smallmodals:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+g(f((e=(e=a!=null?a.locale:a)!=null?e.link:e)!=null?e.insert:e,a))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+g(f((e=(e=a!=null?a.locale:a)!=null?e.link:e)!=null?e.target:e,a))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.link:e)!=null?e.cancel:e,a))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+g(f((e=(e=a!=null?a.locale:a)!=null?e.link:e)!=null?e.insert:e,a))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="createLink" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.link:e)!=null?e.insert:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(5,d,0),inverse:this.program(7,d,0),data:d}))!=null?e:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.lists=Handlebars.template({1:function(a,b,c,d){var e;return"btn-"+this.escapeExpression(this.lambda((e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,a))},3:function(a,b,c,d){return'      <span class="fa fa-list-ul"></span>\n'},5:function(a,b,c,d){return'      <span class="glyphicon glyphicon-list"></span>\n'},7:function(a,b,c,d){return'      <span class="fa fa-list-ol"></span>\n'},9:function(a,b,c,d){return'      <span class="glyphicon glyphicon-th-list"></span>\n'},11:function(a,b,c,d){return'      <span class="fa fa-outdent"></span>\n'},13:function(a,b,c,d){return'      <span class="glyphicon glyphicon-indent-right"></span>\n'},15:function(a,b,c,d){return'      <span class="fa fa-indent"></span>\n'},17:function(a,b,c,d){return'      <span class="glyphicon glyphicon-indent-left"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=this.lambda,g=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.lists:e)!=null?e.unordered:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))!=null?e:"")+'    </a>\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="insertOrderedList" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.lists:e)!=null?e.ordered:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.program(9,d,0),data:d}))!=null?e:"")+'    </a>\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="Outdent" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.lists:e)!=null?e.outdent:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(11,d,0),inverse:this.program(13,d,0),data:d}))!=null?e:"")+'    </a>\n    <a class="btn '+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.size:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))!=null?e:"")+' btn-default" data-wysihtml5-command="Indent" title="'+g(f((e=(e=a!=null?a.locale:a)!=null?e.lists:e)!=null?e.indent:e,a))+'" tabindex="-1">\n'+((e=b["if"].call(a,(e=(e=a!=null?a.options:a)!=null?e.toolbar:e)!=null?e.fa:e,{name:"if",hash:{},fn:this.program(15,d,0),inverse:this.program(17,d,0),data:d}))!=null?e:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),function(a){typeof define=="function"&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],a):a(jQuery,wysihtml5)}(function(a,b){var c=function(a,b){"use strict";var c=function(a,c,d){if(b.tpl[a])return b.tpl[a]({locale:c,options:d})},d=function(c,d){this.el=c;var e=a.extend(!0,{},f,d);for(var g in e.customTemplates)b.tpl[g]=e.customTemplates[g];this.toolbar=this.createToolbar(c,e),this.editor=this.createEditor(e)};d.prototype={constructor:d,createEditor:function(c){c=c||{},c=a.extend(!0,{},c),c.toolbar=this.toolbar[0];var d=new b.Editor(this.el[0],c);d.composer.editableArea.contentDocument?this.addMoreShortcuts(d,d.composer.editableArea.contentDocument.body||d.composer.editableArea.contentDocument,c.shortcuts):this.addMoreShortcuts(d,d.composer.editableArea,c.shortcuts);if(c&&c.events)for(var e in c.events)d.on(e,c.events[e]);return d.on("beforeload",this.syncBootstrapDialogEvents),d},syncBootstrapDialogEvents:function(){var b=this;a.map(this.toolbar.commandMapping,function(a,b){return[a]}).filter(function(a,b,c){return a.dialog}).map(function(a,b,c){return a.dialog}).forEach(function(c,d,e){c.on("show",function(b){a(this.container).modal("show")}),c.on("hide",function(c){a(this.container).modal("hide"),b.composer.focus()}),a(c.container).on("shown.bs.modal",function(){a(this).find("input, select, textarea").first().focus()})})},createToolbar:function(b,d){var e=this,h=a("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),i=d.locale||f.locale||"en";g.hasOwnProperty(i)||(console.debug("Locale '"+i+"' not found. Available locales are: "+Object.keys(g)+". Falling back to 'en'."),i="en");var j=a.extend(!0,{},g.en,g[i]);for(var k in d.toolbar)d.toolbar[k]&&(h.append(c(k,j,d)),k==="html"&&this.initHtml(h));return h.find('a[data-wysihtml5-command="formatBlock"]').click(function(b){var c=b.delegateTarget||b.target||b.srcElement,d=a(c),f=d.data("wysihtml5-display-format-name"),g=d.data("wysihtml5-format-name")||d.html();(f===undefined||f==="true")&&e.toolbar.find(".current-font").text(g)}),h.find('a[data-wysihtml5-command="foreColor"]').click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(".current-color").text(d.html())}),this.el.before(h),h},initHtml:function(a){var b='a[data-wysihtml5-action="change_view"]';a.find(b).click(function(c){a.find("a.btn").not(b).toggleClass("disabled")})},addMoreShortcuts:function(a,c,d){b.dom.observe(c,"keydown",function(c){var e=c.keyCode,f=d[e];if((c.ctrlKey||c.metaKey||c.altKey)&&f&&b.commands[f]){var g=a.toolbar.commandMapping[f+":null"];g&&g.dialog&&!g.state?g.dialog.show():b.commands[f].exec(a.composer,f),c.preventDefault()}})}};var e={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(b){return this.each(function(){var c=a(this);c.data("wysihtml5",new d(c,b))})},shallowExtend:function(b){var c=a.extend({},a.fn.wysihtml5.defaultOptions,b||{},a(this).data()),d=this;return e.bypassDefaults.apply(d,[c])},deepExtend:function(b){var c=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,b||{}),d=this;return e.bypassDefaults.apply(d,[c])},init:function(a){var b=this;return e.shallowExtend.apply(b,[a])}};a.fn.wysihtml5=function(b){if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return e.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.wysihtml5")},a.fn.wysihtml5.Constructor=d;var f=a.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};typeof a.fn.wysihtml5.defaultOptionsCache=="undefined"&&(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions));var g=a.fn.wysihtml5.locale={}};c(a,b)}),function(a){a.commands.small={exec:function(b,c){return a.commands.formatInline.exec(b,c,"small")},state:function(b,c){return a.commands.formatInline.state(b,c,"small")}}}(wysihtml5),function(a){typeof define=="function"&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],a):a(jQuery)}(function(a){a.fn.wysihtml5.locale.en=a.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(a){a.fn.formToWizard=function(b){function g(b){var c="step"+b;a("#"+c+"commands").append("<a href='#' id='"+c+"Prev' class='prev'>< Anterior</a>"),a("#"+c+"Prev").bind("click",function(d){a("#"+c).hide(),a("#step"+(b-1)).show(),a(f).hide(),i(b-1)})}function h(b){var c="step"+b;a("#"+c+"commands").append("<a href='#' id='"+c+"Next' class='next'>Siguiente ></a>"),a("#"+c+"Next").bind("click",function(d){a("#"+c).hide(),a("#step"+(b+1)).show(),b+2==e&&a(f).show(),i(b+1)})}function i(b){a("#steps li").removeClass("current"),a("#stepDesc"+b).addClass("current")}b=a.extend({submitButton:""},b);var c=this,d=a(c).find("fieldset"),e=d.size(),f="#"+b.submitButton;a(f).hide(),a(c).before("<ul id='steps'></ul>"),d.each(function(b){a(this).wrap("<div id='step"+b+"'></div>"),a(this).append("<p id='step"+b+"commands'></p>");var c=a(this).find("legend").html();a("#steps").append("<li id='stepDesc"+b+"'>Paso "+(b+1)+"<span>"+c+"</span></li>"),b==0?(h(b),i(b)):b==e-1?(a("#step"+b).hide(),g(b)):(a("#step"+b).hide(),g(b),h(b))})}}(jQuery),function(a,b,c){function e(a){return a}function f(a){return decodeURIComponent(a.replace(d," "))}var d=/\+/g,g=a.cookie=function(d,h,i){if(h!==c){i=a.extend({},g.defaults,i),h===null&&(i.expires=-1);if(typeof i.expires=="number"){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(d),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=g.raw?e:f,m=b.cookie.split("; ");for(var n=0,o=m.length;n<o;n++){var p=m[n].split("=");if(l(p.shift())===d){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={},a.removeCookie=function(b,c){return a.cookie(b)!==null?(a.cookie(b,null,c),!0):!1}}(jQuery,document),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,f;return this._super=a,this._superApply=d,f=e.apply(this,arguments),this._super=b,this._superApply=c,f}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){var e=d.call(arguments,1),f=0,g=e.length,h,i;for(;f<g;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(a.isPlainObject(i)?c[h]=a.isPlainObject(c[h])?a.widget.extend({},c[h],i):a.widget.extend({},i):c[h]=i);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName;a.fn[c]=function(i){var j=typeof i=="string",k=d.call(arguments,1),l=this;return i=!j&&k.length?a.widget.extend.apply(null,[i].concat(k)):i,j?this.each(function(){var d,e=a.data(this,f);if(!e)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+i+"'");if(!a.isFunction(e[i])||i.charAt(0)==="_")return a.error("no such method '"+i+"' for "+c+" widget instance");d=e[i].apply(e,k);if(d!==e&&d!==b)return l=d&&d.jquery?l.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,f);b?b.option(i||{})._init():new e(i,this)}),l}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on({remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e=c,f,g,h;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof c=="string"){e={},f=c.split("."),c=f.shift();if(f.length){g=e[c]=a.widget.extend({},this.options[c]);for(h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];c=f.pop();if(d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){c?(b=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element);var d=this;a.each(c,function(c,e){function g(){if(d.options.disabled===!0||a(this).hasClass("ui-state-disabled"))return;return(typeof e=="string"?d[e]:e).apply(d,arguments)}typeof e!="string"&&(g.guid=e.guid=e.guid||g.guid||a.guid++);var i=c.match(/^(\w+)\s*(.*)$/),j=i[1]+d.eventNamespace,k=i[2];k?d.widget().delegate(k,j,g):b.bind(j,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,h){typeof e=="string"&&(e={effect:e});var i,j=e?e===!0||typeof e=="number"?c:e.effect||c:b;e=e||{},typeof e=="number"&&(e={duration:e}),i=!a.isEmptyObject(e),e.complete=h,e.delay&&d.delay(e.delay),i&&a.effects&&(a.effects.effect[j]||a.uiBackCompat!==!1&&a.effects[j])?d[b](e):j!==b&&d[j]?d[j](e.duration,e.easing,h):d.queue(function(c){a(this)[b](),h&&h.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(a,b){a.widget("bootstrap.bwizard",{options:{clickableSteps:!0,autoPlay:!1,delay:3e3,loop:!1,hideOption:{fade:!0},showOption:{fade:!0,duration:400},ajaxOptions:null,cache:!1,cookie:null,stepHeaderTemplate:"",panelTemplate:"",spinner:"",backBtnText:"&larr; Anterior",nextBtnText:"Siguiente &rarr;",add:null,remove:null,activeIndexChanged:null,show:null,load:null,validating:null},_defaults:{stepHeaderTemplate:"<li>#{title}</li>",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>"},_create:function(){var a=this;a._pageLize(!0)},_init:function(){var a=this.options,b=a.disabled;a.disabledState?(this.disable(),a.disabled=b):a.autoPlay&&this.play()},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"activeIndex":this.show(c);break;case"navButtons":this._createButtons();break;default:this._pageLize()}},play:function(){var a=this.options,b=this,c;this.element.data("intId.bwizard")||(c=window.setInterval(function(){var c=a.activeIndex+1;if(c>=b.panels.length)if(a.loop)c=0;else{b.stop();return}b.show(c)},a.delay),this.element.data("intId.bwizard",c))},stop:function(){var a=this.element.data("intId.bwizard");a&&(window.clearInterval(a),this.element.removeData("intId.bwizard"))},_normalizeBlindOption:function(a){a.blind===b&&(a.blind=!1),a.fade===b&&(a.fade=!1),a.duration===b&&(a.duration=200);if(typeof a.duration=="string")try{a.duration=parseInt(a.duration,10)}catch(c){a.duration=200}},_createButtons:function(){var b=this,c=this.options,d,e=c.backBtnText,f=c.nextBtnText;this._removeButtons();if(c.navButtons==="none")return;if(!this.buttons){d=c.navButtons;var g=!1;this.buttons=a('<ul class="pager"/>'),this.buttons.addClass("bwizard-buttons");if(e!=""){this.backBtn=a("<li class='previous'><a href='#'>"+e+"</a></li>").appendTo(this.buttons).bind({click:function(){return b.back(),!1}}).attr("role","button");var g=!0}if(f!=""){this.nextBtn=a("<li class='next'><a href='#'>"+f+"</a>").appendTo(this.buttons).bind({click:function(){return b.next(),!1}}).attr("role","button");var g=!0}g?this.buttons.appendTo(this.element):this.buttons=null}},_removeButtons:function(){this.buttons&&(this.buttons.remove(),this.buttons=b)},_pageLize:function(c){var d=this,e=this.options,f=/^#.+/,g=!1;this.list=this.element.children("ol,ul").eq(0);var h=this.list.length;this.list&&h===0&&(this.list=null),this.list&&(this.list.get(0).tagName.toLowerCase()==="ol"&&(g=!0),this.lis=a("li",this.list),this.lis.each(function(b){e.clickableSteps?(a(this).click(function(a){a.preventDefault(),d.show(b)}),a(this).contents().wrap('<a href="#step'+(b+1)+'" class="hidden-phone"/>')):a(this).contents().wrap('<span class="hidden-phone"/>'),a(this).attr("role","tab"),a(this).css("z-index",d.lis.length-b),a(this).prepend('<span class="label">'+(b+1)+"</span>"),g||a(this).find(".label").addClass("visible-phone")})),c?(this.panels=a("> div",this.element),this.panels.each(function(b,c){a(this).attr("id","step"+(b+1));var d=a(c).attr("src");d&&!f.test(d)&&a.data(c,"load.bwizard",d.replace(/#.*$/,""))}),this.element.addClass("bwizard clearfix"),this.list&&(this.list.addClass("bwizard-steps clearfix").attr("role","tablist"),e.clickableSteps&&this.list.addClass("clickable")),this.container=a("<div/>"),this.container.addClass("well"),this.container.append(this.panels),this.container.appendTo(this.element),this.panels.attr("role","tabpanel"),e.activeIndex===b?(typeof e.activeIndex!="number"&&e.cookie&&(e.activeIndex=parseInt(d._cookie(),10)),typeof e.activeIndex!="number"&&this.panels.filter(".bwizard-activated").length&&(e.activeIndex=this.panels.index(this.panels.filter(".bwizard-activated"))),e.activeIndex=e.activeIndex||(this.panels.length?0:-1)):e.activeIndex===null&&(e.activeIndex=-1),e.activeIndex=e.activeIndex>=0&&this.panels[e.activeIndex]||e.activeIndex<0?e.activeIndex:0,this.panels.addClass("hide").attr("aria-hidden",!0),e.activeIndex>=0&&this.panels.length&&(this.panels.eq(e.activeIndex).removeClass("hide").addClass("bwizard-activated").attr("aria-hidden",!1),this.load(e.activeIndex)),this._createButtons()):(this.panels=a("> div",this.container),e.activeIndex=this.panels.index(this.panels.filter(".bwizard-activated"))),this._refreshStep(),e.cookie&&this._cookie(e.activeIndex,e.cookie),e.cache===!1&&this.panels.removeData("cache.bwizard");if(e.showOption===b||e.showOption===null)e.showOption={};this._normalizeBlindOption(e.showOption);if(e.hideOption===b||e.hideOption===null)e.hideOption={};this._normalizeBlindOption(e.hideOption),this.panels.unbind(".bwizard")},_refreshStep:function(){var a=this.options;this.lis&&(this.lis.removeClass("active").attr("aria-selected",!1).find(".label").removeClass("badge-inverse"),a.activeIndex>=0&&a.activeIndex<=this.lis.length-1&&this.lis&&this.lis.eq(a.activeIndex).addClass("active").attr("aria-selected",!0).find(".label").addClass("badge-inverse")),this.buttons&&!a.loop&&(this.backBtn[a.activeIndex<=0?"addClass":"removeClass"]("disabled").attr("aria-disabled",a.activeIndex===0),this.nextBtn[a.activeIndex>=this.panels.length-1?"addClass":"removeClass"]("disabled").attr("aria-disabled",a.activeIndex>=this.panels.length-1))},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name);return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a){return{panel:a,index:this.panels.index(a)}},_removeSpinner:function(){var a=this.element.data("spinner.bwizard");a&&(this.element.removeData("spinner.bwizard"),a.remove())},_resetStyle:function(b){b.css({display:""}),a.support.opacity||b[0].style.removeAttribute("filter")},destroy:function(){var b=this.options;return this.abort(),this.stop(),this._removeButtons(),this.element.unbind(".bwizard").removeClass(["bwizard","clearfix"].join(" ")).removeData("bwizard"),this.list&&this.list.removeClass("bwizard-steps clearfix").removeAttr("role"),this.lis&&(this.lis.removeClass("active").removeAttr("role"),this.lis.each(function(){a.data(this,"destroy.bwizard")?a(this).remove():a(this).removeAttr("aria-selected")})),this.panels.each(function(){var b=a(this).unbind(".bwizard");a.each(["load","cache"],function(a,c){b.removeData(c+".bwizard")}),a.data(this,"destroy.bwizard")?a(this).remove():a(this).removeClass(["bwizard-activated","hide"].join(" ")).css({position:"",left:"",top:""}).removeAttr("aria-hidden")}),this.container.replaceWith(this.container.contents()),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d){c===b&&(c=this.panels.length),d===b&&(d="Step "+c);var e=this,f=this.options,g=a(f.panelTemplate||e._defaults.panelTemplate).data("destroy.bwizard",!0),h;return g.addClass("hide").attr("aria-hidden",!0),c>=this.panels.length?this.panels.length>0?g.insertAfter(this.panels[this.panels.length-1]):g.appendTo(this.container):g.insertBefore(this.panels[c]),this.list&&this.lis&&(h=a((f.stepHeaderTemplate||e._defaults.stepHeaderTemplate).replace(/#\{title\}/g,d)),h.data("destroy.bwizard",!0),c>=this.lis.length?h.appendTo(this.list):h.insertBefore(this.lis[c])),this._pageLize(),this.panels.length===1&&(f.activeIndex=0,h.addClass("ui-priority-primary"),g.removeClass("hide").addClass("bwizard-activated").attr("aria-hidden",!1),this.element.queue("bwizard",function(){e._trigger("show"
,null,e._ui(e.panels[0]))}),this._refreshStep(),this.load(0)),this._trigger("add",null,this._ui(this.panels[c])),this},remove:function(a){var b=this.options,c=this.panels.eq(a).remove();return this.lis.eq(a).remove(),a<b.activeIndex&&b.activeIndex--,this._pageLize(),c.hasClass("bwizard-activated")&&this.panels.length>=1&&this.show(a+(a<this.panels.length?0:-1)),this._trigger("remove",null,this._ui(c[0])),this},_showPanel:function(b){var c=this,d=this.options,e=a(b),f;e.addClass("bwizard-activated"),(d.showOption.blind||d.showOption.fade)&&d.showOption.duration>0?(f={duration:d.showOption.duration},d.showOption.blind&&(f.height="toggle"),d.showOption.fade&&(f.opacity="toggle"),e.hide().removeClass("hide").animate(f,d.showOption.duration||"normal",function(){c._resetStyle(e),c._trigger("show",null,c._ui(e[0])),c._removeSpinner(),e.attr("aria-hidden",!1),c._trigger("activeIndexChanged",null,c._ui(e[0]))})):(e.removeClass("hide").attr("aria-hidden",!1),c._trigger("show",null,c._ui(e[0])),c._removeSpinner(),c._trigger("activeIndexChanged",null,c._ui(e[0])))},_hidePanel:function(b){var c=this,d=this.options,e=a(b),f;e.removeClass("bwizard-activated"),(d.hideOption.blind||d.hideOption.fade)&&d.hideOption.duration>0?(f={duration:d.hideOption.duration},d.hideOption.blind&&(f.height="toggle"),d.hideOption.fade&&(f.opacity="toggle"),e.animate(f,d.hideOption.duration||"normal",function(){e.addClass("hide").attr("aria-hidden",!0),c._resetStyle(e),c.element.dequeue("bwizard")})):(e.addClass("hide").attr("aria-hidden",!0),this.element.dequeue("bwizard"))},show:function(b){if(b<0||b>=this.panels.length)return this;if(this.element.queue("bwizard").length>0)return this;var c=this,d=this.options,e=a.extend({},this._ui(this.panels[d.activeIndex])),f,g;e.nextIndex=b,e.nextPanel=this.panels[b];if(this._trigger("validating",null,e)===!1)return this;f=this.panels.filter(":not(.hide)"),g=this.panels.eq(b),d.activeIndex=b,this.abort(),d.cookie&&this._cookie(d.activeIndex,d.cookie),this._refreshStep();if(g.length)f.length&&this.element.queue("bwizard",function(){c._hidePanel(f)}),this.element.queue("bwizard",function(){c._showPanel(g)}),this.load(b);else throw"Bootstrap Wizard: Mismatching fragment identifier.";return this},next:function(){var a=this.options,b=a.activeIndex+1;return a.disabled?!1:(a.loop&&(b=b%this.panels.length),b<this.panels.length?(this.show(b),!0):!1)},back:function(){var a=this.options,b=a.activeIndex-1;return a.disabled?!1:(a.loop&&(b=b<0?this.panels.length-1:b),b>=0?(this.show(b),!0):!1)},load:function(b){var c=this,d=this.options,e=this.panels.eq(b)[0],f=a.data(e,"load.bwizard"),g;this.abort();if(!f||this.element.queue("bwizard").length!==0&&a.data(e,"cache.bwizard")){this.element.dequeue("bwizard");return}return d.spinner&&(g=this.element.data("spinner.bwizard"),g||(g=a('<div class="modal" id="spinner" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"/>'),g.html(d.spinner||c._defaults.spinner),g.appendTo(document.body),this.element.data("spinner.bwizard",g),g.modal())),this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,dataType:"html",success:function(f,g){a(e).html(f),d.cache&&a.data(e,"cache.bwizard",!0),c._trigger("load",null,c._ui(c.panels[b]));try{d.ajaxOptions&&d.ajaxOptions.success&&d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){c._trigger("load",null,c._ui(c.panels[b]));try{d.ajaxOptions&&d.ajaxOptions.error&&d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("bwizard"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("bwizard",this.element.queue("bwizard").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._removeSpinner(),this},url:function(a,b){return this.panels.eq(a).removeData("cache.bwizard").data("load.bwizard",b),this},count:function(){return this.panels.length}})}(jQuery),function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(a,b){this.defaults.type=a,this.defaults.name=b},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);settings.single.length||(settings.single="metadata");var data=$.data(elem,settings.single);if(data)return data;data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);m&&(data=m[1])}else if(settings.type=="elem"){if(!elem.getElementsByTagName)return undefined;var e=elem.getElementsByTagName(settings.name);e.length&&(data=$.trim(e[0].innerHTML))}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);attr&&(data=attr)}return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(a){return $.metadata.get(this[0],a)}}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(a,b){log(a+","+((new Date).getTime()-b.getTime())+"ms")}function log(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function buildParserCache(a,b){if(a.config.debug)var c="";if(a.tBodies.length==0)return;var d=a.tBodies[0].rows;if(d[0]){var e=[],f=d[0].cells,g=f.length;for(var h=0;h<g;h++){var i=!1;$.metadata&&$(b[h]).metadata()&&$(b[h]).metadata().sorter?i=getParserById($(b[h]).metadata().sorter):a.config.headers[h]&&a.config.headers[h].sorter&&(i=getParserById(a.config.headers[h].sorter)),i||(i=detectParserForColumn(a,d,-1,h)),a.config.debug&&(c+="column:"+h+" parser:"+i.id+"\n"),e.push(i)}}return a.config.debug&&log(c),e}function detectParserForColumn(a,b,c,d){var e=parsers.length,f=!1,g=!1,h=!0;while(g==""&&h)c++,b[c]?(f=getNodeFromRowAndCellIndex(b,c,d),g=trimAndGetNodeText(a.config,f),a.config.debug&&log("Checking if value was empty on row:"+c)):h=!1;for(var i=1;i<e;i++)if(parsers[i].is(g,a,f))return parsers[i];return parsers[0]}function getNodeFromRowAndCellIndex(a,b,c){return a[b].cells[c]}function trimAndGetNodeText(a,b){return $.trim(getElementText(a,b))}function getParserById(a){var b=parsers.length;for(var c=0;c<b;c++)if(parsers[c].id.toLowerCase()==a.toLowerCase())return parsers[c];return!1}function buildCache(a){if(a.config.debug)var b=new Date;var c=a.tBodies[0]&&a.tBodies[0].rows.length||0,d=a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length||0,e=a.config.parsers,f={row:[],normalized:[]};for(var g=0;g<c;++g){var h=$(a.tBodies[0].rows[g]),i=[];if(h.hasClass(a.config.cssChildRow)){f.row[f.row.length-1]=f.row[f.row.length-1].add(h);continue}f.row.push(h);for(var j=0;j<d;++j)i.push(e[j].format(getElementText(a.config,h[0].cells[j]),a,h[0].cells[j]));i.push(f.normalized.length),f.normalized.push(i),i=null}return a.config.debug&&benchmark("Building cache for "+c+" rows:",b),f}function getElementText(a,b){var c="";return b?(a.supportsTextContent||(a.supportsTextContent=b.textContent||!1),a.textExtraction=="simple"?a.supportsTextContent?c=b.textContent:b.childNodes[0]&&b.childNodes[0].hasChildNodes()?c=b.childNodes[0].innerHTML:c=b.innerHTML:typeof a.textExtraction=="function"?c=a.textExtraction(b):c=$(b).text(),c):""}function appendToTable(a,b){if(a.config.debug)var c=new Date;var d=b,e=d.row,f=d.normalized,g=f.length,h=f[0].length-1,i=$(a.tBodies[0]),j=[];for(var k=0;k<g;k++){var l=f[k][h];j.push(e[l]);if(!a.config.appender){var m=e[l].length;for(var n=0;n<m;n++)i[0].appendChild(e[l][n])}}a.config.appender&&a.config.appender(a,j),j=null,a.config.debug&&benchmark("Rebuilt table:",c),applyWidget(a),setTimeout(function(){$(a).trigger("sortEnd")},0)}function buildHeaders(a){if(a.config.debug)var b=new Date;var c=$.metadata?!0:!1,d=computeTableHeaderCellIndexes(a);return $tableHeaders=$(a.config.selectorHeaders,a).each(function(b){this.column=d[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(a.config.sortInitialOrder),this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(a,b))this.sortDisabled=!0;checkHeaderOptionsSortingLocked(a,b)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(a,b));if(!this.sortDisabled){var c=$(this).addClass(a.config.cssHeader);a.config.onRenderHeader&&a.config.onRenderHeader.apply(c)}a.config.headerList[b]=this}),a.config.debug&&(benchmark("Built headers:",b),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(a){var b=[],c={},d=a.getElementsByTagName("THEAD")[0],e=d.getElementsByTagName("TR");for(var f=0;f<e.length;f++){var g=e[f].cells;for(var h=0;h<g.length;h++){var i=g[h],j=i.parentNode.rowIndex,k=j+"-"+i.cellIndex,l=i.rowSpan||1,m=i.colSpan||1,n;typeof b[j]=="undefined"&&(b[j]=[]);for(var o=0;o<b[j].length+1;o++)if(typeof b[j][o]=="undefined"){n=o;break}c[k]=n;for(var o=j;o<j+l;o++){typeof b[o]=="undefined"&&(b[o]=[]);var p=b[o];for(var q=n;q<n+m;q++)p[q]="x"}}}return c}function checkCellColSpan(a,b,c){var d=[],e=a.tHead.rows,f=e[c].cells;for(var g=0;g<f.length;g++){var h=f[g];h.colSpan>1?d=d.concat(checkCellColSpan(a,headerArr,c++)):(a.tHead.length==1||h.rowSpan>1||!e[c+1])&&d.push(h)}return d}function checkHeaderMetadata(a){return $.metadata&&$(a).metadata().sorter===!1?!0:!1}function checkHeaderOptions(a,b){return a.config.headers[b]&&a.config.headers[b].sorter===!1?!0:!1}function checkHeaderOptionsSortingLocked(a,b){return a.config.headers[b]&&a.config.headers[b].lockedOrder?a.config.headers[b].lockedOrder:!1}function applyWidget(a){var b=a.config.widgets,c=b.length;for(var d=0;d<c;d++)getWidgetById(b[d]).format(a)}function getWidgetById(a){var b=widgets.length;for(var c=0;c<b;c++)if(widgets[c].id.toLowerCase()==a.toLowerCase())return widgets[c]}function formatSortingOrder(a){return typeof a!="Number"?a.toLowerCase()=="desc"?1:0:a==1?1:0}function isValueInArray(a,b){var c=b.length;for(var d=0;d<c;d++)if(b[d][0]==a)return!0;return!1}function setHeadersCss(a,b,c,d){b.removeClass(d[0]).removeClass(d[1]);var e=[];b.each(function(a){this.sortDisabled||(e[this.column]=$(this))});var f=c.length;for(var g=0;g<f;g++)e[c[g][0]].addClass(d[c[g][1]])}function fixColumnWidth(a,b){var c=a.config;if(c.widthFixed){var d=$("<colgroup>");$("tr:first td",a.tBodies[0]).each(function(){d.append($("<col>").css("width",$(this).width()))}),$(a).prepend(d)}}function updateHeaderSortCount(a,b){var c=a.config,d=b.length;for(var e=0;e<d;e++){var f=b[e],g=c.headerList[f[0]];g.count=f[1],g.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(a,b,c){var d="a["+c+"]",e="b["+c+"]";if(a=="text"&&b=="asc")return"("+d+" == "+e+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+e+" === null ? Number.NEGATIVE_INFINITY : ("+d+" < "+e+") ? -1 : 1 )));";if(a=="text"&&b=="desc")return"("+d+" == "+e+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+e+" === null ? Number.NEGATIVE_INFINITY : ("+e+" < "+d+") ? -1 : 1 )));";if(a=="numeric"&&b=="asc")return"("+d+" === null && "+e+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+e+" === null ? Number.NEGATIVE_INFINITY : "+d+" - "+e+"));";if(a=="numeric"&&b=="desc")return"("+d+" === null && "+e+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+e+" === null ? Number.NEGATIVE_INFINITY : "+e+" - "+d+"));"}function makeSortText(a){return"((a["+a+"] < b["+a+"]) ? -1 : ((a["+a+"] > b["+a+"]) ? 1 : 0));"}function makeSortTextDesc(a){return"((b["+a+"] < a["+a+"]) ? -1 : ((b["+a+"] > a["+a+"]) ? 1 : 0));"}function makeSortNumeric(a){return"a["+a+"]-b["+a+"];"}function makeSortNumericDesc(a){return"b["+a+"]-a["+a+"];"}function sortText(a,b){return table.config.sortLocaleCompare?a.localeCompare(b):a<b?-1:a>b?1:0}function sortTextDesc(a,b){return table.config.sortLocaleCompare?b.localeCompare(a):b<a?-1:b>a?1:0}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(a,b){return a[b].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(a){return this.each(function(){if(!this.tHead||!this.tBodies)return;var b,c,d,e,f,g=0,h;this.config={},f=$.extend(this.config,$.tablesorter.defaults,a),b=$(this),$.data(this,"tablesorter",f),d=buildHeaders(this),this.config.parsers=buildParserCache(this,d),e=buildCache(this);var i=[f.cssDesc,f.cssAsc];fixColumnWidth(this),d.click(function(a){var c=b[0].tBodies[0]&&b[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&c>0){b.trigger("sortStart");var g=$(this),h=this.column;this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder);if(!a[f.sortMultiSortKey]){f.sortList=[];if(f.sortForce!=null){var j=f.sortForce;for(var k=0;k<j.length;k++)j[k][0]!=h&&f.sortList.push(j[k])}f.sortList.push([h,this.order])}else if(isValueInArray(h,f.sortList))for(var k=0;k<f.sortList.length;k++){var l=f.sortList[k],m=f.headerList[l[0]];l[0]==h&&(m.count=l[1],m.count++,l[1]=m.count%2)}else f.sortList.push([h,this.order]);return setTimeout(function(){setHeadersCss(b[0],d,f.sortList,i),appendToTable(b[0],multisort(b[0],f.sortList,e))},1),!1}}).mousedown(function(){if(f.cancelSelection)return this.onselectstart=function(){return!1},!1}),b.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=buildParserCache(a,d),e=buildCache(a)},1)}).bind("updateCell",function(a,b){var c=this.config,d=[b.parentNode.rowIndex-1,b.cellIndex];e.normalized[d[0]][d[1]]=c.parsers[d[1]].format(getElementText(c,b),b)}).bind("sorton",function(a,b){$(this).trigger("sortStart"),f.sortList=b;var c=f.sortList;updateHeaderSortCount(this,c),setHeadersCss(this,d,c,i),appendToTable(this,multisort(this,c,e))}).bind("appendCache",function(){appendToTable(this,e)}).bind("applyWidgetId",function(a,b){getWidgetById(b).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(f.sortList=$(this).metadata().sortlist),f.sortList.length>0&&b.trigger("sorton",[f.sortList]),applyWidget(this)})},this.addParser=function(a){var b=parsers.length,c=!0;for(var d=0;d<b;d++)parsers[d].id.toLowerCase()==a.id.toLowerCase()&&(c=!1);c&&parsers.push(a)},this.addWidget=function(a){widgets.push(a)},this.formatFloat=function(a){var b=parseFloat(a);return isNaN(b)?0:b},this.formatInt=function(a){var b=parseInt(a);return isNaN(b)?0:b},this.isDigit=function(a,b){return/^[-+]?\d*$/.test($.trim(a.replace(/[,.']/g,"")))},this.clearTableBody=function(a){a.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(a){return!0},format:function(a){return $.trim(a.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(a,b){var c=b.config;return $.tablesorter.isDigit(a,c)},format:function(a){return $.tablesorter.formatFloat(a)},type:"numeric"}),ts.addParser({id:"currency",is:function(a){return/^[$?.]/.test(a)},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/[$]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){var b=a.split("."),c="",d=b.length;for(var e=0;e<d;e++){var f=b[e];f.length==2?c+="0"+f:c+=f}return $.tablesorter.formatFloat(c)},type:"numeric"}),ts.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return jQuery.trim(a.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(a){return $.tablesorter.formatFloat(a!=""?(new Date(a.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(a){return/\%$/.test($.trim(a))},format:function(a){return $.tablesorter.formatFloat(a.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(a){return a.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},format:function(a,b){var c=b.config;a=a.replace(/\-/g,"/");if(c.dateFormat=="us")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(c.dateFormat=="uk")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy")a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return $.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return $.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(a){return!1},format:function(a,b,c){var d=b.config,e=d.parserMetadataName?d.parserMetadataName:"sortValue";return $(c).metadata()[e]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(a){if(a.config.debug)var b=new Date;var c,d=-1,e;$("tr:visible",a.tBodies[0]).each(function(b){c=$(this),c.hasClass(a.config.cssChildRow)||d++,e=d%2==0,c.removeClass(a.config.widgetZebra.css[e?0:1]).addClass(a.config.widgetZebra.css[e?1:0])}),a.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",b)}})}(jQuery),typeof RGraph=="undefined"&&(RGraph={}),RGraph.Bar=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="bar",this.max=0,this.stackedOrGrouped=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.hmargin":5,"chart.hmargin.grouped":1,"chart.strokecolor":"rgba(0,0,0,0)","chart.axis.color":"black","chart.gutter.top":25,"chart.gutter.bottom":25,"chart.gutter.left":25,"chart.gutter.right":25,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.decimals":0,"chart.labels.above.size":null,"chart.labels.above.angle":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.xlabels.offset":0,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.text.color":"black","chart.text.size":10,"chart.text.angle":0,"chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.font":null,"chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.colors":["#01B4FF","#0f0","#00f","#ff0","#0ff","#0f0"],"chart.colors.sequential":!1,"chart.colors.reverse":!1,"chart.grouping":"grouped","chart.variant":"bar","chart.variant.sketch.verticals":!0,"chart.shadow":!1,"chart.shadow.color":"#999","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.background.hbars":null,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.halign":"right","chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.text.size":10,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.linewidth":1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noaxes":!1,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.events.click":null,"chart.events.mousemove":null,"chart.numxticks":null};if(!this.canvas){alert("[BAR] No canvas support");return}for(i=0;i<b.length;++i)typeof b[i]=="object"&&(this.stackedOrGrouped=!0);this.data=b,this.coords=[],this.data_arr=RGraph.array_linearize(this.data),RGraph.Register(this)},RGraph.Bar.prototype.Set=function(a,b){a=a.toLowerCase(),a=="chart.labels.abovebar"&&(a="chart.labels.above"),a=="chart.strokestyle"&&(a="chart.strokecolor");if(a=="chart.xaxispos"){b!="bottom"&&b!="center"&&b!="top"&&(alert("[BAR] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+b+" Changing it to center"),b="center");if(b=="top")for(var c=0;c<this.data.length;++c)typeof this.data[c]=="number"&&this.data[c]>0&&alert("[BAR] The data element with index "+c+" should be negative")}a.toLowerCase()=="chart.linewidth"&&b==0&&(b=1e-4),this.properties[a]=b},RGraph.Bar.prototype.Get=function(a){return this.properties[a]},RGraph.Bar.prototype.Draw=function(){typeof this.properties["chart.background.image"]=="string"&&RGraph.DrawBackgroundImage(this),RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.properties["chart.gutter.left"],this.gutterRight=this.properties["chart.gutter.right"],this.gutterTop=this.properties["chart.gutter.top"],this.gutterBottom=this.properties["chart.gutter.bottom"];for(var a=0;a<this.data.length;++a)this.data[a]==null&&(this.data[a]=0);(this.properties["chart.variant"]=="pyramid"||this.properties["chart.variant"]=="dot")&&typeof this.properties["chart.tooltips"]=="object"&&this.properties["chart.tooltips"]&&this.properties["chart.tooltips"].length>0&&alert("[BAR] ("+this.id+") Sorry, tooltips are not supported with dot or pyramid charts"),this.coords=[],this.max=0,this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=this.properties["chart.text.size"]/2,RGraph.background.Draw(this),this.properties["chart.variant"]=="sketch"?(this.DrawAxes(),this.Drawbars()):(this.Drawbars(),this.DrawAxes()),this.DrawLabels(),this.properties["chart.key"]&&this.properties["chart.key"].length&&RGraph.DrawKey(this,this.properties["chart.key"],this.properties["chart.colors"]),this.properties["chart.contextmenu"]&&RGraph.ShowContext(this),this.properties["chart.labels.ingraph"]&&RGraph.DrawInGraphLabels(this),this.properties["chart.resizable"]&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Bar.prototype.DrawAxes=function(){if(this.properties["chart.noaxes"])return;var a=this.properties["chart.xaxispos"],b=this.properties["chart.yaxispos"],c=this.properties["chart.variant"]=="sketch";this.context.beginPath(),this.context.strokeStyle=this.properties["chart.axis.color"],this.context.lineWidth=1,this.properties["chart.noyaxis"]==!1&&(b=="right"?(this.context.moveTo(AA(this,this.canvas.width-this.gutterRight+(c?3:0)),this.gutterTop-(c?3:0)),this.context.lineTo(AA(this,this.canvas.width-this.gutterRight)-(c?2:0),this.canvas.height-this.gutterBottom+(c?5:0))):(this.context.moveTo(AA(this,this.gutterLeft-(c?2:0)),this.gutterTop-(c?5:0)),this.context.lineTo(AA(this,this.gutterLeft-(c?1:0)),this.canvas.height-this.gutterBottom+(c?5:0)))),this.properties["chart.noxaxis"]==!1&&(a=="center"?(this.context.moveTo(this.gutterLeft-(c?5:0),AA(this,(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop+(c?2:0))),this.context.lineTo(this.canvas.width-this.gutterRight+(c?5:0),AA(this,(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-(c?2:0)))):a=="top"?(this.context.moveTo(this.gutterLeft-(c?3:0),AA(this,this.gutterTop)-(c?3:0)),this.context.lineTo(this.canvas.width-this.gutterRight+(c?5:0),AA(this,this.gutterTop+(c?2:0)))):(this.context.moveTo(this.gutterLeft-(c?5:0),AA(this,this.canvas.height-this.gutterBottom)-(c?2:0)),this.context.lineTo(this.canvas.width-this.gutterRight+(c?8:0),AA(this,this.canvas.height-this.gutterBottom+(c?2:0)))));var d=this.properties["chart.numyticks"];if(this.properties["chart.noyaxis"]==!1&&!c){var e=(this.canvas.height-this.gutterTop-this.gutterBottom)/d,f=b=="left"?this.gutterLeft:this.canvas.width-this.gutterRight;if(this.properties["chart.numyticks"]>0)for(y=this.gutterTop;a=="center"?y<=this.canvas.height-this.gutterBottom:y<this.canvas.height-this.gutterBottom+(a=="top"?1:0);y+=e){if(a=="center"&&y==this.canvas.height/2)continue;if(a=="top"&&y==this.gutterTop)continue;this.context.moveTo(f,AA(this,y)),this.context.lineTo(f+(b=="left"?-3:3),AA(this,y))}this.properties["chart.noxaxis"]&&(a=="center"?(this.context.moveTo(f+(b=="left"?-3:3),AA(this,this.canvas.height/2)),this.context.lineTo(f,AA(this,this.canvas.height/2))):a=="top"?(this.context.moveTo(f+(b=="left"?-3:3),AA(this,this.gutterTop)),this.context.lineTo(f,AA(this,this.gutterTop))):(this.context.moveTo(f+(b=="left"?-3:3),AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(f,AA(this,this.canvas.height-this.gutterBottom))))}if(this.properties["chart.noxaxis"]==!1&&!c){xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.data.length,typeof this.properties["chart.numxticks"]=="number"&&(xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.properties["chart.numxticks"]),a=="bottom"?(yStart=this.canvas.height-this.gutterBottom,yEnd=this.canvas.height-this.gutterBottom+3):a=="top"?(yStart=this.gutterTop-3,yEnd=this.gutterTop):a=="center"&&(yStart=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop+3,yEnd=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-3),yStart=AA(this,yStart),yEnd=AA(this,yEnd);var g=this.properties["chart.noendxtick"];for(x=this.gutterLeft+(b=="left"?xTickGap:0);x<this.canvas.width-this.gutterRight+(b=="left"?5:0);x+=xTickGap)b=="left"&&!g&&x>this.gutterLeft?(this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd)):b=="left"&&g&&x>this.gutterLeft&&x<this.canvas.width-this.gutterRight?(this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd)):b=="right"&&x<this.canvas.width-this.gutterRight&&!g?(this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd)):b=="right"&&x<this.canvas.width-this.gutterRight&&x>this.gutterLeft&&g&&(this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd));(this.properties["chart.noyaxis"]||this.properties["chart.numxticks"]==null)&&typeof this.properties["chart.numxticks"]=="number"&&this.properties["chart.numxticks"]>0&&(this.context.moveTo(AA(this,this.gutterLeft),yStart),this.context.lineTo(AA(this,this.gutterLeft),yEnd))}this.properties["chart.noyaxis"]&&this.properties["chart.noxaxis"]==!1&&this.properties["chart.numxticks"]==null&&(a=="center"?(this.context.moveTo(AA(this,this.gutterLeft),this.canvas.height/2-3),this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height/2+3)):(this.context.moveTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom),this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom+3))),this.context.stroke()},RGraph.Bar.prototype.Drawbars=function(){this.context.lineWidth=this.properties["chart.linewidth"],this.context.strokeStyle=this.properties["chart.strokecolor"],this.context.fillStyle=this.properties["chart.colors"][0];var a=0,b=0,c=this.properties["chart.scale.decimals"];if(this.properties["chart.ymax"])this.max=this.properties["chart.ymax"],this.min=this.properties["chart.ymin"],this.scale=[((this.max-this.min)*.2+this.min).toFixed(c),((this.max-this.min)*.4+this.min).toFixed(c),((this.max-this.min)*.6+this.min).toFixed(c),((this.max-this.min)*.8+this.min).toFixed(c),((this.max-this.min)*1+this.min).toFixed(c)];else{this.min=this.properties["chart.ymin"];for(i=0;i<this.data.length;++i){if(typeof this.data[i]=="object")var d=this.properties["chart.grouping"]=="grouped"?Number(RGraph.array_max(this.data[i],!0)):Number(RGraph.array_sum(this.data[i]));else var d=Number(this.data[i]);this.max=Math.max(Math.abs(this.max),Math.abs(d))}this.scale=RGraph.getScale(this.max,this),this.max=this.scale[4];if(this.properties["chart.ymin"]){var c=this.properties["chart.scale.decimals"];this.scale[0]=(Number(this.scale[4]-this.min)*.2+this.min).toFixed(c),this.scale[1]=(Number(this.scale[4]-this.min)*.4+this.min).toFixed(c),this.scale[2]=(Number(this.scale[4]-this.min)*.6+this.min).toFixed(c),this.scale[3]=(Number(this.scale[4]-this.min)*.8+this.min).toFixed(c),this.scale[4]=(Number(this.scale[4]-this.min)*1+this.min).toFixed(c)}else if(this.properties["chart.scale.decimals"]){var c=this.properties["chart.scale.decimals"];this.scale[0]=Number(this.scale[0]).toFixed(c),this.scale[1]=Number(this.scale[1]).toFixed(c),this.scale[2]=Number(this.scale[2]).toFixed(c),this.scale[3]=Number(this.scale[3]).toFixed(c),this.scale[4]=Number(this.scale[4]).toFixed(c)}}this.properties["chart.adjustable"]&&!this.properties["chart.ymax"]&&this.Set("chart.ymax",this.scale[4]),this.properties["chart.background.hbars"]&&this.properties["chart.background.hbars"].length>0&&RGraph.DrawBars(this);var e=this.properties["chart.variant"];e=="3d"&&RGraph.Draw3DAxes(this);var f=this.properties["chart.xaxispos"],g=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.data.length,h=t,j=this.properties["chart.hmargin"],l=this.properties["chart.shadow"],m=this.properties["chart.shadow.color"],n=this.properties["chart.shadow.blur"],o=this.properties["chart.shadow.offsetx"],p=this.properties["chart.shadow.offsety"],q=this.properties["chart.strokecolor"],r=this.properties["chart.colors"],s=0;for(i=0;i<this.data.length;++i){var t=(RGraph.array_sum(this.data[i])<0?RGraph.array_sum(this.data[i])+this.min:RGraph.array_sum(this.data[i])-this.min)/(this.max-this.min)*(this.canvas.height-this.gutterTop-this.gutterBottom);f=="center"&&(t/=2);var u=i*g+this.gutterLeft,v=f=="center"?(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-t:this.canvas.height-t-this.gutterBottom;f=="top"&&(v=this.gutterTop+Math.abs(t)),t<0&&(v+=t,t=Math.abs(t)),l&&(this.context.shadowColor=m,this.context.shadowBlur=n,this.context.shadowOffsetX=o,this.context.shadowOffsetY=
p),this.context.beginPath();if(typeof this.data[i]=="number"){var w=g-2*j;w<0&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient."),this.context.strokeStyle=q,this.context.fillStyle=r[0],this.properties["chart.colors.sequential"]&&(this.context.fillStyle=r[i]);if(e=="sketch"){this.context.lineCap="round";var x=3;this.context.beginPath(),this.context.strokeStyle=r[0],this.properties["chart.colors.sequential"]&&(this.context.strokeStyle=r[i]),this.context.moveTo(u+j+2,v+t-2),this.context.lineTo(u+j-1,v-4),this.context.moveTo(u+j-3,v+ -2+(this.data[i]<0?t:0)),this.context.bezierCurveTo(u+(j+g)*.33,v+15+(this.data[i]<0?t-10:0),u+(j+g)*.66,v+5+(this.data[i]<0?t-10:0),u+j+g+ -1,v+0+(this.data[i]<0?t:0)),this.context.moveTo(u+j+g-5,v-5),this.context.lineTo(u+j+g-3,v+t-3);if(this.properties["chart.variant.sketch.verticals"])for(var y=.2;y<=.8;y+=.2)this.context.moveTo(u+j+g+(y>.4?-1:3)-y*g,v-1),this.context.lineTo(u+j+g-(y>.4?1:-1)-y*g,v+t+(y==.2?1:-2));this.context.stroke()}else if(e=="bar"||e=="3d"||e=="glass"||e=="bevel"){RGraph.isOld()&&l&&this.DrawIEShadow([u+j,v,w,t]),e=="glass"?(RGraph.filledCurvyRect(this.context,u+j,v,w,t,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0),RGraph.strokedCurvyRect(this.context,u+j,v,w,t,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0)):(this.context.strokeRect(u+j,v,w,t),this.context.fillRect(u+j,v,w,t));if(e=="3d"){var z=this.context.strokeStyle,A=this.context.fillStyle;this.context.beginPath(),this.context.moveTo(u+j,v),this.context.lineTo(u+j+10,v-5),this.context.lineTo(u+j+10+w,v-5),this.context.lineTo(u+j+w,v),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.moveTo(u+j+w,v),this.context.lineTo(u+j+w+10,v-5),this.context.lineTo(u+j+w+10,v+t-5),this.context.lineTo(u+j+w,v+t),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.fillStyle="rgba(255,255,255,0.3)",this.context.moveTo(u+j,v),this.context.lineTo(u+j+10,v-5),this.context.lineTo(u+j+10+w,v-5),this.context.lineTo(u+j+w,v),this.context.lineTo(u+j,v),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.fillStyle="rgba(0,0,0,0.4)",this.context.moveTo(u+j+w,v),this.context.lineTo(u+j+w+10,v-5),this.context.lineTo(u+j+w+10,v-5+t),this.context.lineTo(u+j+w,v+t),this.context.lineTo(u+j+w,v),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=z,this.context.fillStyle=A}else if(e=="glass"){var B=this.context.createLinearGradient(u+j,v,u+j+w/2,v);B.addColorStop(0,"rgba(255,255,255,0.9)"),B.addColorStop(1,"rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.fillStyle=B,this.context.fillRect(u+j+2,v+(this.data[i]>0?2:0),w/2-2,t-2),this.context.fill()}if(this.properties["chart.labels.above"]){l&&RGraph.NoShadow(this);var C=v-3;this.data[i]<0&&(C+=t+6+(this.properties["chart.text.size"]-4)),this.properties["chart.xaxispos"]=="top"&&(C=this.gutterTop+t+6+(typeof this.properties["chart.labels.above.size"]=="number"?this.properties["chart.labels.above.size"]:this.properties["chart.text.size"]-4)),this.properties["chart.variant"]=="3d"&&(C-=5),this.context.fillStyle=this.properties["chart.text.color"],RGraph.Text(this.context,this.properties["chart.text.font"],typeof this.properties["chart.labels.above.size"]=="number"?this.properties["chart.labels.above.size"]:this.properties["chart.text.size"]-3,u+j+w/2,C,RGraph.number_format(this,Number(this.data[i]).toFixed(this.properties["chart.labels.above.decimals"]),this.properties["chart.units.pre"],this.properties["chart.units.post"]),this.properties["chart.labels.above.angle"]?"bottom":null,this.properties["chart.labels.above.angle"]?this.properties["chart.labels.above.angle"]>0&&this.properties["chart.xaxispos"]!="top"?"right":"left":"center",null,this.properties["chart.labels.above.angle"])}}else if(e=="dot")this.context.beginPath(),this.context.moveTo(u+g/2,v),this.context.lineTo(u+g/2,v+t),this.context.stroke(),this.context.beginPath(),this.context.fillStyle=this.properties["chart.colors"][i],this.context.arc(u+g/2,v+(this.data[i]>0?0:t),2,0,6.28,0),this.context.fillStyle=this.properties["chart.colors"][0],this.properties["chart.colors.sequential"]&&(this.context.fillStyle=r[i]),this.context.stroke(),this.context.fill();else if(e=="pyramid"){this.context.beginPath();var D=this.properties["chart.xaxispos"]=="center"?this.canvas.height/2:this.canvas.height-this.gutterBottom;this.context.moveTo(u+j,D),this.context.lineTo(u+j+w/2,v+(this.properties["chart.xaxispos"]=="center"&&this.data[i]<0?t:0)),this.context.lineTo(u+j+w,D),this.context.closePath(),this.context.stroke(),this.context.fill()}else if(e=="arrow"){var D=this.properties["chart.xaxispos"]=="center"?this.canvas.height/2:this.canvas.height-this.gutterBottom;this.context.lineWidth=this.properties["chart.linewidth"]?this.properties["chart.linewidth"]:1,this.context.lineCap="round",this.context.beginPath(),this.context.moveTo(AA(this,u+j+w/2),D),this.context.lineTo(AA(this,u+j+w/2),v+(this.properties["chart.xaxispos"]=="center"&&this.data[i]<0?t:0)),this.context.arc(u+j+w/2,v+(this.properties["chart.xaxispos"]=="center"&&this.data[i]<0?t:0),5,this.data[i]>0?.78:5.6,this.data[i]>0?.79:5.48,this.data[i]<0),this.context.moveTo(AA(this,u+j+w/2),v+(this.properties["chart.xaxispos"]=="center"&&this.data[i]<0?t:0)),this.context.arc(u+j+w/2,v+(this.properties["chart.xaxispos"]=="center"&&this.data[i]<0?t:0),5,this.data[i]>0?2.355:4,this.data[i]>0?2.4:3.925,this.data[i]<0),this.context.stroke(),this.context.lineWidth=1}else alert("[BAR] Warning! Unknown chart.variant: "+e);this.coords.push([u+j,v,g-2*j,t])}else if(typeof this.data[i]=="object"&&this.properties["chart.grouping"]=="stacked"){this.min&&alert("[ERROR] Stacked Bar charts with a Y min are not supported");var w=g-2*j,E=[],D=0,F=this.data[i];w<0&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.");for(K=0;K<F.length;++K){if(f=="center"){alert("[BAR] It's pointless having the X axis position at the center on a stacked bar chart.");return}if(this.data[i][K]<0){alert("[BAR] Negative values are not permitted with a stacked bar chart. Try a grouped one instead.");return}this.context.strokeStyle=q,this.context.fillStyle=r[K],this.properties["chart.colors.reverse"]&&(this.context.fillStyle=r[this.data[i].length-K-1]),this.properties["chart.colors.sequential"]&&r[s]?this.context.fillStyle=r[s++]:this.properties["chart.colors.sequential"]&&(this.context.fillStyle=r[s-1]);var t=F[K]/this.max*(this.canvas.height-this.gutterTop-this.gutterBottom);f=="center"&&(t/=2);var G=RGraph.array_sum(F)/this.max*(this.canvas.height-j-this.gutterTop-this.gutterBottom);this.coords.push([u+j,v,g-2*j,t]),RGraph.isOld()&&l&&this.DrawIEShadow([u+j,v,g-2*j,t+1]),this.context.strokeRect(u+j,v,g-2*j,t),this.context.fillRect(u+j,v,g-2*j,t);if(K==0)var D=v,H=u;l&&E.push([u+j,v,g-2*j,t,this.context.fillStyle]);if(e=="3d"){var A=this.context.fillStyle,z=this.context.strokeStyle;K==0&&(this.context.beginPath(),this.context.moveTo(H+j,v),this.context.lineTo(H+10+j,v-5),this.context.lineTo(H+10+w+j,v-5),this.context.lineTo(H+w+j,v),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.beginPath(),this.context.moveTo(H+w+j,v),this.context.lineTo(H+w+j+10,v-5),this.context.lineTo(H+w+j+10,v-5+t),this.context.lineTo(H+w+j,v+t),this.context.closePath(),this.context.fill(),this.context.stroke(),K==0&&(this.context.fillStyle="rgba(255,255,255,0.3)",this.context.beginPath(),this.context.moveTo(H+j,v),this.context.lineTo(H+10+j,v-5),this.context.lineTo(H+10+w+j,v-5),this.context.lineTo(H+w+j,v),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.fillStyle="rgba(0,0,0,0.4)",this.context.beginPath(),this.context.moveTo(H+w+j,v),this.context.lineTo(H+w+j+10,v-5),this.context.lineTo(H+w+j+10,v-5+t),this.context.lineTo(H+w+j,v+t),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=z,this.context.fillStyle=A}v+=t}this.Get("chart.labels.above")&&(RGraph.NoShadow(this),this.context.fillStyle=this.properties["chart.text.color"],RGraph.Text(this.context,this.properties["chart.text.font"],typeof this.properties["chart.labels.above.size"]=="number"?this.properties["chart.labels.above.size"]:this.properties["chart.text.size"]-3,H+w/2+this.properties["chart.hmargin"],D-(this.properties["chart.shadow"]&&this.properties["chart.shadow.offsety"]<0?7:4)-(this.properties["chart.variant"]=="3d"?5:0),String(this.properties["chart.units.pre"]+RGraph.array_sum(this.data[i]).toFixed(this.properties["chart.labels.above.decimals"])+this.properties["chart.units.post"]),this.properties["chart.labels.above.angle"]?"bottom":null,this.properties["chart.labels.above.angle"]?this.properties["chart.labels.above.angle"]>0?"right":"left":"center",null,this.properties["chart.labels.above.angle"]),l&&(this.context.shadowColor=m,this.context.shadowBlur=n,this.context.shadowOffsetX=o,this.context.shadowOffsetY=p));if(l){RGraph.NoShadow(this);for(k=0;k<E.length;++k)this.context.strokeStyle=q,this.context.fillStyle=E[k][4],this.context.strokeRect(E[k][0],E[k][1],E[k][2],E[k][3]),this.context.fillRect(E[k][0],E[k][1],E[k][2],E[k][3]),this.context.stroke(),this.context.fill();E=[]}}else if(typeof this.data[i]=="object"&&this.properties["chart.grouping"]=="grouped"){var E=[];this.context.lineWidth=this.properties["chart.linewidth"];for(K=0;K<this.data[i].length;++K){this.context.strokeStyle=q,this.context.fillStyle=r[K],this.properties["chart.colors.sequential"]&&r[s]?this.context.fillStyle=r[s++]:this.properties["chart.colors.sequential"]&&(this.context.fillStyle=r[s-1]);var I=(g-2*j)/this.data[i].length,t=(this.data[i][K]+(this.data[i][K]<0?this.min:-1*this.min))/(this.max-this.min)*(this.canvas.height-this.gutterTop-this.gutterBottom);I<0&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient."),f=="center"&&(t/=2);var H=u+j+K*I;if(f=="top")var D=this.gutterTop,t=Math.abs(t);else if(f=="center")var D=this.gutterTop+this.grapharea/2-t;else var D=this.canvas.height-this.gutterBottom-t,t=Math.abs(t);RGraph.isOld()&&l&&this.DrawIEShadow([H,D,I,t]);var J=this.properties["chart.hmargin.grouped"];this.context.strokeRect(H+J,D,I-2*J,t),this.context.fillRect(H+J,D,I-2*J,t),v+=t;if(e=="3d"){var A=this.context.fillStyle,z=this.context.strokeStyle;this.context.beginPath(),this.context.moveTo(H,D),this.context.lineTo(H+10,D-5),this.context.lineTo(H+10+I,D-5),this.context.lineTo(H+I,D),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.beginPath(),this.context.moveTo(H+I,D),this.context.lineTo(H+I+10,D-5),this.context.lineTo(H+I+10,D-5+t),this.context.lineTo(H+I,D+t),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.fillStyle="rgba(255,255,255,0.3)",this.context.beginPath(),this.context.moveTo(H,D),this.context.lineTo(H+10,D-5),this.context.lineTo(H+10+I,D-5),this.context.lineTo(H+I,D),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.fillStyle="rgba(0,0,0,0.4)",this.context.beginPath(),this.context.moveTo(H+I,D),this.context.lineTo(H+I+10,D-5),this.context.lineTo(H+I+10,D-5+t),this.context.lineTo(H+I,D+t),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=z,this.context.fillStyle=A}t<0&&(t=Math.abs(t),D=D-t),this.coords.push([H,D,I,t]),this.properties["chart.shadow"]&&E.push([H+J,D,I-2*J,t,this.context.fillStyle]);if(this.Get("chart.labels.above")){this.context.strokeStyle="rgba(0,0,0,0)",l&&RGraph.NoShadow(this);var C=v-3;this.data[i][K]<0&&(C+=t+6+(this.properties["chart.text.size"]-4)),this.context.fillStyle=this.properties["chart.text.color"],RGraph.Text(this.context,this.properties["chart.text.font"],typeof this.properties["chart.labels.above.size"]=="number"?this.properties["chart.labels.above.size"]:this.properties["chart.text.size"]-3,H+I/2,D-2-(this.properties["chart.variant"]=="3d"?5:0),RGraph.number_format(this,this.data[i][K].toFixed(this.properties["chart.labels.above.decimals"])),null,this.properties["chart.labels.above.angle"]?this.properties["chart.labels.above.angle"]>0?"right":"left":"center",null,this.properties["chart.labels.above.angle"]),l&&(this.context.shadowColor=m,this.context.shadowBlur=n,this.context.shadowOffsetX=o,this.context.shadowOffsetY=p)}}if(E.length){RGraph.NoShadow(this),this.context.lineWidth=this.properties["chart.linewidth"],this.context.beginPath();for(var K=0;K<E.length;++K)this.context.fillStyle=E[K][4],this.context.strokeStyle=this.properties["chart.strokecolor"],this.context.fillRect(E[K][0],E[K][1],E[K][2],E[K][3]),this.context.strokeRect(E[K][0],E[K][1],E[K][2],E[K][3]);this.context.fill(),this.context.stroke(),E=[]}}this.context.closePath()}RGraph.NoShadow(this)},RGraph.Bar.prototype.DrawLabels=function(){var a=this.context,b=this.properties["chart.text.angle"],c=this.properties["chart.text.size"],d=this.properties["chart.labels"];this.properties["chart.ylabels"]&&(this.Drawlabels_top(),this.Drawlabels_center(),this.Drawlabels_bottom());if(typeof d=="object"&&d){var e=5+Number(this.properties["chart.xlabels.offset"]);this.properties["chart.xaxispos"]=="top"&&(e+=18);var f=0,g="center";b>0&&(f=-1*b,g="right",e-=5,this.properties["chart.xaxispos"]=="top"&&(g="left",e+=5)),a.fillStyle=this.properties["chart.text.color"];var h=(this.canvas.width-this.gutterRight-this.gutterLeft)/d.length;xTickGap=(this.canvas.width-this.gutterRight-this.gutterLeft)/d.length;var i=0,j=this.properties["chart.text.font"];for(x=this.gutterLeft+xTickGap/2;x<=this.canvas.width-this.gutterRight;x+=xTickGap)RGraph.Text(a,j,c,x+(this.properties["chart.text.angle"]==90?0:0),this.properties["chart.xaxispos"]=="top"?this.gutterTop-e+c-1:this.canvas.height-this.gutterBottom+e,String(d[i++]),this.properties["chart.text.angle"]==90?"center":"top",g,null,f)}if(this.properties["chart.labels.above.specific"]){var d=this.properties["chart.labels.above.specific"];for(var i=0;i<this.coords.length;++i){var k=this.coords[i],f=this.properties["chart.labels.above.angle"],l=this.data[i],m=l>=0?"bottom":"top",g="center";typeof this.properties["chart.labels.above.angle"]=="number"&&(this.properties["chart.labels.above.angle"]>=0?this.data[i]>=0?g="right":g="left":this.data[i]>=0?g="left":g="right"),RGraph.Text(a,this.properties["chart.text.font"],this.properties["chart.labels.above.size"]?this.properties["chart.labels.above.size"]:this.properties["chart.text.size"],k[0]+k[2]/2,l>=0?k[1]-5:k[1]+k[3]+3,String(d[i]),m,g,null,f)}}},RGraph.Bar.prototype.Drawlabels_top=function(){this.context.beginPath(),this.context.fillStyle=this.properties["chart.text.color"],this.context.strokeStyle="black";if(this.properties["chart.xaxispos"]=="top"){var a=this.context,b=this.grapharea*.2,c=this.properties["chart.text.size"],d=this.properties["chart.units.pre"],e=this.properties["chart.units.post"],f=this.properties["chart.yaxispos"]=="left"?"right":"left",g=this.properties["chart.text.font"],h=this.properties["chart.ylabels.count"];if(this.properties["chart.ylabels.inside"]==!0)var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft+5:this.canvas.width-this.gutterRight-5,f=this.properties["chart.yaxispos"]=="left"?"left":"right",j=!0;else var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,j=!1;if(typeof this.properties["chart.ylabels.specific"]=="object"&&this.properties["chart.ylabels.specific"]){var k=RGraph.array_reverse(this.properties["chart.ylabels.specific"]),l=this.canvas.height-this.gutterTop-this.gutterBottom;for(var m=0;m<k.length;++m){var n=this.gutterTop+l*(m/k.length)+l/k.length;RGraph.Text(a,g,c,i,n,k[m],"center",f,j)}return}h==1&&RGraph.Text(a,g,c,i,this.canvas.height-this.gutterBottom,"-"+RGraph.number_format(this,Number(this.scale[4]).toFixed(this.properties["chart.scale.decimals"]),d,e),"center",f,j);if(h==3||h==5){RGraph.Text(a,g,c,i,this.gutterTop+this.halfTextHeight+b,"-"+RGraph.number_format(this,this.scale[0],d,e),null,f,j),h==5&&(RGraph.Text(a,g,c,i,1*b+this.gutterTop+this.halfTextHeight+b,"-"+RGraph.number_format(this,this.scale[1],d,e),null,f,j),RGraph.Text(a,g,c,i,3*b+this.gutterTop+this.halfTextHeight+b,"-"+RGraph.number_format(this,this.scale[3],d,e),null,f,j));if(h==3||h==5)RGraph.Text(a,g,c,i,2*b+this.gutterTop+this.halfTextHeight+b,"-"+RGraph.number_format(this,this.scale[2],d,e),null,f,j),RGraph.Text(a,g,c,i,4*b+this.gutterTop+this.halfTextHeight+b,"-"+RGraph.number_format(this,this.scale[4],d,e),null,f,j)}if(h==10){b=this.grapharea/h;for(var m=10;m>0;--m)RGraph.Text(a,g,c,i,this.gutterTop+this.grapharea/h*m,"-"+RGraph.number_format(this,(this.scale[4]/h*m).toFixed(this.properties["chart.scale.decimals"]),d,e),"center",f,j)}this.properties["chart.ymin"]!=0&&RGraph.Text(a,g,c,i,this.gutterTop,"-"+RGraph.number_format(this,this.min.toFixed(this.properties["chart.scale.decimals"]),d,e),"center",f,j)}this.context.fill(),this.context.stroke()},RGraph.Bar.prototype.Drawlabels_center=function(){var a=this.properties["chart.text.font"],b=this.properties["chart.ylabels.count"];this.context.fillStyle=this.properties["chart.text.color"];if(this.properties["chart.xaxispos"]=="center"){var c=this.grapharea*.1,d=this.properties["chart.text.size"],e=this.properties["chart.units.pre"],f=this.properties["chart.units.post"],g=this.context,h="",i=0,j=!1;this.context.fillStyle=this.properties["chart.text.color"],this.context.strokeStyle="black";if(this.properties["chart.ylabels.inside"]==!0)var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft+5:this.canvas.width-this.gutterRight-5,h=this.properties["chart.yaxispos"]=="left"?"left":"right",j=!0;else var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,h=this.properties["chart.yaxispos"]=="left"?"right":"left",j=!1;if(typeof this.properties["chart.ylabels.specific"]=="object"&&this.properties["chart.ylabels.specific"]){var k=this.properties["chart.ylabels.specific"],l=this.canvas.height-this.gutterTop-this.gutterBottom;for(var m=0;m<k.length;++m){var n=this.gutterTop+l/2/k.length*m;RGraph.Text(g,a,d,i,n,String(k[m]),"center",h,j)}for(var m=k.length-1;m>=0;--m){var n=this.gutterTop+l*((m+1)/(k.length*2))+l/2;RGraph.Text(g,a,d,i,n,k[k.length-m-1],"center",h,j)}return}if(b==1||b==3||b==5){RGraph.Text(g,a,d,i,this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[4],e,f),null,h,j),b==5&&(RGraph.Text(g,a,d,i,1*c+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[3],e,f),null,h,j),RGraph.Text(g,a,d,i,3*c+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[1],e,f),null,h,j));if(b==3||b==5)RGraph.Text(g,a,d,i,4*c+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[0],e,f),null,h,j),RGraph.Text(g,a,d,i,2*c+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[2],e,f),null,h,j)}else if(b==10){c=this.grapharea/b/2;for(var m=0;m<b;++m)RGraph.Text(g,a,d,i,this.gutterTop+this.grapharea/(b*2)*m,RGraph.number_format(this,(this.scale[4]/b*(b-m)).toFixed(this.properties["chart.scale.decimals"]),e,f),"center",h,j)}var c=this.grapharea/10;if(b==1||b==3||b==5){if(b==3||b==5)RGraph.Text(g,a,d,i,this.grapharea+this.gutterTop+this.halfTextHeight-4*c,"-"+RGraph.number_format(this,this.scale[0],e,f),null,h,j),RGraph.Text(g,a,d,i,this.grapharea+this.gutterTop+this.halfTextHeight-2*c,"-"+RGraph.number_format(this,this.scale[2],e,f),null,h,j);b==5&&(RGraph.Text(g,a,d,i,this.grapharea+this.gutterTop+this.halfTextHeight-3*c,"-"+RGraph.number_format(this,this.scale[1],e,f),null,h,j),RGraph.Text(g,a,d,i,this.grapharea+this.gutterTop+this.halfTextHeight-c,"-"+RGraph.number_format(this,this.scale[3],e,f),null,h,j)),RGraph.Text(g,a,d,i,this.grapharea+this.gutterTop+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[4],e,f),null,h,j)}else if(b==10){c=this.grapharea/b/2;for(var m=0;m<b;++m)RGraph.Text(g,a,d,i,this.gutterTop+this.grapharea/2+this.grapharea/(b*2)*m+this.grapharea/(b*2),RGraph.number_format(this,(this.scale[4]/b*(m+1)).toFixed(this.properties["chart.scale.decimals"]),"-"+e,f),"center",h,j)}this.properties["chart.ymin"]!=0&&RGraph.Text(g,a,d,i,this.gutterTop+this.grapharea/2,RGraph.number_format(this,this.min.toFixed(this.properties["chart.scale.decimals"]),e,f),"center",h,j)}},RGraph.Bar.prototype.Drawlabels_bottom=function(){this.context.beginPath(),this.context.fillStyle=this.properties["chart.text.color"],this.context.strokeStyle="black";if(this.properties["chart.xaxispos"]!="center"&&this.properties["chart.xaxispos"]!="top"){var a=this.grapharea*.2,b=this.properties["chart.text.size"],c=this.properties["chart.units.pre"],d=this.properties["chart.units.post"],e=this.context,f=this.properties["chart.yaxispos"]=="left"?"right":"left",g=this.properties["chart.text.font"],h=this.properties["chart.ylabels.count"];if(this.properties["chart.ylabels.inside"]==!0)var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft+5:this.canvas.width-this.gutterRight-5,f=this.properties["chart.yaxispos"]=="left"?"left":"right",j=!0;else var i=this.properties["chart.yaxispos"]=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,j=!1;if(this.properties["chart.ylabels.specific"]&&typeof this.properties["chart.ylabels.specific"]=="object"){var k=this.properties["chart.ylabels.specific"],l=this.canvas.height-this.gutterTop-this.gutterBottom;for(var m=0;m<k.length;++m){var n=this.gutterTop+l*(m/k.length);RGraph.Text(e,g,b,i,n,k[m],"center",f,j)}return}if(h==1||h==3||h==5){RGraph.Text(e,g,b,i,this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[4],c,d),null,f,j),h==5&&(RGraph.Text(e,g,b,i,1*a+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[3],c,d),null,f,j),RGraph.Text(e,g,b,i,3*a+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[1],c,d),null,f,j));if(h==3||h==5)RGraph.Text(e,g,b,i,2*a+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[2],c,d),null,f,j),RGraph.Text(e,g,b,i,4*a+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[0],c,d),null,f,j)}if(h==10){a=this.grapharea/h;for(var m=0;m<h;++m)RGraph.Text(e,g,b,i,this.gutterTop+this.grapharea/h*m,RGraph.number_format(this,(this.scale[4]/h*(h-m)).toFixed(this.properties["chart.scale.decimals"]),c,d),"center",f,j)}this.properties["chart.ymin"]!=0&&RGraph.Text(e,g,b,i,this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.min.toFixed(this.properties["chart.scale.decimals"]),c,d),"center",f,j)}this.context.fill(),this.context.stroke()},RGraph.Bar.prototype.DrawIEShadow=function(a){var b=this.context.fillStyle,c=this.properties["chart.shadow.offsetx"],d=this.properties["chart.shadow.offsety"];this.context.lineWidth=this.properties["chart.linewidth"],this.context.fillStyle=this.properties["chart.shadow.color"],this.context.beginPath(),this.context.fillRect(a[0]+c,a[1]+d,a[2],a[3]),this.context.fill(),this.context.fillStyle=b},RGraph.Bar.prototype.getShape=RGraph.Bar.prototype.getBar=function(a){var b=arguments[1]?arguments[1]:this,c=RGraph.getMouseXY(a),d=c[0],e=c[1];for(var f=0;f<this.coords.length;f++){var g=b.coords[f][0],h=b.coords[f][1],i=b.coords[f][2],j=b.coords[f][3];if(d>=g&&d<=g+i&&e>=h&&e<=h+j){if(this.properties["chart.tooltips"])var k=RGraph.parseTooltipText?RGraph.parseTooltipText(this.properties["chart.tooltips"],f):this.properties["chart.tooltips"][f];var l=0,m=f;while(m>=(typeof this.data[l]=="object"?this.data[l].length:1))typeof this.data[l]=="number"?m-=1:m-=this.data[l].length,l++;return typeof this.data[l]=="number"&&(m=null),{0:b,1:g,2:h,3:i,4:j,5:f,object:b,x:g,y:h,width:i,height:j,index:f,tooltip:k,index_adjusted:m,dataset:l}}}return null},RGraph.Bar.prototype.getShapeByX=function(a){var b=a.target,c=RGraph.getMouseXY(a),d=arguments[1]?arguments[1]:this;for(var e=0;e<d.coords.length;e++){var f=c[0],g=c[1],h=d.coords[e][0],i=d.coords[e][1],j=d.coords[e][2],k=d.coords[e][3];if(f>=h&&f<=h+j){if(this.properties["chart.tooltips"])var l=RGraph.parseTooltipText?RGraph.parseTooltipText(this.properties["chart.tooltips"],e):this.properties["chart.tooltips"][e];return{0:d,1:h,2:i,3:j,4:k,5:e,object:d,x:h,y:i,width:j,height:k,index:e,tooltip:l}}}return null},RGraph.Bar.prototype.getValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];if(c<this.properties["chart.gutter.top"]||c>this.canvas.height-this.properties["chart.gutter.bottom"]||b<this.properties["chart.gutter.left"]||b>this.canvas.width-this.properties["chart.gutter.right"])return null;if(this.properties["chart.xaxispos"]=="center"){var e=(this.grapharea/2-(c-this.properties["chart.gutter.top"]))/this.grapharea*(this.max-this.min);e*=2,e>=0?e+=this.min:e-=this.min}else if(this.properties["chart.xaxispos"]=="top"){var e=(this.grapharea-(c-this.properties["chart.gutter.top"]))/this.grapharea*(this.max-this.min);e=this.max-e,e=Math.abs(e)*-1}else{var e=(this.grapharea-(c-this.properties["chart.gutter.top"]))/this.grapharea*(this.max-this.min);e+=this.min}return e},RGraph.Bar.prototype.getYCoord=function(a){if(typeof a!="number")return null;var b,c=this.properties["chart.xaxispos"];return a>this.max&&(a=this.max),c=="top"?(a<0&&(a=Math.abs(a)),b=(a-this.min)/(this.max-this.min)*this.grapharea,b=b+this.gutterTop):c=="center"?(b=(a-this.min)/(this.max-this.min)*(this.grapharea/2),b=this.grapharea/2-b,b+=this.gutterTop):(a<this.min&&(a=this.min),b=(a-this.min)/(this.max-this.min)*this.grapharea,b=this.canvas.height-this.gutterBottom-b),b},RGraph.Bar.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.Bar.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>=this.properties["chart.gutter.left"]&&b[0]<=this.canvas.width-this.properties["chart.gutter.right"]&&b[1]>=this.properties["chart.gutter.top"]&&b[1]<=this.canvas.height-this.properties["chart.gutter.bottom"])return this},RGraph.Bar.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=Number(this.getValue(a)),c=this.getShapeByX(a);c&&(RGraph.Registry.Set("chart.adjusting.shape",c),this.data[c.index]=Number(b),RGraph.RedrawCanvas(a.target),RGraph.FireCustomEvent(this,"onadjust"))}},RGraph.CombinedChart=function(){this.objects=[];for(var a=0;a<arguments.length;++a){this.objects[a]=arguments[a],this.objects[a].Set("chart.gutter.left",this.objects[0].Get("chart.gutter.left")),this.objects[a].Set("chart.gutter.right",this.objects[0].Get("chart.gutter.right")),this.objects[a].Set("chart.gutter.top",this.objects[0].Get("chart.gutter.top")),this.objects[a].Set("chart.gutter.bottom",this.objects[0].Get("chart.gutter.bottom")),this.objects[a].type=="line"&&(this.objects[a].Set("chart.hmargin",(this.objects[0].canvas.width-this.objects[0].Get("chart.gutter.right")-this.objects[0].Get("chart.gutter.left"))/this.objects[0].data.length/2),this.objects[a].Set("chart.noaxes",!0),this.objects[a].Set("chart.background.grid",!1),this.objects[a].Set("chart.ylabels",!1));if(this.objects[a].Get("chart.resizable"))var b=!0}if(b){function c(a){var b=a.Get("chart.gutter.left"),c=a.Get("chart.gutter.right");a.Set("chart.hmargin",(a.canvas.width-b-c)/(a.original_data[0].length*2))}RGraph.AddCustomEventListener(RGraph.ObjectRegistry.getFirstObjectByType(this.objects[0].canvas.id,"line"),"onresizebeforedraw",c)}},RGraph.CombinedChart.prototype.Draw=function(){for(var a=0;a<this.objects.length;++a)typeof arguments[a]=="function"?arguments[a](this.objects[a]):this.objects[a].Draw()},RGraph.Bar.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g+i/2-n-7+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f+h/2-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Bipolar=function(a,b,c){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="bipolar",this.coords=[],this.max=0,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.left=b,this.right=c,this.data=[b,c],this.properties={"chart.margin":2,"chart.xtickinterval":null,"chart.labels":[],"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.title.left":"","chart.title.right":"","chart.gutter.center":60,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.colors":["#0f0"],"chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.units.pre":"","chart.units.post":"","chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.annotatable":!1,"chart.annotate.color":"black","chart.xmax":null,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.strokestyle":"transparent","chart.events.mousemove":null,"chart.events.click":null};while(this.left.length<this.right.length)this.left.push(0);while(this.left.length>this.right.length)this.right.push(0);RGraph.Register(this)},RGraph.Bipolar.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Bipolar.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Bipolar.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.left=this.data[0],this.right=this.data[1],this.coords=[],this.GetMax(),this.DrawAxes(),this.DrawTicks(),this.DrawLeftBars(),this.DrawRightBars(),this.Get("chart.axis.color")!="black"&&this.DrawAxes(),this.DrawLabels(),this.DrawTitles(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Bipolar.prototype.DrawAxes=function(){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.axis.color"),this.axisWidth=(this.canvas.width-this.Get("chart.gutter.center")-this.gutterLeft-this.gutterRight)/2,this.axisHeight=this.canvas.height-this.gutterTop-this.gutterBottom,this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.gutterLeft+this.axisWidth,AA(this,this.canvas.height-this.gutterBottom)),this.context.moveTo(AA(this,this.gutterLeft+this.axisWidth),this.canvas.height-this.gutterBottom),this.context.lineTo(AA(this,this.gutterLeft+this.axisWidth),this.gutterTop),this.context.stroke(),this.context.beginPath();var a=this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center");this.context.moveTo(AA(this,a),this.gutterTop),this.context.lineTo(AA(this,a),this.canvas.height-this.gutterBottom),this.context.moveTo(AA(this
,a),AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom)),this.context.stroke()},RGraph.Bipolar.prototype.DrawTicks=function(){var a=this.left.length,b=(this.canvas.height-this.gutterTop-this.gutterBottom-this.left.length*this.Get("chart.margin")*2)/a;for(var c=this.canvas.height-this.gutterBottom;c>=this.gutterTop;c-=b+this.Get("chart.margin")*2)c<this.canvas.height-this.gutterBottom&&(this.context.beginPath(),this.context.moveTo(this.gutterLeft+this.axisWidth,AA(this,c)),this.context.lineTo(this.gutterLeft+this.axisWidth+3,AA(this,c)),this.context.stroke());for(var c=this.canvas.height-this.gutterBottom;c>=this.gutterTop;c-=b+this.Get("chart.margin")*2)c<this.canvas.height-this.gutterBottom&&(this.context.beginPath(),this.context.moveTo(this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center"),AA(this,c)),this.context.lineTo(this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center")-3,AA(this,c)),this.context.stroke());var d=this.axisWidth/10;typeof this.Get("chart.xtickinterval")=="number"&&(d=this.Get("chart.xtickinterval"));for(c=this.gutterLeft;c<this.gutterLeft+this.axisWidth;c+=d)this.context.beginPath(),this.context.moveTo(AA(this,c),this.canvas.height-this.gutterBottom),this.context.lineTo(AA(this,c),this.canvas.height-this.gutterBottom+4),this.context.closePath(),this.context.stroke();var e=this.canvas.width-this.gutterRight;for(c=this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center")+d;c<=e;c+=d)this.context.beginPath(),this.context.moveTo(AA(this,c),this.canvas.height-this.gutterBottom),this.context.lineTo(AA(this,c),this.canvas.height-this.gutterBottom+4),this.context.closePath(),this.context.stroke();this.barHeight=b},RGraph.Bipolar.prototype.GetMax=function(){var a=0,b=this.Get("chart.scale.decimals");this.Get("chart.xmax")?(a=this.Get("chart.xmax"),this.scale=[],this.scale[0]=Number(a/5*1).toFixed(b),this.scale[1]=Number(a/5*2).toFixed(b),this.scale[2]=Number(a/5*3).toFixed(b),this.scale[3]=Number(a/5*4).toFixed(b),this.scale[4]=Number(a).toFixed(b),this.max=a):(this.leftmax=RGraph.array_max(this.left),this.rightmax=RGraph.array_max(this.right),a=Math.max(this.leftmax,this.rightmax),this.scale=RGraph.getScale(a,this),this.scale[0]=Number(this.scale[0]).toFixed(b),this.scale[1]=Number(this.scale[1]).toFixed(b),this.scale[2]=Number(this.scale[2]).toFixed(b),this.scale[3]=Number(this.scale[3]).toFixed(b),this.scale[4]=Number(this.scale[4]).toFixed(b),this.max=this.scale[4])},RGraph.Bipolar.prototype.DrawLeftBars=function(){this.context.strokeStyle=this.Get("chart.strokestyle");for(i=0;i<this.left.length;++i){this.Get("chart.shadow")&&(this.context.shadowColor=this.Get("chart.shadow.color"),this.context.shadowBlur=this.Get("chart.shadow.blur"),this.context.shadowOffsetX=this.Get("chart.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.shadow.offsety")),this.context.beginPath(),this.Get("chart.colors")[i]&&(this.context.fillStyle=this.Get("chart.colors")[i]),this.context.strokeStyle=this.Get("chart.strokestyle");var a=this.left[i]/this.max*this.axisWidth,b=[AA(this,this.gutterLeft+this.axisWidth-a),AA(this,this.gutterTop+i*(this.axisHeight/this.left.length)+this.Get("chart.margin")),a,this.barHeight];RGraph.isOld()&&this.Get("chart.shadow")&&this.DrawIEShadow(b),this.context.strokeRect(b[0],b[1],b[2],b[3]),this.context.fillRect(b[0],b[1],b[2],b[3]),this.context.stroke(),this.context.fill(),this.coords.push([b[0],b[1],b[2],b[3]])}RGraph.NoShadow(this)},RGraph.Bipolar.prototype.DrawRightBars=function(){this.context.strokeStyle=this.Get("chart.strokestyle"),this.Get("chart.shadow")&&(this.context.shadowColor=this.Get("chart.shadow.color"),this.context.shadowBlur=this.Get("chart.shadow.blur"),this.context.shadowOffsetX=this.Get("chart.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.shadow.offsety"));for(var a=0;a<this.right.length;++a){this.context.beginPath(),this.Get("chart.colors")[a]&&(this.context.fillStyle=this.Get("chart.colors")[a]),this.context.strokeStyle=this.Get("chart.strokestyle");var b=this.right[a]/this.max*this.axisWidth,c=[AA(this,this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center")),AA(this,this.Get("chart.margin")+a*(this.axisHeight/this.right.length)+this.gutterTop),b,this.barHeight];RGraph.isOld()&&this.Get("chart.shadow")&&this.DrawIEShadow(c),this.context.strokeRect(AA(this,c[0]),AA(this,c[1]),c[2],c[3]),this.context.fillRect(AA(this,c[0]),AA(this,c[1]),c[2],c[3]),this.context.closePath(),this.coords.push([c[0],c[1],c[2],c[3]])}this.context.stroke(),RGraph.NoShadow(this)},RGraph.Bipolar.prototype.DrawLabels=function(){this.context.fillStyle=this.Get("chart.text.color");var a=[],b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=Math.max(this.left.length,this.right.length);for(i=0;i<d;++i){var e=this.canvas.height-this.gutterTop-this.gutterBottom,f=e/this.left.length,g=i*e+this.gutterTop;a.push(this.gutterTop+i*f+f/2+5)}for(i=0;i<a.length;++i)RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),this.gutterLeft+this.axisWidth+this.Get("chart.gutter.center")/2,a[i],String(this.Get("chart.labels")[i]?this.Get("chart.labels")[i]:""),null,"center");RGraph.Text(this.context,b,c,this.gutterLeft,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[4],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.gutterLeft+(this.canvas.width-this.Get("chart.gutter.center")-this.gutterLeft-this.gutterRight)/2*.2,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[3],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.gutterLeft+(this.canvas.width-this.Get("chart.gutter.center")-this.gutterLeft-this.gutterRight)/2*.4,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[2],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.gutterLeft+(this.canvas.width-this.Get("chart.gutter.center")-this.gutterLeft-this.gutterRight)/2*.6,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[1],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.gutterLeft+(this.canvas.width-this.Get("chart.gutter.center")-this.gutterLeft-this.gutterRight)/2*.8,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[0],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[4],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.canvas.width-this.gutterRight-this.axisWidth*.2,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[3],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.canvas.width-this.gutterRight-this.axisWidth*.4,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[2],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.canvas.width-this.gutterRight-this.axisWidth*.6,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[1],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center"),RGraph.Text(this.context,b,c,this.canvas.width-this.gutterRight-this.axisWidth*.8,this.canvas.height-this.gutterBottom+14,RGraph.number_format(this,this.scale[0],this.Get("chart.units.pre"),this.Get("chart.units.post")),null,"center")},RGraph.Bipolar.prototype.DrawTitles=function(){RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),this.gutterLeft+5,this.gutterTop/2+5,String(this.Get("chart.title.left")),"center"),RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),this.canvas.width-this.gutterRight-5,this.gutterTop/2+5,String(this.Get("chart.title.right")),"center","right"),RGraph.DrawTitle(this,this.Get("chart.title"),this.gutterTop,null,this.Get("chart.title.size")?this.Get("chart.title.size"):null)},RGraph.Bipolar.prototype.DrawIEShadow=function(a){var b=this.context.fillStyle,c=this.Get("chart.shadow.offsetx"),d=this.Get("chart.shadow.offsety");this.context.lineWidth=this.Get("chart.linewidth"),this.context.fillStyle=this.Get("chart.shadow.color"),this.context.beginPath(),this.context.fillRect(a[0]+c,a[1]+d,a[2],a[3]),this.context.fill(),this.context.fillStyle=b},RGraph.Bipolar.prototype.getShape=RGraph.Bipolar.prototype.getBar=function(a){var b=this.canvas,c=this.context,d=RGraph.getMouseXY(a);for(var e=0;e<this.coords.length;e++){var f=d[0],g=d[1],h=this.coords[e][0],i=this.coords[e][1],j=this.coords[e][2],k=this.coords[e][3];if(f>=h&&f<=h+j&&g>=i&&g<=i+k){var l=RGraph.parseTooltipText(this.Get("chart.tooltips"),e);return{0:this,1:h,2:i,3:j,4:k,5:e,object:this,x:h,y:i,width:j,height:k,index:e,tooltip:l}}}return null},RGraph.Bipolar.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.Bipolar.prototype.getValue=function(a){var b=a.target.__object__,c=RGraph.getMouseXY(a),d=c[0];if(d>this.gutterLeft&&d<this.canvas.width/2-this.Get("chart.gutter.center")/2){var e=(d-this.Get("chart.gutter.left"))/this.axisWidth;e=this.max-e*this.max}if(d<this.canvas.width-this.gutterRight&&d>this.canvas.width/2+this.Get("chart.gutter.center")/2){var e=(d-this.Get("chart.gutter.left")-this.axisWidth-this.Get("chart.gutter.center"))/this.axisWidth;e=e*this.max}return e},RGraph.Bipolar.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Bipolar.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f+h/2-m/2<0?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+m>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Annotating_canvas_onmousedown=function(a){if(a.button==0){a.target.__object__.Set("chart.mousedown",!0);var b=a.target.__object__;b.context.beginPath(),b.context.strokeStyle=b.Get("chart.annotate.color"),b.context.lineWidth=1;var c=RGraph.getMouseXY(a),d=c[0],e=c[1];RGraph.Registry.Set("annotate.actions",[b.Get("chart.annotate.color")]),b.context.moveTo(d,e),RGraph.Registry.Set("started.annotating",!1),RGraph.Registry.Set("chart.annotating",b),RGraph.FireCustomEvent(b,"onannotatebegin")}return!1},RGraph.Annotating_window_onmouseup=function(a){var b=RGraph.Registry.Get("chart.annotating");if(a.button!=0||!b)return;var c=document.getElementsByTagName("canvas");for(var d=0;d<c.length;++d)c[d].__object__&&c[d].__object__.Set("chart.mousedown",!1);if(RGraph.Registry.Get("annotate.actions")&&RGraph.Registry.Get("annotate.actions").length>0&&window.localStorage){var e="__rgraph_annotations_"+a.target.id+"__",f=window.localStorage[e]?window.localStorage[e]+"|":"";f+=RGraph.Registry.Get("annotate.actions"),window.localStorage[e]=f}RGraph.Registry.Set("annotate.actions",[]),RGraph.FireCustomEvent(b,"onannotateend")},RGraph.Annotating_canvas_onmousemove=function(a){var a=RGraph.FixEventObject(a),b=a.target.__object__,c=RGraph.getMouseXY(a),d=c[0],e=c[1];b.Get("chart.mousedown")&&(b.context.lineTo(d,e),RGraph.Registry.Set("annotate.actions",RGraph.Registry.Get("annotate.actions")+"|"+d+","+e),RGraph.FireCustomEvent(b,"onannotate"),b.context.stroke())},RGraph.Showpalette=function(a){var b=navigator.userAgent.indexOf("Safari")?!0:!1;a=RGraph.FixEventObject(a);var c=a.target.parentNode.__canvas__,d=c.getContext("2d"),e=c.__object__,f=document.createElement("DIV"),g=RGraph.getMouseXY(a);f.__object__=e,f.className="RGraph_palette",f.style.position="absolute",f.style.backgroundColor="white",f.style.border="1px solid black",f.style.left=0,f.style.top=0,f.style.padding="3px",f.style.paddingBottom=0,f.style.paddingRight=0,f.style.opacity=0,f.style.boxShadow="rgba(96,96,96,0.5) 3px 3px 3px",f.style.WebkitBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",f.style.MozBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",f.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)";var h="padding: 1px; display: inline; display: inline-block; width: 15px; height: 15px; margin-right: 3px; cursor: pointer;"+(b?"margin-bottom: 3px":""),j=" onmouseover=\"this.style.border = '1px black solid'; this.style.padding = 0\"",k=" onmouseout=\"this.style.border = 0; this.style.padding = '1px'\" ",l="",m=["red","blue","green","black","yellow","magenta","pink","cyan","purple","#ddf","gray","#36905c"];for(i=0;i<m.length;++i)l=l+"<span "+j+k+' style="background-color: '+m[i]+"; "+h+"\" onclick=\"this.parentNode.__object__.Set('chart.annotate.color', this.style.backgroundColor); this.parentNode.style.display = 'none'; RGraph.FireCustomEvent(this.parentNode.__object__, 'onannotatecolor')\">&nbsp;</span>",i==5&&(l+="<br />");return f.innerHTML=l,document.body.appendChild(f),f.style.width=f.offsetWidth+"px",f.style.height=f.offsetHeight-(RGraph.isIE9up()?5:5)+"px",f.style.left=Math.max(0,a.pageX-f.offsetWidth-2)+"px",f.style.top=a.pageY-f.offsetHeight-2+"px",RGraph.Registry.Set("palette",f),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.2",50),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.4",100),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.6",150),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.8",200),setTimeout("RGraph.Registry.Get('palette').style.opacity = 1",250),RGraph.HideContext(),window.onclick=function(){RGraph.HidePalette()},a.stopPropagation(),!1},RGraph.ClearAnnotations=function(a){if(typeof a=="string"){var b=a;a=document.getElementById(b)}else var b=a.id;var c=a.__object__;window.localStorage&&window.localStorage["__rgraph_annotations_"+b+"__"]&&window.localStorage["__rgraph_annotations_"+b+"__"].length&&(window.localStorage["__rgraph_annotations_"+b+"__"]=[],RGraph.FireCustomEvent(c,"onannotateclear"))},RGraph.ReplayAnnotations=function(a){if(!window.localStorage)return;var b=a.context,c=window.localStorage["__rgraph_annotations_"+a.id+"__"],d,e,f,g;b.beginPath(),b.lineWidth=2;if(c&&c.length)c=c.split("|");else return;for(d=0,e=c.length;d<e;++d){if(!c[d].match(/^[0-9]+,[0-9]+$/)){b.stroke(),b.beginPath(),b.strokeStyle=c[d],f=!0;continue}g=c[d].split(","),f?(b.moveTo(g[0],g[1]),f=!1):b.lineTo(g[0],g[1])}b.stroke()},window.addEventListener("load",function(a){setTimeout(function(){var a=document.getElementsByTagName("canvas");for(var b=0;b<a.length;++b)a[b].__object__&&a[b].__object__.isRGraph&&a[b].__object__.Get("chart.annotatable")&&RGraph.ReplayAnnotations(a[b].__object__)},100)},!1),typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Contextmenu=function(a,b,c){var d=a.canvas;c=RGraph.FixEventObject(c),RGraph.FireCustomEvent(a,"onbeforecontextmenu"),RGraph.Registry.Get("chart.contextmenu")&&RGraph.HideContext(),RGraph.HideZoomedCanvas(),RGraph.HidePalette(),a.Set("chart.mousedown",!1);var e=c.pageX,f=c.pageY,g=document.createElement("div"),h=document.createElement("div");g.className="RGraph_contextmenu",g.__canvas__=d,g.style.position="absolute",g.style.left=0,g.style.top=0,g.style.border="1px solid black",g.style.backgroundColor="white",g.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",g.style.opacity=0,h.className="RGraph_contextmenu_background",h.style.position="absolute",h.style.backgroundColor="#ccc",h.style.borderRight="1px solid #aaa",h.style.top=0,h.style.left=0,h.style.width="18px",h.style.height="100%",h.style.opacity=0,g=document.body.appendChild(g),h=g.appendChild(h);for(i=0;i<b.length;++i){var j=document.createElement("div");j.__object__=a,j.__canvas__=d,j.__contextmenu__=g,j.className="RGraph_contextmenu_item",b[i]?(j.style.padding="2px 5px 2px 23px",j.style.fontFamily="Arial",j.style.fontSize="10pt",j.style.fontWeight="normal",j.innerHTML=b[i][0],RGraph.is_array(b[i][1])&&(j.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAQUlEQVQImY3NoQ2AMABE0ZewABMyGQ6mqWODzlAclBSFO8HZl8uf0FFxCHtwYkt4Y6ChYE44cGH9/fyae2p2LAleW9oVTQuVf6gAAAAASUVORK5CYII=)",j.style.backgroundRepeat="no-repeat",j.style.backgroundPosition="97% center"),b[i][1]?j.addEventListener?(j.addEventListener("mouseover",function(a){RGraph.HideContextSubmenu(),a.target.style.backgroundColor="rgba(0,0,0,0.2)",a.target.style.cursor="pointer"},!1),j.addEventListener("mouseout",function(a){a.target.style.backgroundColor="inherit",a.target.style.cursor="default"},!1)):(j.attachEvent("onmouseover",function(){RGraph.HideContextSubmenu(),event.srcElement.style.backgroundColor="#eee",event.srcElement.style.cursor="pointer"},!1),j.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):j.addEventListener?(j.addEventListener("mouseover",function(a){a.target.style.cursor="default"},!1),j.addEventListener("mouseout",function(a){a.target.style.cursor="default"},!1)):(j.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),j.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(j.style.borderBottom="1px solid #ddd",j.style.marginLeft="25px"),g.appendChild(j),b[i]&&b[i][1]&&typeof b[i][1]=="function"?j.addEventListener("click",b[i][1],!1):b[i]&&b[i][1]&&RGraph.is_array(b[i][1])&&function(){var c=b[i][1];j.addEventListener("mouseover",function(b){RGraph.Contextmenu_submenu(a,c,b.target)},!1)}()}return g.style.width=g.offsetWidth+10+"px",g.style.height=g.offsetHeight-2+"px",e+g.offsetWidth>document.body.offsetWidth&&(e-=g.offsetWidth),g.style.left=e+"px",g.style.top=f+"px",setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 1",250),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 1",250),RGraph.Registry.Set("chart.contextmenu",g),RGraph.Registry.Set("chart.contextmenu.bg",h),RGraph.Registry.Get("chart.contextmenu").oncontextmenu=function(){return!1},RGraph.Registry.Get("chart.contextmenu.bg").oncontextmenu=function(){return!1},d.addEventListener("click",function(){RGraph.HideContext()},!1),window.onclick=function(a){RGraph.HideContext(),a.target.onclick&&a.button==0&&a.target.onclick(a)},window.onresize=function(){RGraph.HideContext()},typeof a.getShape=="function"&&(RGraph.Registry.Get("chart.contextmenu").__shape__=a.getShape(c)),c.stopPropagation(),RGraph.FireCustomEvent(a,"oncontextmenu"),!1},RGraph.HideContext=function(){var a=RGraph.Registry.Get("chart.contextmenu"),b=RGraph.Registry.Get("chart.contextmenu.bg");RGraph.HideContextSubmenu(),a&&(a.parentNode.removeChild(a),b.parentNode.removeChild(b),a.style.visibility="hidden",a.style.display="none",RGraph.Registry.Set("chart.contextmenu",null),b.style.visibility="hidden",b.style.display="none",RGraph.Registry.Set("chart.contextmenu.bg",null))},RGraph.HideContextSubmenu=function(){var a=RGraph.Registry.Get("chart.contextmenu.submenu");a&&(a.style.visibility="none",a.style.display="none",RGraph.Registry.Set("chart.contextmenu.submenu",null))},RGraph.ShowContext=function(a){RGraph.HidePalette();if(a.Get("chart.contextmenu")&&a.Get("chart.contextmenu").length){var b=navigator.userAgent.indexOf("Opera")>=0,c=navigator.userAgent.indexOf("Safari")>=0,d=navigator.userAgent.indexOf("Chrome")>=0,e=navigator.userAgent.indexOf("Firefox")>0&&navigator.userAgent.indexOf("Mac")>0,f=navigator.userAgent.indexOf("MSIE 9")>=0;(!b&&!c||d)&&!e?a.canvas.oncontextmenu=function(b){return b=RGraph.FixEventObject(b),b.ctrlKey?!0:(RGraph.Contextmenu(a,a.Get("chart.contextmenu"),b),!1)}:a.canvas.addEventListener("dblclick",function(b){if(b.ctrlKey)return!0;RGraph.Registry.Get("chart.contextmenu")||RGraph.Contextmenu(a,a.Get("chart.contextmenu"),b)},!1)}},RGraph.Contextmenu_submenu=function(a,b,c){RGraph.HideContextSubmenu();var d=a.canvas,e=a.context,f=c.parentNode,g=document.createElement("DIV");g.style.position="absolute",g.style.width="100px",g.style.top=f.offsetTop+c.offsetTop+"px",g.style.left=f.offsetLeft+f.offsetWidth-(RGraph.isOld()?9:0)+"px",g.style.backgroundColor="white",g.style.border="1px solid black",g.className="RGraph_contextmenu",g.__contextmenu__=f,g.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",g.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",document.body.appendChild(g);for(var h=0;h<b.length;++h){var i=document.createElement("DIV");i.__canvas__=d,i.__contextmenu__=f,i.className="RGraph_contextmenu_item",b[h]?(i.style.padding="2px 5px 2px 23px",i.style.fontFamily="Arial",i.style.fontSize="10pt",i.style.fontWeight="normal",i.innerHTML=b[h][0],b[h][1]?i.addEventListener?(i.addEventListener("mouseover",function(a){a.target.style.backgroundColor="rgba(0,0,0,0.2)",a.target.style.cursor="pointer"},!1),i.addEventListener("mouseout",function(a){a.target.style.backgroundColor="inherit",a.target.style.cursor="default"},!1)):(i.attachEvent("onmouseover",function(){event.srcElement.style.backgroundColor="rgba(0,0,0,0.2)",event.srcElement.style.cursor="pointer"},!1),i.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):i.addEventListener?(i.addEventListener("mouseover",function(a){a.target.style.cursor="default"},!1),i.addEventListener("mouseout",function(a){a.target.style.cursor="default"},!1)):(i.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),i.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(i.style.borderBottom="1px solid #ddd",i.style.marginLeft="25px"),g.appendChild(i),b[h]&&b[h][1]&&(document.all?i.attachEvent("onclick",b[h][1]):i.addEventListener("click",b[h][1],!1))}var j=document.createElement("DIV");j.className="RGraph_contextmenu_background",j.style.position="absolute",j.style.backgroundColor="#ccc",j.style.borderRight="1px solid #aaa",j.style.top=0,j.style.left=0,j.style.width="18px",j.style.height="100%",j=g.appendChild(j),RGraph.Registry.Set("chart.contextmenu.submenu",g)},RGraph.showPNG=function(){if(RGraph.isIE8()){alert("[RGRAPH PNG] Sorry, showing a PNG is not supported on MSIE8.");return}if(arguments[0]&&arguments[0].id)var a=arguments[0],b=arguments[1];else if(RGraph.Registry.Get("chart.contextmenu"))var a=RGraph.Registry.Get("chart.contextmenu").__canvas__;else alert("[RGRAPH SHOWPNG] Could not find canvas!");var c=a.__object__,d=document.createElement("DIV");d.id="__rgraph_image_bg__",d.style.position="fixed",d.style.top="-10px",d.style.left="-10px",d.style.width="5000px",d.style.height="5000px",d.style.backgroundColor="rgb(204,204,204)",d.style.opacity=0,document.body.appendChild(d);var e=document.createElement("DIV");e.style.backgroundColor="white",e.style.opacity=0,e.style.border="1px solid black",e.style.position="fixed",e.style.top="20%",e.style.width=a.width+"px",e.style.height=a.height+35+"px",e.style.left=document.body.clientWidth/2-a.width/2+"px",e.style.padding="5px",e.style.borderRadius="10px",e.style.MozBorderRadius="10px",e.style.WebkitBorderRadius="10px",e.style.boxShadow="0 0 15px rgba(96,96,96,0.5)",e.style.MozBoxShadow="0 0 15px rgba(96,96,96,0.5)",e.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",e.__canvas__=a,e.__object__=c,e.id="__rgraph_image_div__",document.body.appendChild(e),e.innerHTML+='<div style="position: absolute; margin-left: 10px; top: '+a.height+"px; width: "+(a.width-50)+'px; height: 25px"><span style="font-size: 12pt;display: inline; display: inline-block; width: 65px; text-align: right">URL:</span><textarea style="float: right; overflow: hidden; height: 20px; width: '+(a.width-c.gutterLeft-c.gutterRight-80)+'px" onclick="this.select()" readonly="readonly" id="__rgraph_dataurl__">'+a.toDataURL()+"</textarea></div>",e.innerHTML+='<div style="position: absolute; top: '+(a.height+25)+"px; left: "+(c.gutterLeft-65+a.width/2)+"px; width: "+(a.width-c.gutterRight)+'px; font-size: 65%">A link using the URL: <a href="'+a.toDataURL()+'">View</a></div>';var f=document.createElement("IMG");RGraph.Registry.Set("chart.png",f),f.__canvas__=a,f.__object__=c,f.id="__rgraph_image_img__",f.className="RGraph_png",f.src=a.toDataURL(),e.appendChild(f),setTimeout(function(){document.getElementById("__rgraph_dataurl__").select()},50),window.addEventListener("resize",function(a){var b=RGraph.Registry.Get("chart.png");b.style.left=document.body.clientWidth/2-b.width/2+"px"},!1),d.onclick=function(a){var b=document.getElementById("__rgraph_image_div__"),c=document.getElementById("__rgraph_image_bg__");b&&(b.style.opacity=0,b.parentNode.removeChild(b),b.id="",b.style.display="none",b=null),c&&(c.style.opacity=0,c.id="",c.style.display="none",c=null)},window.addEventListener("resize",function(a){d.onclick(a)},!1),__rgraph_image_bg__=d,__rgraph_image_div__=e,setTimeout("__rgraph_image_div__.style.opacity = 0.2",50),setTimeout("__rgraph_image_div__.style.opacity = 0.4",100),setTimeout("__rgraph_image_div__.style.opacity = 0.6",150),setTimeout("__rgraph_image_div__.style.opacity = 0.8",200),setTimeout("__rgraph_image_div__.style.opacity = 1",250),setTimeout("__rgraph_image_bg__.style.opacity = 0.1",50),setTimeout("__rgraph_image_bg__.style.opacity = 0.2",100),setTimeout("__rgraph_image_bg__.style.opacity = 0.3",150),setTimeout("__rgraph_image_bg__.style.opacity = 0.4",200),setTimeout("__rgraph_image_bg__.style.opacity = 0.5",250),f.onclick=function(a){a.stopPropagation?a.stopPropagation():b.cancelBubble=!0},b&&b.stopPropagation&&b.stopPropagation()},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["chart.event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],HALFPI=Math.PI/2,PI=Math.PI,TWOPI=PI*2,RGraph.getScale=function(a,b){if(a==0)return["0.2","0.4","0.6","0.8","1.0"];var c=a;if(a<=1){if(a>.5)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(a>=.1)return b.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];var d=a,e=0;while(d<1.01)e+=1,d*=10;var f=["2e-"+e,"4e-"+e,"6e-"+e,"8e-"+e,"10e-"+e];return a<="5e-"+e&&(f=["1e-"+e,"2e-"+e,"3e-"+e,"4e-"+e,"5e-"+e]),f}String(a).indexOf(".")>0&&(a=String(a).replace(/\.\d+$/,""));var g=Math.pow(10,Number(String(Number(a)).length-1)),h=g;while(h<a)h+=g/2;return Number(c)>Number(h)&&(h+=g/2),a<10&&(h=Number(c)<=5?5:10),b&&typeof b.Get("chart.scale.round")=="boolean"&&b.Get("chart.scale.round")&&(h=10*g),[h*.2,h*.4,h*.6,h*.8,h]},RGraph.array_max=function(a){var b=null;if(typeof a=="number")return a;for(var c=0;c<a.length;++c)if(typeof a[c]=="number"){var d=arguments[1]?Math.abs(a[c]):a[c];typeof b=="number"?b=Math.max(b,d):b=d}return b},RGraph.array_pad=function(a,b){if(a.length<b){var c=arguments[2]?arguments[2]:null;for(var d=a.length;d<b;++d)a[d]=c}return a},RGraph.array_sum=function(a){if(typeof a=="number")return a;var b,c,d=a.length;for(b=0,c=0;b<d;c+=a[b++]);return c},RGraph.array_linearize=function(){var a=[];for(var b=0;b<arguments.length;++b)if(typeof arguments[b]=="object"&&arguments[b])for(var c=0;c<arguments[b].length;++c){var d=RGraph.array_linearize(arguments[b][c]);for(var e=0;e<d.length;++e)a.push(d[e])}else a.push(arguments[b]);return a},RGraph.Text=function(a,b,c,d,e,f){if(typeof f!="string"&&typeof f!="number"||f=="undefined")return;if(typeof f=="string")if(f.indexOf("\r\n")>0&&arguments[6]=="center"){var g=f.split("\r\n").length;e=e-(g-1.5)*c}else if(f.indexOf("\r\n")>0&&arguments[6]=="bottom"){var g=f.split("\r\n").length;e=e-(g-.5)*c}if(typeof f=="string"&&f.match(/\r\n/)){var h=f.split("\r\n");f=h[0],h=RGraph.array_shift(h);var i=h.join("\r\n");RGraph.Text(a,b,c,arguments[9]==-90?d+c*1.5:d,e+c*1.5,i,arguments[6]?arguments[6]:null,arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12])}RGraph.isOld()&&(e+=2),a.font=(arguments[11]?"Bold ":"")+c+"pt "+b;var j,k=d,l=e,m=a.fillStyle,n=a.lineWidth;typeof arguments[6]==null&&(arguments[6]="bottom"),typeof arguments[7]==null&&(arguments[7]="left"),typeof arguments[8]==null&&(arguments[8]=null),typeof arguments[9]==null&&(arguments[9]=0),typeof arguments[12]==null&&(arguments[12]=!0),navigator.userAgent.indexOf("Opera")!=-1&&(a.canvas.__rgraph_valign__=arguments[6],a.canvas.__rgraph_halign__=arguments[7]),a.save(),a.canvas.__rgraph_originalx__=d,a.canvas.__rgraph_originaly__=e,a.translate(d,e),d=0,e=0,arguments[9]&&a.rotate(arguments[9]/57.3);if(arguments[6]){var o=arguments[6];o=="center"?a.translate(0,c/2):o=="top"&&a.translate(0,c)}if(arguments[7]){var p=arguments[7],q=a.measureText(f).width;p&&(p=="center"?a.translate(-1*(q/2),0):p=="right"&&a.translate(-1*q,0))}a.fillStyle=m,a.save(),a.fillText(f,0,0),a.lineWidth=1;if(arguments[8]){var q=a.measureText(f).width,r=RGraph.isIE8()?2:0;a.translate(d,e),a.strokeRect(AA(a.canvas.__object__,-3),AA(a.canvas.__object__,-3-c-r),q+6,0+c+6);if(arguments[10]){var s=3,r=RGraph.isIE8()?2:0,q=a.measureText(f).width;a.fillStyle=arguments[10],a.fillRect(AA(a.canvas.__object__,d-s),AA(a.canvas.__object__,e-c-s-r),q+2*s,c+2*s)}a.fillStyle=m;if(arguments[6]="center")a.ttextBaseline="middle";a.fillText(f,0,0),arguments[12]&&a.fillRect(arguments[7]=="left"?0:(arguments[7]=="center"?q/2:q)-2,arguments[6]=="bottom"?0:(arguments[6]=="center"?(0-c)/2:0-c)-2,4,4)}a.restore(),a.lineWidth=n,a.restore()},RGraph.Clear=function(a){if(!a)return;RGraph.FireCustomEvent(a.__object__,"onbeforeclear");var b=a.getContext("2d"),c=arguments[1];RGraph.isIE8()&&!c&&(c="white"),!c||c&&c=="transparent"?(b.clearRect(0,0,a.width,a.height),b.globalCompositeOperation="source-over"):(b.fillStyle=c,b=a.getContext("2d"),b.beginPath(),RGraph.isIE8()?b.fillRect(0,0,a.width,a.height):b.fillRect(-10,-10,a.width+20,a.height+20),b.fill()),!RGraph.ClearAnnotations;if(RGraph.Registry.Get("chart.background.image."+a.id)){var d=RGraph.Registry.Get("chart.background.image."+a.id);d.style.position="absolute",d.style.left="-10000px",d.style.top="-10000px"}RGraph.Registry.Get("chart.tooltip")&&RGraph.HideTooltip(),a.style.cursor="default",RGraph.FireCustomEvent(a.__object__,"onclear")},RGraph.DrawTitle=function(a,b,c){var d=a.canvas,e=a.context,f=a.Get("chart.gutter.left"),g=a.Get("chart.gutter.right"),h=a.Get("chart.gutter.bottom"),i=arguments[4]?arguments[4]:12,j=a.Get("chart.title.bold"),k=arguments[3]?arguments[3]:(a.canvas.width-f-g)/2+f,l=a.Get("chart.key.position"),m=a.Get("chart.title.vpos"),n=a.Get("chart.title.hpos"),o=a.Get("chart.title.background");a.type=="bar"&&a.Get("chart.variant"
)=="3d"&&(l="gutter"),e.beginPath(),e.fillStyle=a.Get("chart.text.color")?a.Get("chart.text.color"):"black";if(l&&l!="gutter")var p="center";else if(!l)var p="center";else var p="bottom";typeof a.Get("chart.title.vpos")=="number"?(m=a.Get("chart.title.vpos")*c,a.Get("chart.xaxispos")=="top"&&(m=a.Get("chart.title.vpos")*h+c+(a.canvas.height-c-h))):(m=c-i-5,a.Get("chart.xaxispos")=="top"&&(m=a.canvas.height-h+i+5)),typeof n=="number"&&(k=n*d.width);if(typeof (a.Get("chart.title.color")!=null)){var q=e.fillStyle,r=a.Get("chart.title.color");e.fillStyle=r?r:"black"}var s=a.Get("chart.text.font");typeof a.Get("chart.title.font")=="string"&&(s=a.Get("chart.title.font")),RGraph.Text(e,s,i,k,m,b,p,"center",o!=null,null,o,j),e.fillStyle=q},RGraph.getMouseXY=function(a){var b=RGraph.isIE8()||RGraph.isIE7()?event.srcElement:a.target,c,d,e=b.style.paddingLeft?parseInt(b.style.paddingLeft):0,f=b.style.paddingTop?parseInt(b.style.paddingTop):0,g=b.style.borderLeftWidth?parseInt(b.style.borderLeftWidth):0,h=b.style.borderTopWidth?parseInt(b.style.borderTopWidth):0;RGraph.isIE8()&&(a=event);if(typeof a.offsetX=="number"&&typeof a.offsetY=="number")c=a.offsetX,d=a.offsetY;else{c=0,d=0;while(b!=document.body&&b)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;c=a.pageX-c,d=a.pageY-d}return[c,d]},RGraph.getCanvasXY=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop,d=d.offsetParent;while(d&&d.tagName.toLowerCase()!="body");var e=a.style.paddingLeft?parseInt(a.style.paddingLeft):0,f=a.style.paddingTop?parseInt(a.style.paddingTop):0,g=a.style.borderLeftWidth?parseInt(a.style.borderLeftWidth):0,h=a.style.borderTopWidth?parseInt(a.style.borderTopWidth):0;return[b+e+g,c+f+h]},RGraph.Register=function(a){a.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(a),a.Set("chart.noregister",!0))},RGraph.Redraw=function(){var a=RGraph.ObjectRegistry.objects.byCanvasID,b=document.getElementsByTagName("canvas");for(var c=0;c<b.length;++c)b[c].__object__&&b[c].__object__.isRGraph&&RGraph.Clear(b[c],arguments[0]?arguments[0]:null);for(var c=0;c<a.length;++c)if(a[c]){var d=a[c][0];a[c][1].Draw()}},RGraph.RedrawCanvas=function(a){var b=RGraph.ObjectRegistry.getObjectsByCanvasID(a.id);(!arguments[1]||typeof arguments[1]=="boolean"&&!arguments[1]==!1)&&RGraph.Clear(a);for(var c=0;c<b.length;++c)b[c]&&b[c]&&b[c].isRGraph&&b[c].Draw()},RGraph.background.Draw=function(a){var b=a.canvas,c=a.context,d=0,e=a.Get("chart.gutter.left"),f=a.Get("chart.gutter.right"),g=a.Get("chart.gutter.top"),h=a.Get("chart.gutter.bottom"),i=a.Get("chart.variant");c.fillStyle=a.Get("chart.text.color"),i=="3d"&&(c.save(),c.translate(10,-5));if(typeof a.Get("chart.title.xaxis")=="string"&&a.Get("chart.title.xaxis").length){var j=a.Get("chart.text.size")+2,k=a.Get("chart.text.font"),l=a.Get("chart.title.xaxis.bold");typeof a.Get("chart.title.xaxis.size")=="number"&&(j=a.Get("chart.title.xaxis.size")),typeof a.Get("chart.title.xaxis.font")=="string"&&(k=a.Get("chart.title.xaxis.font"));var m=(a.canvas.width-a.gutterLeft-a.gutterRight)/2+a.gutterLeft,n=a.canvas.height-a.Get("chart.gutter.bottom")+25;typeof a.Get("chart.title.xaxis.pos")=="number"&&(n=a.canvas.height-h*a.Get("chart.title.xaxis.pos")),c.beginPath(),RGraph.Text(c,k,j,m,n,a.Get("chart.title.xaxis"),"center","center",!1,!1,!1,l),c.fill()}if(typeof a.Get("chart.title.yaxis")=="string"&&a.Get("chart.title.yaxis").length){var j=a.Get("chart.text.size")+2,k=a.Get("chart.text.font"),o=270,l=a.Get("chart.title.yaxis.bold"),p=a.Get("chart.title.yaxis.color");if(typeof a.Get("chart.title.yaxis.pos")=="number")var q=a.Get("chart.title.yaxis.pos")*a.Get("chart.gutter.left");else var q=(a.Get("chart.gutter.left")-25)/a.Get("chart.gutter.left")*a.Get("chart.gutter.left");typeof a.Get("chart.title.yaxis.size")=="number"&&(j=a.Get("chart.title.yaxis.size")),typeof a.Get("chart.title.yaxis.font")=="string"&&(k=a.Get("chart.title.yaxis.font")),a.Get("chart.title.yaxis.align")=="right"||a.Get("chart.title.yaxis.position")=="right"?(o=90,q=a.Get("chart.title.yaxis.pos")?a.Get("chart.title.yaxis.pos")*a.Get("chart.gutter.right"):a.canvas.width-a.Get("chart.gutter.right")+a.Get("chart.text.size")+5):q=q,c.beginPath(),c.fillStyle=p,RGraph.Text(c,k,j,q,(a.canvas.height-a.gutterTop-a.gutterBottom)/2+a.gutterTop,a.Get("chart.title.yaxis"),"center","center",!1,o,!1,l),c.fill()}a.context.beginPath(),c.fillStyle=a.Get("chart.background.barcolor1"),d=a.canvas.height-h;for(var r=g;r<d;r+=80)a.context.fillRect(e,r,RGraph.GetWidth(a)-e-f,Math.min(40,RGraph.GetHeight(a)-h-r));c.fillStyle=a.Get("chart.background.barcolor2"),d=RGraph.GetHeight(a)-h;for(var r=40+g;r<d;r+=80)a.context.fillRect(e,r,RGraph.GetWidth(a)-e-f,r+40>RGraph.GetHeight(a)-h?RGraph.GetHeight(a)-(h+r):40);c.stroke();if(a.Get("chart.background.grid")){if(a.Get("chart.background.grid.autofit")){a.Get("chart.background.grid.autofit.align")&&(a.Set("chart.background.grid.autofit.numhlines",a.Get("chart.ylabels.count")),a.type=="line"?a.Get("chart.labels")&&a.Get("chart.labels").length?a.Set("chart.background.grid.autofit.numvlines",a.Get("chart.labels").length-1):a.Set("chart.background.grid.autofit.numvlines",a.data[0].length-1):a.type=="bar"&&a.Get("chart.labels")&&a.Get("chart.labels").length&&a.Set("chart.background.grid.autofit.numvlines",a.Get("chart.labels").length));var s=(a.canvas.width-e-f)/a.Get("chart.background.grid.autofit.numvlines"),t=(a.canvas.height-g-h)/a.Get("chart.background.grid.autofit.numhlines");a.Set("chart.background.grid.vsize",s),a.Set("chart.background.grid.hsize",t)}c.beginPath(),c.lineWidth=a.Get("chart.background.grid.width")?a.Get("chart.background.grid.width"):1,c.strokeStyle=a.Get("chart.background.grid.color");if(a.Get("chart.background.grid.hlines")){d=RGraph.GetHeight(a)-h;for(y=g;y<d;y+=a.Get("chart.background.grid.hsize"))c.moveTo(e,AA(this,y)),c.lineTo(RGraph.GetWidth(a)-f,AA(this,y))}if(a.Get("chart.background.grid.vlines")){var u=a.canvas.width-f;for(x=e;x<=u;x+=a.Get("chart.background.grid.vsize"))c.moveTo(AA(this,x),g),c.lineTo(AA(this,x),a.canvas.height-h)}a.Get("chart.background.grid.border")&&(c.strokeStyle=a.Get("chart.background.grid.color"),c.strokeRect(AA(this,e),AA(this,g),RGraph.GetWidth(a)-e-f,RGraph.GetHeight(a)-g-h))}c.stroke(),i=="3d"&&c.restore(),typeof a.Get("chart.title")=="string"&&(a.type=="gantt"&&(g-=10),RGraph.DrawTitle(a,a.Get("chart.title"),g,null,a.Get("chart.title.size")?a.Get("chart.title.size"):a.Get("chart.text.size")+2)),c.stroke()},RGraph.GetDays=function(a){var b=a.getFullYear(),c=a.getDate(),d=a.getMonth();return d==0?c:(d>=1&&(c+=31),d>=2&&(c+=28),b>=2008&&b%4==0&&(c+=1),d>=3&&(c+=31),d>=4&&(c+=30),d>=5&&(c+=31),d>=6&&(c+=30),d>=7&&(c+=31),d>=8&&(c+=31),d>=9&&(c+=30),d>=10&&(c+=31),d>=11&&(c+=30),c)},RGraph.array_clone=function(a){if(a==null||typeof a!="object")return a;var b=[];for(var c=0;c<a.length;++c)typeof a[c]=="number"?b[c]=function(a){return Number(a)}(a[c]):typeof a[c]=="string"?b[c]=function(a){return String(a)}(a[c]):typeof a[c]=="function"?b[c]=a[c]:b[c]=RGraph.array_clone(a[c]);return b},RGraph.number_format=function(a,b){var c,d=arguments[2]?String(arguments[2]):"",e=arguments[3]?String(arguments[3]):"",f="",g="",h=a.Get("chart.scale.point")?a.Get("chart.scale.point"):".",i=a.Get("chart.scale.thousand")?a.Get("chart.scale.thousand"):",";RegExp.$1="";var c,j;if(typeof a.Get("chart.scale.formatter")=="function")return a.Get("chart.scale.formatter")(a,b);if(String(b).indexOf("e")>0)return String(d+String(b)+e);b=String(b);if(b.indexOf(".")>0){var k=b;b=b.replace(/\.(.*)/,""),g=k.replace(/(.*)\.(.*)/,"$2")}var l=i,m;for(c=b.length-1,j=0;c>=0;j++,c--){var n=b.charAt(c);j%3==0&&j!=0&&(f+=l),f+=n}var o=f;f="";for(c=o.length-1;c>=0;c--)f+=o.charAt(c);return f.indexOf("-"+a.Get("chart.scale.thousand"))==0&&(f="-"+f.substr(("-"+a.Get("chart.scale.thousand")).length)),g.length&&(f=f+h+g,g="",RegExp.$1=""),f.charAt(0)=="-"&&(f=f.replace(/-/,""),d="-"+d),d+f+e},RGraph.DrawBars=function(a){var b=a.Get("chart.background.hbars");a.context.beginPath();for(i=0;i<b.length;++i){b[i][1]==null?b[i][1]=a.max:b[i][0]+b[i][1]>a.max&&(b[i][1]=a.max-b[i][0]),Math.abs(b[i][1])>a.max&&(b[i][1]=-1*a.max),Math.abs(b[i][0])>a.max&&(b[i][0]=a.max),b[i][0]+b[i][1]<-1*a.max&&(b[i][1]=-1*(a.max+b[i][0])),a.Get("chart.xaxispos")=="bottom"&&(b[i][0]<0||b[i][1]+b[i][1]<0)&&alert("["+a.type.toUpperCase()+" (ID: "+a.id+") BACKGROUND HBARS] You have a negative value in one of your background hbars values, whilst the X axis is in the center");var c=a.grapharea-(b[i][0]-a.min)/(a.max-a.min)*a.grapharea,d=Math.min(b[i][1],a.max-b[i][0])/(a.max-a.min)*a.grapharea;a.Get("chart.xaxispos")=="center"&&(c/=2,d/=2),c+=a.Get("chart.gutter.top");var e=a.Get("chart.gutter.left"),f=c-d,g=a.canvas.width-a.Get("chart.gutter.left")-a.Get("chart.gutter.right"),h=d;navigator.userAgent.indexOf("Opera")!=-1&&a.Get("chart.xaxispos")=="center"&&h<0&&(h*=-1,f=f-h),a.Get("chart.xaxispos")=="top"&&(f=a.canvas.height-f,h*=-1),a.context.fillStyle=b[i][2],a.context.fillRect(e,f,g,h)}a.context.fill()},RGraph.DrawInGraphLabels=function(a){var b=a.canvas,c=a.context,d=a.Get("chart.labels.ingraph"),e=[],f="black",g="white",h=1;if(!d)return;for(var i=0;i<d.length;++i)if(typeof d[i]=="number")for(var j=0;j<d[i];++j)e.push(null);else typeof d[i]=="string"||typeof d[i]=="object"?e.push(d[i]):e.push("");RGraph.NoShadow(a);if(e&&e.length>0)for(var i=0;i<e.length;++i)if(e[i]){var k=a.coords[i];if(k&&k.length>0){var l=a.type=="bar"?k[0]+k[2]/2:k[0],m=a.type=="bar"?k[1]+k[3]/2:k[1],n=typeof e[i][4]=="number"?e[i][4]:25;c.beginPath(),c.fillStyle="black",c.strokeStyle="black";if(a.type=="bar"){a.Get("chart.xaxispos")=="top"&&(n*=-1);if(a.Get("chart.variant")=="dot"){c.moveTo(AA(a,l),a.coords[i][1]-5),c.lineTo(AA(a,l),a.coords[i][1]-5-n);var o=AA(a,l),p=a.coords[i][1]-5-n}else if(a.Get("chart.variant")=="arrow"){c.moveTo(AA(a,l),a.coords[i][1]-5),c.lineTo(AA(a,l),a.coords[i][1]-5-n);var o=AA(a,l),p=a.coords[i][1]-5-n}else{c.arc(AA(a,l),m,2.5,0,6.28,0),c.moveTo(AA(a,l),m),c.lineTo(AA(a,l),m-n);var o=AA(a,l),p=m-n}c.stroke(),c.fill()}else if(a.type=="line"){if(typeof e[i]=="object"&&typeof e[i][3]=="number"&&e[i][3]==-1){c.moveTo(AA(a,l),m+5),c.lineTo(AA(a,l),m+5+n),c.stroke(),c.beginPath(),c.moveTo(AA(a,l),m+5),c.lineTo(AA(a,l)-3,m+10),c.lineTo(AA(a,l)+3,m+10),c.closePath();var o=l,p=m+5+n}else{var o=l,p=m-5-n;c.moveTo(AA(a,l),m-5),c.lineTo(AA(a,l),m-5-n),c.stroke(),c.beginPath(),c.moveTo(AA(a,l),m-5),c.lineTo(AA(a,l)-3,m-10),c.lineTo(AA(a,l)+3,m-10),c.closePath()}c.fill()}c.beginPath(),c.fillStyle=typeof e[i]=="object"&&typeof e[i][1]=="string"?e[i][1]:"black",RGraph.Text(c,a.Get("chart.text.font"),a.Get("chart.text.size"),o,p,typeof e[i]=="object"&&typeof e[i][0]=="string"?e[i][0]:e[i],"bottom","center",!0,null,typeof e[i]=="object"&&typeof e[i][2]=="string"?e[i][2]:"white"),c.fill()}}},RGraph.FixEventObject=function(a){if(RGraph.isIE8()||RGraph.isIE7()){var a=event;a.pageX=event.clientX+document.body.scrollLeft,a.pageY=event.clientY+document.body.scrollTop,a.target=event.srcElement,!document.body.scrollTop&&document.documentElement.scrollTop&&(a.pageX+=parseInt(document.documentElement.scrollLeft),a.pageY+=parseInt(document.documentElement.scrollTop))}if(typeof a.offsetX=="undefined"&&typeof a.offsetY=="undefined"){var b=RGraph.getMouseXY(a);a.offsetX=b[0],a.offsetY=b[1]}return a.stopPropagation||(a.stopPropagation=function(){window.event.cancelBubble=!0}),a},RGraph.HideCrosshairCoords=function(){var a=RGraph.Registry.Get("chart.coordinates.coords.div");a&&a.style.opacity==1&&a.__object__.Get("chart.crosshairs.coords.fadeout")&&(setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.9},50),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.8},100),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.7},150),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.6},200),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.5},250),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.4},300),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.3},350),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.2},400),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.1},450),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=0},500),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.display="none"},550))},RGraph.Draw3DAxes=function(a){var b=a.Get("chart.gutter.left"),c=a.Get("chart.gutter.right"),d=a.Get("chart.gutter.top"),e=a.Get("chart.gutter.bottom"),f=a.context,g=a.canvas;f.strokeStyle="#aaa",f.fillStyle="#ddd",f.beginPath(),f.moveTo(b,d),f.lineTo(b+10,d-5),f.lineTo(b+10,g.height-e-5),f.lineTo(b,g.height-e),f.closePath(),f.stroke(),f.fill(),f.beginPath(),f.moveTo(b,g.height-e),f.lineTo(b+10,g.height-e-5),f.lineTo(g.width-c+10,g.height-e-5),f.lineTo(g.width-c,g.height-e),f.closePath(),f.stroke(),f.fill()},RGraph.OldBrowserCompat=function(a){if(!a)return;a.measureText||(a.measureText=function(a){var b=document.createElement("DIV");b.innerHTML=a,b.style.backgroundColor="white",b.style.position="absolute",b.style.top=-100,b.style.left=0,document.body.appendChild(b);var c={width:b.offsetWidth};return b.style.display="none",c}),a.fillText||(a.fillText=function(a,b,c){return!1}),a.canvas.addEventListener||(window.addEventListener=function(a,b,c){return this.attachEvent("on"+a,b)},a.canvas.addEventListener=function(a,b,c){return this.attachEvent("on"+a,b)})},RGraph.strokedCurvyRect=function(a,b,c,d,e){var f=arguments[5]?arguments[5]:3,g=arguments[6]||arguments[6]==null?!0:!1,h=arguments[7]||arguments[7]==null?!0:!1,i=arguments[8]||arguments[8]==null?!0:!1,j=arguments[9]||arguments[9]==null?!0:!1;a.beginPath(),a.moveTo(b+(g?f:0),c),a.lineTo(b+d-(h?f:0),c),h&&a.arc(b+d-f,c+f,f,PI+HALFPI,TWOPI,!1),a.lineTo(b+d,c+e-(i?f:0)),i&&a.arc(b+d-f,c-f+e,f,TWOPI,HALFPI,!1),a.lineTo(b+(j?f:0),c+e),j&&a.arc(b+f,c-f+e,f,HALFPI,PI,!1),a.lineTo(b,c+(g?f:0)),g&&a.arc(b+f,c+f,f,PI,PI+HALFPI,!1),a.stroke()},RGraph.filledCurvyRect=function(a,b,c,d,e){var f=arguments[5]?arguments[5]:3,g=arguments[6]||arguments[6]==null?!0:!1,h=arguments[7]||arguments[7]==null?!0:!1,i=arguments[8]||arguments[8]==null?!0:!1,j=arguments[9]||arguments[9]==null?!0:!1;a.beginPath(),g?(a.moveTo(b+f,c+f),a.arc(b+f,c+f,f,PI,PI+HALFPI,!1)):a.fillRect(b,c,f,f),h?(a.moveTo(b+d-f,c+f),a.arc(b+d-f,c+f,f,PI+HALFPI,0,!1)):(a.moveTo(b+d-f,c),a.fillRect(b+d-f,c,f,f)),i?(a.moveTo(b+d-f,c+e-f),a.arc(b+d-f,c-f+e,f,0,HALFPI,!1)):(a.moveTo(b+d-f,c+e-f),a.fillRect(b+d-f,c+e-f,f,f)),j?(a.moveTo(b+f,c+e-f),a.arc(b+f,c-f+e,f,HALFPI,PI,!1)):(a.moveTo(b,c+e-f),a.fillRect(b,c+e-f,f,f)),a.fillRect(b+f,c,d-f-f,e),a.fillRect(b,c+f,f+1,e-f-f),a.fillRect(b+d-f-1,c+f,f+1,e-f-f),a.fill()},RGraph.HideZoomedCanvas=function(){var a=15,b=10;if(typeof __zoomedimage__=="object")obj=__zoomedimage__.obj;else return;if(obj.Get("chart.zoom.fade.out")){for(var c=b,d=1;c>=0;--c,++d)typeof __zoomedimage__=="object"&&setTimeout("__zoomedimage__.style.opacity = "+String(c/10),d*a);typeof __zoomedbackground__=="object"&&setTimeout("__zoomedbackground__.style.opacity = "+String(c/b),d*a)}typeof __zoomedimage__=="object"&&setTimeout("__zoomedimage__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?b*a+10:0),typeof __zoomedbackground__=="object"&&setTimeout("__zoomedbackground__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?b*a+10:0)},RGraph.AddCustomEventListener=function(a,b,c){return typeof RGraph.events[a.uid]=="undefined"&&(RGraph.events[a.uid]=[]),RGraph.events[a.uid].push([a,b,c]),RGraph.events[a.uid].length-1},RGraph.FireCustomEvent=function(a,b){if(a&&a.isRGraph){a[b]&&a[b](a);var c=a.uid;if(typeof c=="string"&&typeof RGraph.events=="object"&&typeof RGraph.events[c]=="object"&&RGraph.events[c].length>0)for(var d=0;d<RGraph.events[c].length;++d)RGraph.events[c][d]&&RGraph.events[c][d][1]==b&&RGraph.events[c][d][2](a)}},RGraph.getGutterSuggest=function(a,b){var c=0;for(var d=0;d<b.length;++d)c=Math.min(c,b[d]);var c=Math.abs(c),e=RGraph.number_format(a,RGraph.array_max(RGraph.getScale(Math.max(c,RGraph.array_max(b)),a)),a.Get("chart.units.pre"),a.Get("chart.units.post"));if(a.type=="hbar"){var e="",f=0;for(var d=0;d<a.Get("chart.labels").length;++d)e=a.Get("chart.labels").length>e.length?a.Get("chart.labels")[d]:e}return a.context.font=a.Get("chart.text.size")+"pt "+a.Get("chart.text.font"),f=a.context.measureText(e).width+5,a.type=="hbar"?f/3:f},RGraph.SetConfig=function(a,b){for(i in b)typeof i=="string"&&a.Set(i,b[i]);return a},RGraph.RemoveAllCustomEventListeners=function(){var a=arguments[0];a&&RGraph.events[a]?RGraph.events[a]=[]:RGraph.events=[]},RGraph.RemoveCustomEventListener=function(a,b){typeof RGraph.events=="object"&&typeof RGraph.events[a.id]=="object"&&typeof RGraph.events[a.id][b]=="object"&&(RGraph.events[a.id][b]=null)},RGraph.DrawBackgroundImage=function(a){if(typeof a.Get("chart.background.image")=="string"){if(typeof a.canvas.__rgraph_background_image__=="undefined"){var b=new Image;b.__object__=a,b.__canvas__=a.canvas,b.__context__=a.context,b.src=a.Get("chart.background.image"),a.canvas.__rgraph_background_image__=b}else b=a.canvas.__rgraph_background_image__;b.onload=function(){RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas)};var c=a.Get("chart.gutter.left"),d=a.Get("chart.gutter.right"),e=a.Get("chart.gutter.top"),f=a.Get("chart.gutter.bottom"),g=a.Get("chart.background.image.stretch"),h=a.Get("chart.background.image.align");if(typeof h=="string"){if(h.indexOf("right")!=-1)var i=a.canvas.width-b.width-d;else var i=c;if(h.indexOf("bottom")!=-1)var j=a.canvas.height-b.height-f;else var j=e}else var i=c,j=e;var i=typeof a.Get("chart.background.image.x")=="number"?a.Get("chart.background.image.x"):i,j=typeof a.Get("chart.background.image.y")=="number"?a.Get("chart.background.image.y"):j,k=g?a.canvas.width-c-d:b.width,l=g?a.canvas.height-e-f:b.height;typeof a.Get("chart.background.image.w")=="number"&&(k=a.Get("chart.background.image.w")),typeof a.Get("chart.background.image.h")=="number"&&(l=a.Get("chart.background.image.h")),a.context.drawImage(b,i,j,k,l)}},RGraph.hasTooltips=function(a){if(typeof a.Get("chart.tooltips")=="object"&&a.Get("chart.tooltips")){for(var b=0;b<a.Get("chart.tooltips").length;++b)if(!RGraph.is_null(a.Get("chart.tooltips")[b]))return!0}else if(typeof a.Get("chart.tooltips")=="function")return!0;return!1},RGraph.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0,c=a=="x"?b:b&3|8;return c.toString(16)})},RGraph.ObjectRegistry.Add=function(a){var b=a.uid,c=a.canvas.id;RGraph.ObjectRegistry.objects.byUID.push([b,a]),RGraph.ObjectRegistry.objects.byCanvasID.push([c,a])},RGraph.ObjectRegistry.Remove=function(a){var b=a.id,c=a.uid;for(var d=0;d<RGraph.ObjectRegistry.objects.byUID.length;++d)RGraph.ObjectRegistry.objects.byUID[d]&&RGraph.ObjectRegistry.objects.byUID[d][1].uid==c&&(RGraph.ObjectRegistry.objects.byUID[d]=null);for(var d=0;d<RGraph.ObjectRegistry.objects.byCanvasID.length;++d)RGraph.ObjectRegistry.objects.byCanvasID[d]&&RGraph.ObjectRegistry.objects.byCanvasID[d][0]==b&&(RGraph.ObjectRegistry.objects.byCanvasID[d]=null)},RGraph.ObjectRegistry.Clear=function(){if(arguments[0]){var a=typeof arguments[0]=="object"?arguments[0].id:arguments[0],b=RGraph.ObjectRegistry.getObjectsByCanvasID(a);for(var c=0;c<b.length;++c)RGraph.ObjectRegistry.Remove(b[c])}else RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.getObjectsByCanvasID=function(a){var b=RGraph.ObjectRegistry.objects.byCanvasID,c=[];for(var d=0;d<b.length;++d)b[d]&&b[d][0]==a&&c.push(b[d][1]);return c},RGraph.ObjectRegistry.getFirstObjectByXY=RGraph.ObjectRegistry.getObjectByXY=function(a){var b=a.target,c=null,d=RGraph.ObjectRegistry.getObjectsByCanvasID(b.id);for(var e=d.length-1;e>=0;--e){var f=d[e].getObjectByXY(a);if(f)return f}},RGraph.ObjectRegistry.getObjectsByXY=function(a){var b=a.target,c=[],d=RGraph.ObjectRegistry.getObjectsByCanvasID(b.id);for(var e=d.length-1;e>=0;--e){var f=d[e].getObjectByXY(a);f&&c.push(f)}return c},RGraph.ObjectRegistry.getObjectByUID=function(a){var b=RGraph.ObjectRegistry.objects.byUID;for(var c=0;c<b.length;++c)if(b[c]&&b[c][1].uid==a)return b[c][1]},RGraph.ObjectRegistry.getObjectsByType=function(a,b){typeof a=="string"&&(a=document.getElementById(a));var c=RGraph.ObjectRegistry.getObjectsByCanvasID(a.id),d=[];for(var e=0;e<c.length;++e)c[e]&&c[e].type&&c[e].type==b&&d.push(c[e]);return d},RGraph.ObjectRegistry.getFirstObjectByType=function(a,b){var c=RGraph.ObjectRegistry.getObjectsByType(a,b);return c.length>0?c[0]:null},RGraph.getAngleByXY=function(a,b,c,d){var e=Math.atan((d-b)/(c-a));return e=Math.abs(e),c>=a&&d>=b?e+=TWOPI:c>=a&&d<b?e=HALFPI-e+(PI+HALFPI):c<a&&d<b?e+=PI:e=PI-e,e>TWOPI&&(e-=TWOPI),e},RGraph.getHypLength=function(a,b,c,d){var e=Math.sqrt((c-a)*(c-a)+(d-b)*(d-b));return e},RGraph.InstallEventListeners=function(a){if(RGraph.isOld())return;RGraph.InstallCanvasClickListener?(RGraph.InstallWindowMousedownListener(a),RGraph.InstallWindowMouseupListener(a),RGraph.InstallCanvasMousemoveListener(a),RGraph.InstallCanvasMouseupListener(a),RGraph.InstallCanvasMousedownListener(a),RGraph.InstallCanvasClickListener(a)):(RGraph.hasTooltips(a)||a.Get("chart.adjustable")||a.Get("chart.annotatable")||a.Get("chart.contextmenu")||a.Get("chart.resizable")||a.Get("chart.key.interactive")||a.Get("chart.events.click")||a.Get("chart.events.mousemove"))&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js")},RGraph.pr=function(a){var b="",c=arguments[2]?arguments[2]:"";switch(typeof a){case"number":c==""&&(b+="Number: "),b+=String(a);break;case"string":c==""&&(b+="String ("+a.length+"):"),b+='"'+String(a)+'"';break;case"object":if(a==null){b+="null";break}b+="Object\n"+c+"(\n";for(var d in a)if(typeof d=="string"||typeof d=="number")b+=c+" "+d+" => "+RGraph.pr(a[d],!0,c+"    ")+"\n";var b=b+c+")";break;case"function":b+=a;break;case"boolean":b+="Boolean: "+(a?"true":"false")}if(arguments[1])return b;alert(b)},RGraph.DashedLine=function(a,b,c,d,e){var f=5;typeof arguments[5]=="number"&&(f=arguments[5]);var g=d-b,h=e-c,i=Math.floor(Math.sqrt(g*g+h*h)/f),j=g/i,k=h/i,l=0;do l%2==0?a.lineTo(b,c):a.moveTo(b,c),b+=j,c+=k;while(l++<i)},RGraph.AJAX=function(a,b){if(window.XMLHttpRequest)var c=new XMLHttpRequest;else if(window.ActiveXObject)var c=new ActiveXObject("Microsoft.XMLHTTP");c.onreadystatechange=function(){this.readyState==4&&this.status==200&&(this.__user_callback__=b,this.__user_callback__())},c.open("GET",a,!0),c.send()},RGraph.RotateCanvas=function(a,b,c,d){var e=a.getContext("2d");e.translate(b,c),e.rotate(d),e.translate(0-b,0-c)},RGraph.DrawAxes=function(a,b){var c=a.context,d=b["axis.x"],e=b["axis.y"],f=b["axis.min"]?b["axis.min"]:0,g=b["axis.max"],h=b["axis.color"]?b["axis.color"]:"black",i=b["axis.title"]?b["axis.title"]:"",j=b["axis.title.color"]?b["axis.title.color"]:h,k=b["axis.text.color"]?b["axis.color"]:h,l=a.canvas.height-a.Get("chart.gutter.bottom")-a.Get("chart.gutter.top"),m=b["axis.numticks"]?b["axis.numticks"]:10,n=l/m,o=b["axis.font"]?b["axis.font"]:"Arial",p=b["axis.text.size"]?b["axis.text.size"]:10;c.strokeStyle=h,c=a.context,c.beginPath(),c.moveTo(AA(a,d),e),c.lineTo(AA(a,d),a.Get("chart.gutter.top")+l),c.stroke(),c.beginPath();for(var q=0;q<=m;++q)c.moveTo(d-3,AA(a,e+n*q)),c.lineTo(d,AA(a,e+n*q));c.stroke(),c.fillStyle=k,c.beginPath();for(var q=0;q<=5;++q)RGraph.Text(c,o,p,d-5,25+40*q,String((g-f)*((5-q)/5)+f),"center","right");c.stroke(),i&&(c.beginPath(),c.fillStyle=j,RGraph.Text(c,o,p+2,d-p-20,a.canvas.height/2,i,"center","center",null,-90),c.stroke())},RGraph.LinearGradient=function(a,b,c,d,e,f,g){var h=a.context.createLinearGradient(b,c,d,e);return h.addColorStop(0,f),h.addColorStop(1,g),h},RGraph.RadialGradient=function(a,b,c,d,e,f,g,h,i){var j=a.context.createRadialGradient(b,c,d,e,f,g);return j.addColorStop(0,h),j.addColorStop(1,i),j},RGraph.array_shift=function(a){var b=[];for(var c=1;c<a.length;++c)b.push(a[c]);return b},RGraph.AddEventListener=function(a,b,c){var d=arguments[3]?arguments[3]:"unknown";RGraph.Registry.Get("chart.event.handlers").push([a,b,c,d])},RGraph.ClearEventListeners=function(a){},RGraph.HidePalette=function(){var a=RGraph.Registry.Get("palette");typeof a=="object"&&a&&(a.style.visibility="hidden",a.style.display="none",RGraph.Registry.Set("palette",null))},RGraph.random=function(a,b){var c=arguments[2]?arguments[2]:0,d=Math.random();return Number(((b-a)*d+a).toFixed(c))},RGraph.NoShadow=function(a){a.context.shadowColor="rgba(0,0,0,0)",a.context.shadowBlur=0,a.context.shadowOffsetX=0,a.context.shadowOffsetY=0},RGraph.SetShadow=function(a,b,c,d,e){a.context.shadowColor=b,a.context.shadowOffsetX=c,a.context.shadowOffsetY=d,a.context.shadowBlur=e},RGraph.array_reverse=function(a){var b=[];for(var c=a.length-1;c>=0;c--)b.push(a[c]);return b},RGraph.Registry.Set=function(a,b){return RGraph.Registry.store[a]=b,b},RGraph.Registry.Get=function(a){return RGraph.Registry.store[a]},RGraph.degrees2Radians=function(a){return a*(PI/180)},RGraph.is_array=function(a){return a!=null&&a.constructor.toString().indexOf("Array")!=-1},RGraph.trim=function(a){return RGraph.ltrim(RGraph.rtrim(a))},RGraph.ltrim=function(a){return a.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(a){return a.replace(/(\s|\0)+$/,"")},RGraph.GetHeight=function(a){return a.canvas.height},RGraph.GetWidth=function(a){return a.canvas.width},RGraph.is_null=function(a){return a==null||typeof a=="object"&&!a?!0:!1},RGraph.Timer=function(a){var b=new Date;console.log(a+": "+b.getSeconds()+"."+b.getMilliseconds())},RGraph.Async=function(a){return setTimeout(a,arguments[1]?arguments[1]:1)},RGraph.isIE7=function(){return navigator.userAgent.indexOf("MSIE 7")>0},RGraph.isIE8=function(){return navigator.userAgent.indexOf("MSIE 8")>0},RGraph.isIE9=function(){return navigator.userAgent.indexOf("MSIE 9")>0},RGraph.isIE9up=function(){return navigator.userAgent.match(/MSIE (\d+)/),Number(RegExp.$1)>=9},RGraph.isOld=function(){return RGraph.isIE7()||RGraph.isIE8()},RGraph.Reset=function(a){a.width=a.width},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.InstallWindowMousedownListener=function(a){window.onmousedown=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),typeof window.onmousedown_rgraph=="function"&&window.onmousedown_rgraph(a),RGraph.HideTooltip&&RGraph.Registry.Get("chart.tooltip")&&(RGraph.Clear(RGraph.Registry.Get("chart.tooltip").__canvas__),RGraph.Redraw(),RGraph.HideTooltip())}},RGraph.InstallWindowMouseupListener=function(a){window.onmouseup=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a);if(RGraph.Annotating_window_onmouseup){RGraph.Annotating_window_onmouseup(a);return}typeof window.onmouseup_rgraph=="function"&&window.onmouseup_rgraph(a);if(RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend"),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null);var b=document.getElementsByTagName("canvas");for(var c=0;c<b.length;++c)if(b[c].__object__&&b[c].__object__.isRGraph&&!b[c].__object__.Get("chart.annotatable"))if(!b[c].__rgraph_trace_cover__&&!d)RGraph.Clear(b[c]);else var d=!0;d||RGraph.Redraw()}},RGraph.InstallCanvasMouseupListener=function(a){a.canvas.onmouseup=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),typeof a.target.onmouseup_rgraph=="function"&&a.target.onmouseup_rgraph(a);var b=RGraph.ObjectRegistry.getObjectsByXY(a);if(b){for(var c=0;c<b.length;++c){var d=b[c],e=b[c].id;if(!RGraph.is_null(d)&&RGraph.Tooltip){var f=d.getShape(a);if(f&&f.tooltip){var g=f.tooltip;if(g){var h=f.object.type;if(h=="line"||h=="rscatter"||h=="scatter"&&!d.Get("chart.boxplot")||h=="radar")var i=RGraph.getCanvasXY(d.canvas),j=i[0]+f.x,k=i[1]+f.y;else var j=a.pageX,k=a.pageY;if(d.Get("chart.tooltips.coords.page"))var j=a.pageX,k=a.pageY;return RGraph.Clear(d.canvas),RGraph.Redraw(),d.Highlight(f),RGraph.Registry.Set("chart.tooltip.shape",f),RGraph.Tooltip(d,g,j,k,f.index,a),RGraph.Registry.Get("chart.tooltip")&&(RGraph.Registry.Get("chart.tooltip").__shape__=f,RGraph.EvaluateCursor(a)),a.cancelBubble=!0,a.stopPropagation(),!1}}}}typeof InteractiveKey_line_mouseup=="function"&&InteractiveKey_line_mouseup(a),typeof InteractiveKey_pie_mouseup=="function"&&InteractiveKey_pie_mouseup(a)}}},RGraph.InstallCanvasMousemoveListener=function(a){a.canvas.onmousemove=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),typeof a.target.onmousemove_rgraph=="function"&&a.target.onmousemove_rgraph(a);var b=RGraph.ObjectRegistry.getObjectsByXY(a);if(b&&b.length)for(var c=0;c<b.length;++c){var d=b[c],e=d.id;if(!d.getShape)continue;var f=d.getShape(a),g=d.Get("chart.events.mousemove");f&&typeof g=="function"?(d.Get("chart.events.mousemove.revertto")==null&&d.Set("chart.events.mousemove.revertto",a.target.style.cursor),g(a,f)):typeof d.Get("chart.events.mousemove.revertto")=="string"&&(RGraph.cursor.push("default"),d.Set("chart.events.mousemove.revertto",null));if(f&&(d.Get("chart.tooltips")&&d.Get("chart.tooltips")[f.index]||f.tooltip)&&d.Get("chart.tooltips.event")=="onmousemove"&&(RGraph.is_null(RGraph.Registry.Get("chart.tooltip"))||RGraph.Registry.Get("chart.tooltip").__index__!=f.index||typeof f.dataset=="number"&&f.dataset!=RGraph.Registry.Get("chart.tooltip").__shape__.dataset||d.uid!=RGraph.Registry.Get("chart.tooltip").__object__.uid)){RGraph.Clear(d.canvas),RGraph.Redraw(),d.canvas.onmouseup(a);return}if(d&&d.Get("chart.adjustable"))switch(d.type){case"bar":d.Adjusting_mousemove(a);break;case"gauge":d.Adjusting_mousemove(a);break;case"gantt":d.Adjusting_mousemove(a);break;case"hprogress":d.Adjusting_mousemove(a);break;case"line":d.Adjusting_mousemove(a);break;case"thermometer":d.Adjusting_mousemove(a);break;case"vprogress":d.Adjusting_mousemove(a);break;default:d.Adjusting_mousemove(a)}}a.target&&a.target.__object__.Get("chart.crosshairs")&&RGraph.DrawCrosshairs(a,a.target.__object__),typeof InteractiveKey_line_mousemove=="function"&&InteractiveKey_line_mousemove(a),typeof InteractiveKey_pie_mousemove=="function"&&InteractiveKey_pie_mousemove(a),a.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousemove&&RGraph.Annotating_canvas_onmousemove(a),RGraph.EvaluateCursor(a)}},RGraph.InstallCanvasMousedownListener=function(a){a.canvas.onmousedown=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),typeof a.target.onmousedown_rgraph=="function"&&a.target.onmousedown_rgraph(a);if(a.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousedown){RGraph.Annotating_canvas_onmousedown(a);return}var b=RGraph.ObjectRegistry.getObjectByXY(a);if(b){var c=b.id;if(b&&b.isRGraph&&b.Get("chart.adjustable")){var b=RGraph.ObjectRegistry.getObjectByXY(a);if(b&&b.isRGraph){switch(b.type){case"bar":var d=b.getShapeByX(a);break;case"gantt":var d=b.getShape(a);if(d){var e=RGraph.getMouseXY(a);RGraph.Registry.Set("chart.adjusting.gantt",{index:d.index,object:b,mousex:e[0],mousey:e[1],event_start:b.Get("chart.events")[d.index][0],event_duration:b.Get("chart.events")[d.index][1],mode:e[0]>d.x+d.width-5?"resize":"move",shape:d})}break;case"line":var d=b.getShape(a);break;default:var d=null}RGraph.Registry.Set("chart.adjusting.shape",d),RGraph.FireCustomEvent(b,"onadjustbegin"),RGraph.Registry.Set("chart.adjusting",b),RGraph.Clear(b.canvas),RGraph.Redraw(),b.canvas.onmousemove(a)}}RGraph.Clear(b.canvas),RGraph.Redraw()}}},RGraph.InstallCanvasClickListener=function(a){a.canvas.onclick=function(a){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),typeof a.target.onclick_rgraph=="function"&&a.target.onclick_rgraph(a);var b=RGraph.ObjectRegistry.getObjectsByXY(a);for(var c=0;c<b.length;++c){var d=b[c],e=d.id,f=d.getShape(a),g=d.Get("chart.events.click");if(f&&typeof g=="function"){g(a,f);return}}}},RGraph.EvaluateCursor=function(a){var b=RGraph.getMouseXY(a),c=b[0],d=b[1],e=RGraph.ObjectRegistry.getObjectsByXY(a);for(var f=0;f<e.length;++f){var g=e[f],h=g.id
;if(!RGraph.is_null(g)){if(g.getShape&&g.getShape(a)){var i=g.getShape(a);if(g.Get("chart.tooltips")){var j=RGraph.parseTooltipText(g.Get("chart.tooltips"),i.index);!j&&i.object.type=="scatter"&&i.index_adjusted&&(j=RGraph.parseTooltipText(g.Get("chart.tooltips"),i.index_adjusted));if(j)var k=!0}}if(!RGraph.is_null(g)&&g.Get("chart.key.interactive"))for(var l=0;l<g.coords.key.length;++l)if(c>g.coords.key[l][0]&&c<g.coords.key[l][0]+g.coords.key[l][2]&&d>g.coords.key[l][1]&&d<g.coords.key[l][1]+g.coords.key[l][3])var k=!0}if(!RGraph.is_null(i)&&!RGraph.is_null(g)&&!RGraph.is_null(g.Get("chart.events.mousemove"))&&typeof g.Get("chart.events.mousemove")=="function"){var m=g.Get("chart.events.mousemove").toString();if(m.match(/pointer/)&&m.match(/cursor/)&&m.match(/style/))var k=!0}}var e=RGraph.ObjectRegistry.objects.byCanvasID;for(var f=0;f<e.length;++f)if(e[f]&&e[f][1].Get("chart.resizable"))var n=!0;n&&c>a.target.width-32&&d>a.target.height-16&&(k=!0),k?a.target.style.cursor="pointer":a.target.style.cursor=="pointer"?a.target.style.cursor="default":a.target.style.cursor=null,n&&c>=a.target.width-15&&d>=a.target.height-15&&(a.target.style.cursor="move"),typeof mouse_over_key=="boolean"&&mouse_over_key&&(a.target.style.cursor="pointer"),g&&g.type=="gantt"&&g.Get("chart.adjustable")&&(g.getShape&&g.getShape(a)?a.target.style.cursor="ew-resize":a.target.style.cursor="default"),g&&g.type=="line"&&g.Get("chart.adjustable")&&(g.getShape&&g.getShape(a)?a.target.style.cursor="ns-resize":a.target.style.cursor="default"),a.target.__object__.Get("chart.annotatable")&&(a.target.style.cursor="crosshair")},RGraph.parseTooltipText=function(a,b){if(!a)return null;if(typeof a=="function")var c=a(b);else if(typeof a=="string")var c=a;else if(typeof a=="object"&&typeof a[b]=="function")var c=a[b](b);else if(typeof a[b]=="string"&&a[b])var c=a[b];else var c="";return c=="undefined"?c="":c=="null"&&(c=""),RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(c):c},RGraph.DrawCrosshairs=function(a,b){var a=RGraph.FixEventObject(a),c=b.canvas.width,d=b.canvas.height,e=RGraph.getMouseXY(a),f=e[0],g=e[1];RGraph.RedrawCanvas(b.canvas);if(f>=b.gutterLeft&&g>=b.gutterTop&&f<=c-b.gutterRight&&g<=d-b.gutterBottom){var h=b.Get("chart.crosshairs.linewidth")?b.Get("chart.crosshairs.linewidth"):1;b.context.lineWidth=h?h:1,b.context.beginPath(),b.context.strokeStyle=b.Get("chart.crosshairs.color"),b.Get("chart.crosshairs.vline")&&(b.context.moveTo(AA(this,f),AA(this,b.gutterTop)),b.context.lineTo(AA(this,f),AA(this,d-b.gutterBottom))),b.Get("chart.crosshairs.hline")&&(b.context.moveTo(AA(this,b.gutterLeft),AA(this,g)),b.context.lineTo(AA(this,c-b.gutterRight),AA(this,g))),b.context.stroke();if(b.Get("chart.crosshairs.coords"))if(b.type=="scatter"){var i=(f-b.Get("chart.gutter.left"))/(b.canvas.width-b.gutterLeft-b.gutterRight)*(b.Get("chart.xmax")-b.Get("chart.xmin"))+b.Get("chart.xmin");i=i.toFixed(b.Get("chart.scale.decimals"));var j=b.max-(g-b.Get("chart.gutter.top"))/(b.canvas.height-b.gutterTop-b.gutterBottom)*b.max;b.type=="scatter"&&b.Get("chart.xaxispos")=="center"&&(j=(j-b.max/2)*2),j=j.toFixed(b.Get("chart.scale.decimals"));var k=RGraph.Registry.Get("chart.coordinates.coords.div"),e=RGraph.getMouseXY(a),l=RGraph.getCanvasXY(b.canvas);if(!k){var k=document.createElement("DIV");k.__object__=b,k.style.position="absolute",k.style.backgroundColor="white",k.style.border="1px solid black",k.style.fontFamily="Arial, Verdana, sans-serif",k.style.fontSize="10pt",k.style.padding="2px",k.style.opacity=1,k.style.WebkitBorderRadius="3px",k.style.borderRadius="3px",k.style.MozBorderRadius="3px",document.body.appendChild(k),RGraph.Registry.Set("chart.coordinates.coords.div",k)}k.style.opacity=1,k.style.display="inline",b.Get("chart.crosshairs.coords.fixed")?(k.style.left=l[0]+b.gutterLeft+3+"px",k.style.top=l[1]+b.gutterTop+3+"px"):(k.style.left=Math.max(2,a.pageX-k.offsetWidth-3)+"px",k.style.top=Math.max(2,a.pageY-k.offsetHeight-3)+"px"),k.innerHTML='<span style="color: #666">'+b.Get("chart.crosshairs.coords.labels.x")+":</span> "+i+'<br><span style="color: #666">'+b.Get("chart.crosshairs.coords.labels.y")+":</span> "+j,b.canvas.addEventListener("mouseout",RGraph.HideCrosshairCoords,!1),b.canvas.__crosshairs_labels__=k,b.canvas.__crosshairs_x__=i,b.canvas.__crosshairs_y__=j}else alert("[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart");RGraph.FireCustomEvent(b,"oncrosshairs")}else RGraph.HideCrosshairCoords()},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Effects={},RGraph.Effects.Fade={},RGraph.Effects.jQuery={},RGraph.Effects.jQuery.HBlinds={},RGraph.Effects.jQuery.VBlinds={},RGraph.Effects.jQuery.Slide={},RGraph.Effects.Pie={},RGraph.Effects.Bar={},RGraph.Effects.Line={},RGraph.Effects.Line.jQuery={},RGraph.Effects.Fuel={},RGraph.Effects.Rose={},RGraph.Effects.Odo={},RGraph.Effects.Gauge={},RGraph.Effects.Meter={},RGraph.Effects.HBar={},RGraph.Effects.HProgress={},RGraph.Effects.VProgress={},RGraph.Effects.Radar={},RGraph.Effects.Waterfall={},RGraph.Effects.Gantt={},RGraph.Effects.Thermometer={},RGraph.Effects.Scatter={},RGraph.Effects.Scatter.jQuery={},RGraph.Effects.CornerGauge={},RGraph.Effects.Fade.In=function(a){var b=a.canvas,c=arguments[1]&&arguments[1].duration?arguments[1].duration:1e3,d=arguments[1]&&arguments[1].frames?arguments[1].frames:5;b.style.opacity=0,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var e=1;e<=d;++e)setTimeout('document.getElementById("'+b.id+'").style.opacity = '+e*(1/d),e*(c/d));typeof arguments[2]=="function"&&setTimeout(arguments[2],c)},RGraph.Effects.Fade.Out=function(a){var b=a.canvas,c=arguments[1]&&arguments[1].duration?arguments[1].duration:1e3,d=arguments[1]&&arguments[1].frames?arguments[1].frames:5;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var e=d;e>=0;--e)setTimeout('document.getElementById("'+b.id+'").style.opacity = '+e*(1/d),(d-e)*(c/d));typeof arguments[2]=="function"&&setTimeout(arguments[2],c)},RGraph.Effects.jQuery.Expand=function(a){typeof jQuery=="undefined"&&alert("[ERROR] Could not find jQuery object - have you included the jQuery file?");var b=a.canvas;if(!b.__rgraph_div_placeholder__){var c=RGraph.Effects.ReplaceCanvasWithDIV(b);b.__rgraph_div_placeholder__=c}else c=b.__rgraph_div_placeholder__;b.style.position="relative",b.style.top=b.height/2+"px",b.style.left=b.width/2+"px",b.style.width=0,b.style.height=0,b.style.opacity=0,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),$("#"+a.id).animate({opacity:1,width:parseInt(c.style.width)+"px",height:parseInt(c.style.height)+"px",left:"-="+a.canvas.width/2+"px",top:"-="+a.canvas.height/2+"px"},1e3),typeof arguments[2]=="function"&&setTimeout(arguments[2],1e3)},RGraph.Effects.ReplaceCanvasWithDIV=function(a){if(!a.replacementDIV){var b=document.createElement("DIV");b.style.width=a.width+"px",b.style.height=a.height+"px",b.style.cssFloat=a.style.cssFloat,b.style.left=a.style.left,b.style.top=a.style.top,b.style.display="inline-block",a.parentNode.insertBefore(b,a),a.parentNode.removeChild(a),b.appendChild(a),a.style.position="relative",a.style.left=b.offsetWidth/2+"px",a.style.top=b.offsetHeight/2+"px",a.style.cssFloat="",a.replacementDIV=b}else var b=a.replacementDIV;return b},RGraph.Effects.jQuery.Snap=function(a){var b=500,c=RGraph.Effects.ReplaceCanvasWithDIV(a.canvas);a.canvas.style.position="absolute",a.canvas.style.top=0,a.canvas.style.left=0,a.canvas.style.width=0,a.canvas.style.height=0,a.canvas.style.opacity=0;var d=c.offsetLeft,e=c.offsetTop,f=c.offsetWidth,g=c.offsetHeight;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),$("#"+a.id).animate({opacity:1,width:f+"px",height:g+"px",left:d+"px",top:e+"px"},b),typeof arguments[2]=="function"&&setTimeout(arguments[2],b+50)},RGraph.Effects.jQuery.Reveal=function(a){var b=arguments[1]?arguments[1]:null,c=1e3,d=a.canvas,e=RGraph.getCanvasXY(a.canvas);a.canvas.style.visibility="hidden",RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);var f=[["reveal_left",e[0],e[1],a.canvas.width/2,a.canvas.height],["reveal_right",e[0]+a.canvas.width/2,e[1],a.canvas.width/2,a.canvas.height],["reveal_top",e[0],e[1],a.canvas.width,a.canvas.height/2],["reveal_bottom",e[0],e[1]+a.canvas.height/2,a.canvas.width,a.canvas.height/2]];for(var g=0;g<f.length;++g){var h=document.createElement("DIV");h.id=f[g][0],h.style.width=f[g][3]+"px",h.style.height=f[g][4]+"px",h.style.left=f[g][1]+"px",h.style.top=f[g][2]+"px",h.style.position="absolute",h.style.backgroundColor=b&&typeof b.color=="string"?b.color:"white",document.body.appendChild(h)}a.canvas.style.visibility="visible",$("#reveal_left").animate({width:0},c),$("#reveal_right").animate({left:"+="+a.canvas.width/2,width:0},c),$("#reveal_top").animate({height:0},c),$("#reveal_bottom").animate({top:"+="+a.canvas.height/2,height:0},c),setTimeout(function(){document.body.removeChild(document.getElementById("reveal_top")),document.body.removeChild(document.getElementById("reveal_bottom")),document.body.removeChild(document.getElementById("reveal_left")),document.body.removeChild(document.getElementById("reveal_right"))},c),typeof arguments[2]=="function"&&setTimeout(arguments[2],c)},RGraph.Effects.jQuery.Conceal=function(a){var b=arguments[1]?arguments[1]:null,c=1e3,d=a.canvas,e=RGraph.getCanvasXY(a.canvas),f=[["conceal_left",e[0],e[1],0,a.canvas.height],["conceal_right",e[0]+a.canvas.width,e[1],0,a.canvas.height],["conceal_top",e[0],e[1],a.canvas.width,0],["conceal_bottom",e[0],e[1]+a.canvas.height,a.canvas.width,0]];for(var g=0;g<f.length;++g){var h=document.createElement("DIV");h.id=f[g][0],h.style.width=f[g][3]+"px",h.style.height=f[g][4]+"px",h.style.left=f[g][1]+"px",h.style.top=f[g][2]+"px",h.style.position="absolute",h.style.backgroundColor=b&&typeof b.color=="string"?b.color:"white",document.body.appendChild(h)}$("#conceal_left").animate({width:"+="+a.canvas.width/2},c),$("#conceal_right").animate({left:"-="+a.canvas.width/2,width:a.canvas.width/2},c),$("#conceal_top").animate({height:"+="+a.canvas.height/2},c),$("#conceal_bottom").animate({top:"-="+a.canvas.height/2,height:a.canvas.height/2},c),setTimeout(function(){document.body.removeChild(document.getElementById("conceal_top")),document.body.removeChild(document.getElementById("conceal_bottom")),document.body.removeChild(document.getElementById("conceal_left")),document.body.removeChild(document.getElementById("conceal_right"))},c),setTimeout(function(){RGraph.Clear(a.canvas)},c),typeof arguments[2]=="function"&&setTimeout(arguments[2],c)},RGraph.Effects.jQuery.HBlinds.Open=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=1e3,e=c.color?c.color:"white",f=RGraph.getCanvasXY(b),g=b.height/5;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var h=0;h<5;++h){var i=document.createElement("DIV");i.id="blinds_"+h,i.style.width=b.width+"px",i.style.height=g+"px",i.style.left=f[0]+"px",i.style.top=f[1]+b.height*(h/5)+"px",i.style.position="absolute",i.style.backgroundColor=e,document.body.appendChild(i),$("#blinds_"+h).animate({height:0},d)}setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},d),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},d),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},d),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},d),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},d),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.jQuery.HBlinds.Close=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=1e3,e=c.color?c.color:"white",f=RGraph.getCanvasXY(b),g=b.height/5;for(var h=0;h<5;++h){var i=document.createElement("DIV");i.id="blinds_"+h,i.style.width=b.width+"px",i.style.height=0,i.style.left=f[0]+"px",i.style.top=f[1]+b.height*(h/5)+"px",i.style.position="absolute",i.style.backgroundColor=e,document.body.appendChild(i),$("#blinds_"+h).animate({height:g+"px"},d)}setTimeout(function(){RGraph.Clear(a.canvas)},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},d+100),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.jQuery.VBlinds.Open=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=1e3,e=c.color?c.color:"white",f=RGraph.getCanvasXY(b),g=b.width/10;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var h=0;h<10;++h){var i=document.createElement("DIV");i.id="blinds_"+h,i.style.width=g+"px",i.style.height=b.height+"px",i.style.left=f[0]+b.width*(h/10)+"px",i.style.top=f[1]+"px",i.style.position="absolute",i.style.backgroundColor=e,document.body.appendChild(i),$("#blinds_"+h).animate({width:0},d)}setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_5"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_6"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_7"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_8"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_9"))},d+100),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.jQuery.VBlinds.Close=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=1e3,e=c.color?c.color:"white",f=RGraph.getCanvasXY(b),g=b.width/10;for(var h=0;h<10;++h){var i=document.createElement("DIV");i.id="blinds_"+h,i.style.width=0,i.style.height=b.height+"px",i.style.left=f[0]+b.width*(h/10)+"px",i.style.top=f[1]+"px",i.style.position="absolute",i.style.backgroundColor=e,document.body.appendChild(i),$("#blinds_"+h).animate({width:g},d)}setTimeout(function(){RGraph.Clear(a.canvas,e)},d+100),c.remove&&(setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_5"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_6"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_7"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_8"))},d+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_9"))},d+100)),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.Pie.Grow=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=c.color?c.color:"white",e=RGraph.getCanvasXY(b);b.style.visibility="hidden",RGraph.RedrawCanvas(b);var f=a.getRadius();typeof a.Get("chart.radius")=="number"&&(f=a.Get("chart.radius")),b.style.visibility="visible",a.Set("chart.radius",0),RGraph.Effects.Animate(a,{"chart.radius":f},arguments[2])},RGraph.Effects.Bar.Grow=function(a){function e(){var c=30;a.__animation_frame__||(a.__animation_frame__=0,a.__original_hmargin__=a.Get("chart.hmargin"),a.__hmargin__=(a.canvas.width-a.Get("chart.gutter.left")-a.Get("chart.gutter.right"))/a.data.length/2,a.Set("chart.hmargin",a.__hmargin__));for(var d=0;d<a.original_data.length;++d)if(typeof a.data[d]=="object")for(var f=0;f<a.data[d].length;++f)a.data[d][f]=a.__animation_frame__/c*a.original_data[d][f];else a.data[d]=a.__animation_frame__/c*a.original_data[d];a.Set("chart.hmargin",(1-a.__animation_frame__/c)*(a.__hmargin__-a.__original_hmargin__)+a.__original_hmargin__),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),a.__animation_frame__<c?(a.__animation_frame__+=1,RGraph.Effects.UpdateCanvas(e)):b&&b(a)}var b=arguments[2];a.original_data=RGraph.array_clone(a.data),a.__animation_frame__=0;if(a.Get("chart.ymax")==null){var c=0;for(var d=0;d<a.data.length;++d)RGraph.is_array(a.data[d])&&a.Get("chart.grouping")=="stacked"?c=Math.max(c,Math.abs(RGraph.array_sum(a.data[d]))):RGraph.is_array(a.data[d])&&a.Get("chart.grouping")=="grouped"?c=Math.max(c,Math.abs(RGraph.array_max(a.data[d]))):c=Math.max(c,Math.abs(a.data[d]));c=RGraph.getScale(c,a)[4],a.Set("chart.ymax",c)}RGraph.Effects.UpdateCanvas(e)},RGraph.Effects.UpdateCanvas=function(a){typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(a):typeof window.msRequestAnimationFrame=="function"?window.msRequestAnimationFrame(a):typeof window.webkitRequestAnimationFrame=="function"?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):setTimeout(a,16.6666666)},RGraph.Effects.Fuel.Grow=function(a){function i(){d++,a.value=d/c*g+e,a.value>a.max&&(a.value=a.max),a.value<a.min&&(a.value=a.min),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),d<30?RGraph.Effects.UpdateCanvas(i):typeof b=="function"&&b(a)}var b=arguments[2],c=30,d=0,e=Number(a.currentValue);a.currentValue==null&&(a.currentValue=a.min,e=a.min);var f=a.value,g=f-e,h=g/c,d=0;RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Animate=function(a,b){function c(d){var e=[a.id+"_"+a.type];typeof RGraph.Effects.__current_frame__=="undefined"&&(RGraph.Effects.__current_frame__=[],RGraph.Effects.__original_values__=[],RGraph.Effects.__diffs__=[],RGraph.Effects.__steps__=[],RGraph.Effects.__callback__=[]),RGraph.Effects.__current_frame__[e]||(RGraph.Effects.__current_frame__[e]=RGraph.Effects.__total_frames__,RGraph.Effects.__original_values__[e]={},RGraph.Effects.__diffs__[e]={},RGraph.Effects.__steps__[e]={},RGraph.Effects.__callback__[e]=d);for(var f in b)if(typeof b[f]=="string"||typeof b[f]=="number")RGraph.Effects.__current_frame__[e]==RGraph.Effects.__total_frames__&&(RGraph.Effects.__original_values__[e][f]=a.Get(f),RGraph.Effects.__diffs__[e][f]=b[f]-RGraph.Effects.__original_values__[e][f],RGraph.Effects.__steps__[e][f]=RGraph.Effects.__diffs__[e][f]/RGraph.Effects.__total_frames__),a.Set(f,a.Get(f)+RGraph.Effects.__steps__[e][f]),RGraph.RedrawCanvas(a.canvas);--RGraph.Effects.__current_frame__[e]>0?RGraph.Effects.UpdateCanvas(c):(typeof RGraph.Effects.__callback__[e]=="function"&&RGraph.Effects.__callback__[e](a),RGraph.Effects.__current_frame__[e]=null,RGraph.Effects.__original_values__[e]=null,RGraph.Effects.__diffs__[e]=null,RGraph.Effects.__steps__[e]=null,RGraph.Effects.__callback__[e]=null)}RGraph.RedrawCanvas(a.canvas),RGraph.Effects.__total_frames__=b&&b.frames?b.frames:30,c(arguments[2])},RGraph.Effects.jQuery.Slide.In=function(a){RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);var b=a.canvas,c=RGraph.Effects.ReplaceCanvasWithDIV(a.canvas),d=1e3;c.style.overflow="hidden";var e=typeof arguments[1]=="object"&&typeof arguments[1].from=="string"?arguments[1].from:"left";b.style.position="relative",e=="left"?(b.style.left=0-c.offsetWidth+"px",b.style.top=0):e=="top"?(b.style.left=0,b.style.top=0-c.offsetHeight+"px"):e=="bottom"?(b.style.left=0,b.style.top=c.offsetHeight+"px"):(b.style.left=c.offsetWidth+"px",b.style.top=0),$("#"+a.id).animate({left:0,top:0},d),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.jQuery.Slide.Out=function(a){var b=a.canvas,c=RGraph.Effects.ReplaceCanvasWithDIV(a.canvas),d=1e3;c.style.overflow="hidden";var e=typeof arguments[1]=="object"&&arguments[1]&&typeof arguments[1].to=="string"?arguments[1].to:"left";b.style.position="relative",b.style.left=0,b.style.top=0,e=="left"?$("#"+a.id).animate({left:0-b.width+"px"},d):e=="top"?$("#"+a.id).animate({left:0,top:0-c.offsetHeight+"px"},d):e=="bottom"?$("#"+a.id).animate({top:0+c.offsetHeight+"px"},d):$("#"+a.id).animate({left:0+b.width+"px"},d),typeof arguments[2]=="function"&&setTimeout(arguments[2],d)},RGraph.Effects.Line.Unfold=function(a){a.Set("chart.animation.factor",a.Get("chart.animation.unfold.initial")),RGraph.Effects.Animate(a,{"chart.animation.factor":1},arguments[2])},RGraph.Effects.Rose.RoundRobin=function(a){function g(){c++<b?(a.Set("chart.animation.roundrobin.factor",c/b),a.Set("chart.margin",c/b*d),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),RGraph.Effects.UpdateCanvas(g)):(a.Set("chart.animation.roundrobin.factor",1),a.Set("chart.margin",d),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),typeof f=="function"&&f(a))}var b=60,c=0,d=a.Get("chart.margin"),e=360/a.data.length/2,f=arguments[2];a.Set("chart.margin",e),a.Set("chart.animation.roundrobin.factor",0),RGraph.Effects.UpdateCanvas(g)},RGraph.Effects.Line.UnfoldFromCenter=function(a){function i(){RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var c=0;c<e.length;++c)for(var d=0;d<e[c].length;++d)a.original_data[c][d]+=a.__increments__[c][d];--b>0?RGraph.Effects.UpdateCanvas(i):(a.original_data=RGraph.array_clone(e),a.__increments__=null,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),typeof f=="function"&&f(a))}var b=30,c=a.canvas.style.opacity;a.canvas.style.opacity=0,a.Draw(),RGraph.RedrawCanvas(a.canvas);var d=a.Get("chart.xaxispos")=="center"?a.Get("chart.ymin"):a.scale[4]/2;a.Set("chart.ymax",Number(a.scale[4])),RGraph.Clear(a.canvas),a.canvas.style.opacity=c;var e=RGraph.array_clone(a.original_data),f=arguments[2];if(!a.__increments__){a.__increments__=[];for(var g=0;g<e.length;++g){a.__increments__[g]=[];for(var h=0;h<e[g].length;++h)a.Get("chart.filled")&&a.Get("chart.filled.accumulative")&&g>0?(a.__increments__[g][h]=e[g][h]/b,a.original_data[g][h]=0):(a.__increments__[g][h]=(e[g][h]-d)/b,a.original_data[g][h]=d)}}i()},RGraph.Effects.Line.jQuery.UnfoldFromCenterTrace=function(a){function d(){a.original_data=b,RGraph.Effects.Line.UnfoldFromCenter(a,null,c)}a.canvas.style.visibility="hidden",setTimeout(function(){a.canvas.style.visibility="visible"},10),a.Draw(),RGraph.Clear(a.canvas);var b=RGraph.array_clone(a.original_data),c=arguments[2],e=a.Get("chart.xaxispos")=="center"?a.min:a.max/2;a.Set("chart.ymax",a.max);for(var f=0;f<a.original_data.length;++f)for(var g=0;g<a.original_data[f].length;++g)a.original_data[f][g]=a.Get("chart.filled")&&a.Get("chart.filled.accumulative")&&f>0?0:e;RGraph.Effects.Line.jQuery.Trace(a,{duration:1e3},d)},RGraph.Effects.Line.FoldToCenter=function(a){function g(){for(var h=0;h<a.data.length;++h)if(a.data[h].length)for(var i=0;i<a.data[h].length;++i)a.original_data[h][i]>d?a.original_data[h][i]=(e[h][i]-d)*(c/b)+d:a.original_data[h][i]=d-(d-e[h][i])*(c/b);RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),c-->0?RGraph.Effects.UpdateCanvas(g):typeof f=="function"&&f(a)}var b=30,c=b;RGraph.RedrawCanvas(a.canvas);var d=a.scale[4]/2;a.Set("chart.ymax",Number(a.scale[4])),RGraph.Clear(a.canvas);var e=RGraph.array_clone(a.original_data);a.Set("chart.shadow.blur",0);var f=arguments[2];RGraph.Effects.UpdateCanvas(g)},RGraph.Effects.Odo.Grow=function(a){function i(){a.value=d+c*g,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),++c<=b?RGraph.Effects.UpdateCanvas(i):h&&h(a)}var b=30,c=0,d=Number(a.currentValue),e=a.value,f=e-d,g=f/b,h=arguments[2];RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Meter.Grow=function(a){function h(){a.value=g+c++*e,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),c++<=b?RGraph.Effects.UpdateCanvas(h):typeof f=="function"&&f(a)}a.currentValue||(a.currentValue=a.min);var b=60,c=0,d=a.value-a.currentValue,e=d/b,f=arguments[2],g=a.currentValue;RGraph.Effects.UpdateCanvas(h)},RGraph.Effects.HBar.Grow=function(a){function e(){var b=30;a.__animation_frame__||(a.__animation_frame__=0,a.__original_vmargin__=a.Get("chart.vmargin"),a.__vmargin__=(a.canvas.height-a.Get("chart.gutter.top")-a.Get("chart.gutter.bottom"))/a.data.length/2,a.Set("chart.vmargin",a.__vmargin__));for(var c=0;c<a.original_data.length;++c){var f=Math.pow(Math.sin(a.__animation_frame__*(90/b)/(180/PI)),4);if(typeof a.data[c]=="object")for(var g=0;g<a.data[c].length;++g)a.data[c][g]=a.__animation_frame__/b*a.original_data[c][g]*f;else a.data[c]=a.__animation_frame__/b*a.original_data[c]*f}a.Set("chart.vmargin",(1-a.__animation_frame__/b)*(a.__vmargin__-a.__original_vmargin__)+a.__original_vmargin__),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),a.__animation_frame__<b?(a.__animation_frame__+=1,RGraph.Effects.UpdateCanvas(e)):typeof d=="number"&&d>0&&(a.Set("chart.shadow.blur",d),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas))}a.original_data=RGraph.array_clone(a.data),a.__animation_frame__=0;if(a.Get("chart.xmax")==0){var b=0;for(var c=0;c<a.data.length;++c)RGraph.is_array(a.data[c])&&a.Get("chart.grouping")=="stacked"?b=Math.max(b,RGraph.array_sum(a.data[c])):RGraph.is_array(a.data[c])&&a.Get("chart.grouping")=="grouped"?b=Math.max(b,RGraph.array_max(a.data[c])):b=Math.max(b,RGraph.array_max(a.data[c]));b=RGraph.getScale(b)[4],a.Set("chart.xmax",b)}if(a.Get("chart.shadow.blur")>0){var d=a.Get("chart.shadow.blur");a.Set("chart.shadow.blur",0)}RGraph.Effects.UpdateCanvas(e)},RGraph.Effects.Line.jQuery.Trace=function(a){var b=typeof arguments[2]=="function"?arguments[2]:function(){},c=arguments[1]||[];c.duration||(c.duration=1500),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);var d=document.createElement("DIV"),e=RGraph.getCanvasXY(a.canvas);d.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",d.style.left=e[0]+"px",d.style.top=e[1]+"px",d.style.width=a.Get("chart.gutter.left"),d.style.height=a.canvas.height+"px",d.style.position="absolute",d.style.overflow="hidden",document.body.appendChild(d);var f="__rgraph_line_reveal_animation_"+RGraph.random(0,99999999)+"__",g=document.createElement("CANVAS");g.width=a.canvas.width,g.height=a.canvas.height,g.style.position="absolute",g.style.left=0,g.style.top=0,g.id=f,d.appendChild(g);var h=function(b){var c=RGraph.getCanvasXY(a.canvas);d.style.left=c[0]+"px",d.style.top=c[1]+"px"};window.addEventListener("resize",h,!1);var j=new RGraph.Line(f,RGraph.array_clone(a.original_data));RGraph.ObjectRegistry.Remove(j);for(i in a.properties)typeof i=="string"&&j.Set(i,a.properties[i]);j.Set("chart.labels",[]),j.Set("chart.background.grid",!1),j.Set("chart.background.barcolor1","transparent"),j.Set("chart.background.barcolor2","transparent"),j.Set("chart.ylabels",!1),j.Set("chart.noaxes",!0),j.Set("chart.title",""),j.Set("chart.title.xaxis",""),j.Set("chart.title.yaxis",""),j.Set("chart.filled.accumulative",a.Get("chart.filled.accumulative")),a.Set("chart.key",[]),j.Draw(),a.Set("chart.line.visible",!1),a.Set("chart.colors",["transparent"]);if(a.Get("chart.filled")){var k=a.Get("chart.fillstyle");a.Set("chart.fillstyle","transparent")}RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);if(!a.canvas.__rgraph_trace_cover__){var l=document.createElement("DIV");l.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",l.style.left=e[0]+"px",l.style.top=e[1]+"px",l.style.width=a.canvas.width+"px",l.style.height=a.canvas.height+"px",l.style.position="absolute",l.style.overflow="hidden",l.style.backgroundColor="rgba(0,0,0,0)",d.div2=l,a.canvas.__rgraph_trace_cover__=l,document.body.appendChild(l)}else l=a.canvas.__rgraph_trace_cover__;$("#"+d.id).animate({width:a.canvas.width+"px"},c.duration,function(){RGraph.Effects.Line.Trace_callback()}),RGraph.Effects.Line.Trace_callback=function(){window.removeEventListener("resize",h,!1),d.style.display="none",l.style.display="none",a.Set("chart.line.visible",!0),a.Set("chart.filled",RGraph.array_clone(j.Get("chart.filled"))),a.Set("chart.fillstyle",k),a.Set("chart.colors",RGraph.array_clone(j.Get("chart.colors"))),a.Set("chart.key",RGraph.array_clone(j.Get("chart.key"))),RGraph.RedrawCanvas(a.canvas),a.canvas.__rgraph_trace_cover__=null,b(a)}},RGraph.Effects.Pie.RoundRobin=function(a){function g(){a.Set("chart.effect.roundrobin.multiplier",Math.pow(Math.sin(d*(90/e)/(180/PI)),2)*(d/e)),(!c||typeof c.radius=="undefined"||c.radius==!0)&&a.Set("chart.radius",f*a.Get("chart.effect.roundrobin.multiplier")),RGraph.RedrawCanvas(a.canvas),d++<e?RGraph.Effects.UpdateCanvas(g):(a.Set("chart.events",!0),RGraph.RedrawCanvas(a.canvas),b&&b(a))}var b=arguments[2]?arguments[2]:null,c=arguments[1],d=0,e=c&&c.frames?c.frames:90,f=a.getRadius();a.Set("chart.events",!1),RGraph.Effects.UpdateCanvas(g)},RGraph.Effects.Pie.Implode=function(a){function f(){a.Set("chart.exploded",Math.sin(b/(180/PI))*c),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),b>0?(b--,RGraph.Effects.UpdateCanvas(f)):(a.Set("chart.exploded",d),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),typeof e=="function"&&e(a))}var b=90,c=Math.min(a.canvas.width,a.canvas.height),d=a.Get("chart.exploded"),e=arguments[2];RGraph.Effects.UpdateCanvas(f)},RGraph.Effects.Pie.Explode=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=arguments[2]?arguments[2]:null,e=c.frames?c.frames:60;a.Set("chart.exploded",0),RGraph.Effects.Animate(a,{frames:e,"chart.exploded":Math.max(b.width,b.height)},d)},RGraph.Effects.Gauge.Grow=function(a){var b=arguments[2],c=30,d=0;if(typeof a.value=="number"){var e=Number(a.currentValue);a.currentValue==null&&(a.currentValue=a.min,e=a.min);var f=a.value,g=f-e,h=g/c,d=0;function i(){d++,a.value=d/c*g+e,a.value>a.max&&(a.value=a.max),a.value<a.min&&(a.value=a.min),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),d<30?RGraph.Effects.UpdateCanvas(i):typeof b=="function"&&b(a)}RGraph.Effects.UpdateCanvas(i)}else{if(a.currentValue==null){a.currentValue=[];for(var j=0;j<a.value.length;++j)a.currentValue[j]=a.min;e=RGraph.array_clone(a.currentValue)}var e=RGraph.array_clone(a.currentValue),f=RGraph.array_clone(a.value),g=[],h=[];for(var j=0;j<f.length;++j)g[j]=f[j]-Number(a.currentValue[j]),h[j]=g[j]/c;function k(){d++;for(var f=0;f<a.value.length;++f)a.value[f]=d/c*g[f]+e[f],a.value[f]>a.max&&(a.value[f]=a.max),a.value[f]<a.min&&(a.value[f]=a.min),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);d<30?RGraph.Effects.UpdateCanvas(k):typeof b=="function"&&b(a)}RGraph.Effects.UpdateCanvas(k)}},RGraph.Effects.Radar.Grow=function(a){function f(){for(var g=0;g<d.length;++g){a.original_data[g]==null&&(a.original_data[g]=[]);for(var h=0;h<d[g].length;++h)a.original_data[g][h]=(b-c)/b*d[g][h]}RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),c>0?(c--,RGraph.Effects.UpdateCanvas(f)):typeof e=="function"&&e(a)}var b=30,c=b,d=RGraph.array_clone(a.data),e=arguments[2];a.original_data=RGraph.array_clone(a.original_data),RGraph.Effects.UpdateCanvas(f)},RGraph.Effects.Waterfall.Grow=function(a){function h(){for(var f=0;f<a.data.length;++f)a.data[f]=d[f]*(c/b);var g=Math.pow(Math.sin(c/b*90/(180/PI)),20);RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),c++<b?RGraph.Effects.UpdateCanvas(h):typeof e=="function"&&e(a)}var b=45,c=0,d=RGraph.array_clone(a.data),e=arguments[2];for(var f=0;f<a.data.length;++f)a.data[f]/=b;if(a.Get("chart.ymax")==null){var g=RGraph.getScale(a.getMax(d))[4];a.Set("chart.ymax",g)}RGraph.Effects.UpdateCanvas(h)},RGraph.Effects.Bar.Wave=function(a){var b=arguments[2]?arguments[2]:null,c=0;for(var d=0;d<a.data.length;++d)typeof a.data[d]=="number"?c=Math.max(c,Math.abs(a.data[d])):a.Get("chart.grouping")=="stacked"?c=Math.max(c,Math.abs(RGraph.array_sum(a.data[d]))):c=Math.max(c,Math.abs(RGraph.array_max(a.data[d])));a.Get("chart.ymax")>0&&(c=a.Get("chart.ymax"));var e=RGraph.getScale(c,a);a.Set("chart.ymax",e[4]),original_bar_data=RGraph.array_clone(a.data),__rgraph_bar_wave_object__=a;for(var d=0;d<a.data.length;++d){typeof a.data[d]=="number"?a.data[d]=0:a.data[d]=Array(a.data[d].length);var f=25,g=25;setTimeout("RGraph.Effects.Bar.Wave_inner("+d+", "+f+", "+g+")",d*150)}RGraph.Effects.Bar.Wave_inner=function(a,b,c){for(var d=0;d<=b;++d)setTimeout("RGraph.Effects.Bar.Wave_inner_iterator(__rgraph_bar_wave_object__, "+a+", "+d/b+");",c*d)},b&&setTimeout(b,d*150+f*g,f,g)},RGraph.Effects.Bar.Wave_inner_iterator=function(a,b,c){if(typeof a.data[b]=="number")a.data[b]=original_bar_data
[b]*c;else for(var d=0;d<a.data[b].length;++d)a.data[b][d]=c*original_bar_data[b][d];RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas)},RGraph.Effects.VProgress.Grow=RGraph.Effects.HProgress.Grow=function(a){function k(){f++;if(f<=e){if(typeof a.value=="object"){a.value=[];for(var b=0;b<d.length;++b)a.value[b]=d[b]+i[b]*f}else a.value=d+i*f;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),RGraph.Effects.UpdateCanvas(k)}else j&&j(a)}var b=a.canvas,c=a.context,d=a.currentValue,e=30,f=0;if(typeof a.value=="object"){if(RGraph.is_null(a.currentValue)){a.currentValue=[];for(var g=0;g<a.value.length;++g)a.currentValue[g]=0}var h=[],i=[];for(var g=0;g<a.value.length;++g)h[g]=a.value[g]-Number(a.currentValue[g]),i[g]=h[g]/e;if(d==null){d=[];for(var g=0;g<a.value.length;++g)d[g]=0}}else var h=a.value-Number(a.currentValue),i=h/e;var j=arguments[2]?arguments[2]:null;RGraph.Effects.UpdateCanvas(k)},RGraph.Effects.Bar.Wave2=function(a){var b=arguments[2]?arguments[2]:null,c=0;for(var d=0;d<a.data.length;++d)typeof a.data[d]=="number"?c=Math.max(c,Math.abs(a.data[d])):a.Get("chart.grouping")=="stacked"?c=Math.max(c,Math.abs(RGraph.array_sum(a.data[d]))):c=Math.max(c,Math.abs(RGraph.array_max(a.data[d])));var e=RGraph.getScale(c,a);a.Set("chart.ymax",e[4]),original_bar_data=RGraph.array_clone(a.data),__rgraph_bar_wave_object__=a;for(var d=0;d<a.data.length;++d)typeof a.data[d]=="number"?a.data[d]=0:a.data[d]=Array(a.data[d].length),setTimeout("a = new RGraph.Effects.Bar.Wave2.Iterator(__rgraph_bar_wave_object__, "+d+", 45); a.Animate();",d*150)},RGraph.Effects.Bar.Wave2.Iterator=function(a,b,c){this.obj=a,this.idx=b,this.frames=c,this.curFrame=0},RGraph.Effects.Bar.Wave2.Iterator.prototype.Animate=function(){if(typeof this.obj.data[this.idx]=="number")this.obj.data[this.idx]=this.curFrame/this.frames*original_bar_data[this.idx];else if(typeof this.obj.data[this.idx]=="object")for(var a=0;a<this.obj.data[this.idx].length;++a)this.obj.data[this.idx][a]=this.curFrame/this.frames*original_bar_data[this.idx][a];RGraph.RedrawCanvas(this.obj.canvas),this.curFrame<this.frames&&(this.curFrame+=1,RGraph.Effects.UpdateCanvas(this.Animate.bind(this)))},RGraph.Effects.Gantt.Grow=function(a){function i(){if(e<=d){for(var b=0;b<g.length;++b)if(typeof g[b][0]=="object")for(var c=0;c<g[b].length;++c)g[b][c][1]=e/d*h[b][c][1];else g[b][1]=e/d*h[b][1];a.Set("chart.events",g),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),e++,RGraph.Effects.UpdateCanvas(i)}else f&&f(a)}var b=a.canvas,c=a.context,d=30,e=0,f=arguments[2]?arguments[2]:null,g=a.Get("chart.events"),h=RGraph.array_clone(g);RGraph.Effects.UpdateCanvas(i)},Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a||window,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),RGraph.Effects.Rose.Explode=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=arguments[2]?arguments[2]:null,e=c.frames?c.frames:60;a.Set("chart.exploded",0),RGraph.Effects.Animate(a,{frames:e,"chart.exploded":Math.min(b.width,b.height)},d)},RGraph.Effects.Rose.Implode=function(a){var b=a.canvas,c=arguments[1]?arguments[1]:[],d=arguments[2]?arguments[2]:null,e=c.frames?c.frames:60;a.Set("chart.exploded",Math.min(b.width,b.height)),RGraph.Effects.Animate(a,{frames:e,"chart.exploded":0},d)},RGraph.Effects.Thermometer.Grow=function(a){function i(){h++,a.value=v=h/c*f+d,RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),h<30?RGraph.Effects.UpdateCanvas(i):typeof b=="function"&&b(a)}var b=arguments[2],c=30,d=Number(a.currentValue);a.currentValue==null&&(a.currentValue=0,d=0);var e=a.value,f=e-d,g=f/c,h=0;RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Scatter.jQuery.Trace=function(a){var b=typeof arguments[2]=="function"?arguments[2]:function(){},c=arguments[1]||[];c.duration||(c.duration=1500),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);var d=document.createElement("DIV"),e=RGraph.getCanvasXY(a.canvas);d.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",d.style.left=e[0]+"px",d.style.top=e[1]+"px",d.style.width=a.Get("chart.gutter.left"),d.style.height=a.canvas.height+"px",d.style.position="absolute",d.style.overflow="hidden",document.body.appendChild(d);var f="__rgraph_scatter_trace_animation_"+RGraph.random(0,99999999)+"__",g=document.createElement("CANVAS");g.width=a.canvas.width,g.height=a.canvas.height,g.style.position="absolute",g.style.left=0,g.style.top=0,g.id=f,d.appendChild(g);var h=function(b){var c=RGraph.getCanvasXY(a.canvas);d.style.left=c[0]+"px",d.style.top=c[1]+"px"};window.addEventListener("resize",h,!1);var j=new RGraph.Scatter(f,RGraph.array_clone(a.data));RGraph.ObjectRegistry.Remove(j);for(i in a.properties)typeof i=="string"&&j.Set(i,a.properties[i]);j.Set("chart.labels",[]),j.Set("chart.background.grid",!1),j.Set("chart.background.barcolor1","rgba(0,0,0,0)"),j.Set("chart.background.barcolor2","rgba(0,0,0,0)"),j.Set("chart.ylabels",!1),j.Set("chart.noaxes",!0),j.Set("chart.title",""),j.Set("chart.title.xaxis",""),j.Set("chart.title.yaxis",""),a.Set("chart.key",[]),j.Draw(),a.Set("chart.line.visible",!1),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);if(!a.canvas.__rgraph_scatter_trace_cover__){var k=document.createElement("DIV");k.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",k.style.left=e[0]+"px",k.style.top=e[1]+"px",k.style.width=a.canvas.width+"px",k.style.height=a.canvas.height+"px",k.style.position="absolute",k.style.overflow="hidden",k.style.backgroundColor="rgba(0,0,0,0)",d.div2=k,a.canvas.__rgraph_scatter_trace_cover__=k,document.body.appendChild(k)}else k=a.canvas.__rgraph_scatter_trace_cover__;$("#"+d.id).animate({width:a.canvas.width+"px"},c.duration,function(){window.removeEventListener("resize",h,!1),d.style.display="none",k.style.display="none",a.Set("chart.line.visible",!0),a.Set("chart.colors",RGraph.array_clone(j.Get("chart.colors"))),a.Set("chart.key",RGraph.array_clone(j.Get("chart.key"))),RGraph.RedrawCanvas(a.canvas),a.canvas.__rgraph_trace_cover__=null,b(a)})},RGraph.Effects.CornerGauge.Grow=function(a){var b=arguments[2],c=30,d=0;if(typeof a.value=="number"){var e=Number(a.currentValue);a.currentValue==null&&(a.currentValue=a.min,e=a.min);var f=a.value,g=f-e,h=g/c,d=0;function i(){d++,a.value=d/c*g+e,a.value>a.max&&(a.value=a.max),a.value<a.min&&(a.value=a.min),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),d<30?RGraph.Effects.UpdateCanvas(i):typeof b=="function"&&b(a)}RGraph.Effects.UpdateCanvas(i)}else{if(a.currentValue==null){a.currentValue=[];for(var j=0;j<a.value.length;++j)a.currentValue[j]=a.min;e=RGraph.array_clone(a.currentValue)}var e=RGraph.array_clone(a.currentValue),f=RGraph.array_clone(a.value),g=[],h=[];for(var j=0;j<f.length;++j)g[j]=f[j]-Number(a.currentValue[j]),h[j]=g[j]/c;function k(){d++;for(var f=0;f<a.value.length;++f)a.value[f]=d/c*g[f]+e[f],a.value[f]>a.max&&(a.value[f]=a.max),a.value[f]<a.min&&(a.value[f]=a.min),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);d<30?RGraph.Effects.UpdateCanvas(k):typeof b=="function"&&b(a)}RGraph.Effects.UpdateCanvas(k)}},RGraph.Effects.Rose.Grow=function(a){function e(){d++,a.Set("chart.animation.grow.multiplier",d/c),RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas),d<c?(++d,RGraph.Effects.UpdateCanvas(e)):typeof b=="function"&&b(a)}var b=arguments[2],c=60,d=0;RGraph.Effects.UpdateCanvas(e)},typeof RGraph=="undefined"&&(RGraph={}),RGraph.DrawKey=function(a,b,c){var d=a.canvas,e=a.context;e.lineWidth=1,e.beginPath();var f=a.Get("chart.key.position"),g=a.Get("chart.text.size");typeof a.Get("chart.key.vpos")=="number"&&a.Set("chart.key.position.y",a.Get("chart.key.vpos")*this.Get("chart.gutter.top"));var h=[],i=[];for(var j=0;j<b.length;++j)b[j]!=null&&(i.push(c[j]),h.push(b[j]));b=h,c=i,f&&f=="gutter"?RGraph.DrawKey_gutter(a,b,c):f&&f=="graph"?RGraph.DrawKey_graph(a,b,c):alert("[COMMON] ("+a.id+") Unknown key position: "+f)},RGraph.DrawKey_graph=function(a,b,c){var d=a.canvas,e=a.context,f=typeof a.Get("chart.key.text.size")=="number"?a.Get("chart.key.text.size"):a.Get("chart.text.size"),g=a.Get("chart.text.font"),h=a.Get("chart.gutter.left"),i=a.Get("chart.gutter.right"),j=a.Get("chart.gutter.top"),k=a.Get("chart.gutter.bottom"),l=a.Get("chart.yaxispos")=="right"?h+10:RGraph.GetWidth(a)-i-10,m=j+10,n=a.Get("chart.title"),o=f,p=8,q=4,r=a.Get("chart.key.background"),s="#333",t=0,u=0;a.coords||(a.coords={}),a.coords.key=[],e.font=f+"pt "+a.Get("chart.text.font");for(v=0;v<b.length;++v)u=Math.max(u,e.measureText(b[v]).width);u+=5,u+=o,u+=5,u+=5,u+=5;if(a.Get("chart.yaxispos")=="left"||a.type=="pie"&&!a.Get("chart.yaxispos")||a.type=="hbar"&&!a.Get("chart.yaxispos")||a.type=="hbar"&&a.Get("chart.yaxispos")=="center"||a.type=="rscatter"&&!a.Get("chart.yaxispos")||a.type=="radar"&&!a.Get("chart.yaxispos")||a.type=="rose"&&!a.Get("chart.yaxispos")||a.type=="funnel"&&!a.Get("chart.yaxispos")||a.type=="vprogress"&&!a.Get("chart.yaxispos")||a.type=="hprogress"&&!a.Get("chart.yaxispos"))l-=u;typeof a.Get("chart.key.halign")=="string"&&(a.Get("chart.key.halign")=="left"?l=h+10:a.Get("chart.key.halign")=="right"&&(l=RGraph.GetWidth(a)-i-u)),typeof a.Get("chart.key.position.x")=="number"&&(l=a.Get("chart.key.position.x")),typeof a.Get("chart.key.position.y")=="number"&&(m=a.Get("chart.key.position.y")),a.Get("chart.key.shadow")&&(e.shadowColor=a.Get("chart.key.shadow.color"),e.shadowBlur=a.Get("chart.key.shadow.blur"),e.shadowOffsetX=a.Get("chart.key.shadow.offsetx"),e.shadowOffsetY=a.Get("chart.key.shadow.offsety")),e.beginPath(),e.fillStyle=a.Get("chart.key.background"),e.strokeStyle="black",(typeof a.Get("chart.key.position.graph.boxed")=="undefined"||typeof a.Get("chart.key.position.graph.boxed")=="boolean"&&a.Get("chart.key.position.graph.boxed"))&&arguments[3]!=!1&&(e.lineWidth=typeof a.Get("chart.key.linewidth")=="number"?a.Get("chart.key.linewidth"):1,a.Get("chart.key.rounded")==!0?(e.beginPath(),e.strokeStyle=s,RGraph.strokedCurvyRect(e,AA(this,l),AA(this,m),u-5,5+(f+5)*RGraph.getKeyLength(b),4),e.stroke(),e.fill(),RGraph.NoShadow(a)):(e.strokeRect(AA(this,l),AA(this,m),u-5,5+(f+5)*RGraph.getKeyLength(b)),e.fillRect(AA(this,l),AA(this,m),u-5,5+(f+5)*RGraph.getKeyLength(b)))),RGraph.NoShadow(a),e.beginPath(),a.Get("chart.key.colors")&&(c=a.Get("chart.key.colors"));for(var v=b.length-1;v>=0;v--){var w=Number(v)+1;a.Get("chart.key.color.shape")=="circle"?(e.beginPath(),e.strokeStyle="rgba(0,0,0,0)",e.fillStyle=c[v],e.arc(l+5+o/2,m+5*w+f*w-f+o/2,o/2,0,6.26,0),e.fill()):a.Get("chart.key.color.shape")=="line"?(e.beginPath(),e.strokeStyle=c[v],e.moveTo(l+5,m+5*w+f*w-f+o/2),e.lineTo(l+o+5,m+5*w+f*w-f+o/2),e.stroke()):(e.fillStyle=c[v],e.fillRect(l+5,m+5*w+f*w-f,f,f+1)),e.beginPath(),e.fillStyle="black",RGraph.Text(e,g,f,l+o+5+5,m+5*w+f*w,b[v]);if(a.Get("chart.key.interactive")){var x=l+5,y=m+5*w+f*w-f,z=u-5-5-5,A=f;a.coords.key.push([x,y,z,A])}}e.fill(),a.Get("chart.key.interactive")&&(InteractiveKey_line_mousemove=function(a){var b=RGraph.ObjectRegistry.getObjectsByCanvasID(a.target.id);for(var c=0;c<b.length;++c){var d=b[c],e=RGraph.getMouseXY(a),f=e[0],g=e[1];if(d.coords.key&&d.coords.key.length)for(var c=0;c<d.coords.key.length;++c){var h=d.coords.key[c][0],i=d.coords.key[c][1],j=d.coords.key[c][2],k=d.coords.key[c][3];if(f>h-2&&f<h+j+2&&g>i-2&&g<i+k+2){mouse_over_key=!0;return}mouse_over_key=!1,typeof d.Get("chart.tooltips")=="object"&&typeof canvas_onmousemove_func=="function"&&canvas_onmousemove_func(a)}}},InteractiveKey_line_mouseup=function(a){var b=RGraph.ObjectRegistry.getObjectByXY(a);if(!RGraph.is_null(b)&&b.type=="line"){var c=RGraph.getMouseXY(a),f=c[0],g=c[1];RGraph.DrawKey(b,b.Get("chart.key"),b.Get("chart.colors"));for(var h=0;h<b.coords.key.length;++h){var i=b.coords.key[h][0],j=b.coords.key[h][1],k=b.coords.key[h][2],l=b.coords.key[h][3];if(f>i-2&&f<i+k+2&&g>j-2&&g<j+l+2){RGraph.RedrawCanvas(b.canvas);var m=b.coords.key.length-h-1;b.context.beginPath(),b.context.fillStyle="rgba(255,255,255,0.9)",b.context.fillRect(b.Get("chart.gutter.left")+1,b.Get("chart.gutter.top"),b.canvas.width,d.height-b.Get("chart.gutter.bottom")-b.Get("chart.gutter.top")),b.context.fill(),b.context.beginPath(),b.Get("chart.shadow")&&(typeof b.Get("chart.shadow.color")=="string"?RGraph.SetShadow(b,b.Get("chart.shadow.color"),b.Get("chart.shadow.offsetx"),b.Get("chart.shadow.offsety"),b.Get("chart.shadow.blur")):RGraph.SetShadow(b,b.Get("chart.shadow.color")[b.Get("chart.shadow.color").length-1-h],b.Get("chart.shadow.offsetx"),b.Get("chart.shadow.offsety"),b.Get("chart.shadow.blur"))),b.context.strokeStyle=b.Get("chart.colors")[m],b.context.lineWidth=b.Get("chart.linewidth");if(b.coords2&&b.coords2[m]&&b.coords2[m].length)for(var n=0;n<b.coords2[m].length;++n){var p=b.coords2[m][n][0],q=b.coords2[m][n][1];n==0?b.context.moveTo(p,q):b.context.lineTo(p,q)}b.context.stroke(),b.context.lineWidth=1,b.context.beginPath(),b.context.strokeStyle="black",b.context.fillStyle="white",RGraph.SetShadow(b,"rgba(0,0,0,0.5)",0,0,10),b.context.strokeRect(i-2,j-2,k+4,l+4),b.context.fillRect(i-2,j-2,k+4,l+4),b.context.stroke(),b.context.fill(),RGraph.NoShadow(b),b.context.beginPath(),b.context.fillStyle=b.Get("chart.colors")[m],b.context.fillRect(i,j,o,o),b.context.fill(),b.context.beginPath(),b.context.fillStyle=b.Get("chart.text.color"),RGraph.Text(b.context,b.Get("chart.text.font"),b.Get("chart.text.size"),i+5+o,j+l,b.Get("chart.key")[b.Get("chart.key").length-h-1]),e.fill(),b.canvas.style.cursor="pointer",a.cancelBubble=!0,a.stopPropagation()}d.style.cursor="default"}}},InteractiveKey_pie_mousemove=function(a){InteractiveKey_line_mousemove(a)},InteractiveKey_pie_mouseup=function(a){var b=RGraph.ObjectRegistry.objects.byCanvasID;for(var c=0;c<b.length;++c)if(b[c][0]==a.target.id&&b[c][1].type=="pie"){var d=b[c][1],f=RGraph.getMouseXY(a),g=f[0],h=f[1];if(d.coords.key&&d.coords.key.length)for(var c=0;c<d.coords.key.length;++c){var i=d.coords.key.length-c-1,j=d.coords.key[c][0],k=d.coords.key[c][1],l=d.coords.key[c][2],m=d.coords.key[c][3];if(g>=j-2&&g<=j+l+2&&h>=k-2&&h<=k+m+2){RGraph.RedrawCanvas(d.canvas),d.context.beginPath(),d.context.fillStyle="rgba(255,255,255,0.9)",d.context.fillRect(0,0,d.canvas.width,d.canvas.height),d.context.fill();var n=d.angles[i];d.context.beginPath(),RGraph.SetShadow(d,"gray",0,0,15),d.context.fillStyle=d.Get("chart.colors")[i],d.context.moveTo(d.angles[i][2],d.angles[i][3]),d.context.arc(d.angles[i][2],d.angles[i][3],d.radius,n[0],n[1],!1),d.context.closePath(),d.context.fill(),d.context.lineWidth=1,d.context.beginPath(),d.context.strokeStyle="black",d.context.fillStyle="white",RGraph.SetShadow(d,"rgba(0,0,0,0.5)",0,0,10),d.context.strokeRect(j-2,k-2,l+4,m+4),d.context.fillRect(j-2,k-2,l+4,m+4),d.context.stroke(),d.context.fill(),RGraph.NoShadow(d),d.context.beginPath(),d.context.fillStyle=d.Get("chart.colors")[i],d.context.fillRect(j,k,o,o),d.context.fill(),d.context.beginPath(),d.context.fillStyle=d.Get("chart.text.color"),RGraph.Text(d.context,d.Get("chart.text.font"),d.Get("chart.text.size"),j+5+o,k+m,d.Get("chart.key")[d.Get("chart.key").length-c-1]),e.fill(),a.stopPropagation();return}}}})},RGraph.DrawKey_gutter=function(a,b,c){var d=a.canvas,e=a.context,f=typeof a.Get("chart.key.text.size")=="number"?a.Get("chart.key.text.size"):a.Get("chart.text.size"),g=a.Get("chart.text.font"),h=a.Get("chart.gutter.left"),i=a.Get("chart.gutter.right"),j=a.Get("chart.gutter.top"),k=a.Get("chart.gutter.bottom"),l=a.canvas.width/2,m=j/2-5,n=a.Get("chart.title"),o=f,p=8,q=4,r=a.Get("chart.key.background"),s="black",t=0;e.font=f+"pt "+g;for(u=0;u<b.length;++u)t+=p,t+=o,t+=p,t+=e.measureText(b[u]).width;t+=p;if(a.type=="pie")if(a.Get("chart.align")=="left")var l=a.radius+h;else if(a.Get("chart.align")=="right")var l=a.canvas.width-a.radius-i;else l=d.width/2;l-=t/2,typeof a.Get("chart.key.position.x")=="number"&&(l=a.Get("chart.key.position.x")),typeof a.Get("chart.key.position.y")=="number"&&(m=a.Get("chart.key.position.y")),a.Get("chart.key.position.gutter.boxed")&&(a.Get("chart.key.shadow")&&(e.shadowColor=a.Get("chart.key.shadow.color"),e.shadowBlur=a.Get("chart.key.shadow.blur"),e.shadowOffsetX=a.Get("chart.key.shadow.offsetx"),e.shadowOffsetY=a.Get("chart.key.shadow.offsety")),e.beginPath(),e.fillStyle=r,e.strokeStyle=s,a.Get("chart.key.rounded")?RGraph.strokedCurvyRect(e,l,m-q,t,f+q+q):(e.strokeRect(l,m-q,t,f+q+q),e.fillRect(l,m-q,t,f+q+q)),e.stroke(),e.fill(),RGraph.NoShadow(a)),a.Get("chart.key.colors")&&(c=a.Get("chart.key.colors"));for(var u=0,v=l;u<b.length;++u)v+=p,a.Get("chart.key.color.shape")=="line"?(e.beginPath(),e.strokeStyle=c[u],e.moveTo(v,m+o/2),e.lineTo(v+o,m+o/2),e.stroke()):a.Get("chart.key.color.shape")=="circle"?(e.beginPath(),e.fillStyle=c[u],e.moveTo(v,m+o/2),e.arc(v+o/2,m+o/2,o/2,0,6.28,0),e.fill()):(e.beginPath(),e.fillStyle=c[u],e.fillRect(v,m,o,o),e.fill()),v+=o,v+=p,e.beginPath(),e.fillStyle="black",RGraph.Text(e,g,f,v,m+f-1,b[u]),e.fill(),v+=e.measureText(b[u]).width},RGraph.getKeyLength=function(a){var b=0;for(var c=0;c<a.length;++c)a[c]!=null&&++b;return b},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),__rgraph_resizing_preserve_css_properties__=[],RGraph.AllowResizing=function(a){if(a.Get("chart.resizable")){var b=a.canvas,c=a.context,d=15;RGraph.Resizing.canvas=b,RGraph.Resizing.placeHolders=[],!b.__original_width__&&!b.__original_height__&&(b.__original_width__=b.width,b.__original_height__=b.height);var e=typeof a.Get("chart.resize.handle.adjust")=="object"&&typeof a.Get("chart.resize.handle.adjust")[0]=="number"?a.Get("chart.resize.handle.adjust")[0]:0,f=typeof a.Get("chart.resize.handle.adjust")=="object"&&typeof a.Get("chart.resize.handle.adjust")[1]=="number"?a.Get("chart.resize.handle.adjust")[1]:0,g=c.measureText("Reset").width+2,h=a.Get("chart.resize.handle.background");h||(h="rgba(0,0,0,0)"),c.beginPath(),c.fillStyle=h,c.moveTo(b.width-d-d+e,b.height-d),c.fillRect(b.width-d-d+e,b.height-d+f,2*d,d),c.fill(),a.context.beginPath(),a.context.strokeStyle="gray",a.context.fillStyle="rgba(0,0,0,0)",a.context.lineWidth=1,a.context.fillRect(a.canvas.width-d+e,a.canvas.height-d-2+f,d,d+2),a.context.fillRect(a.canvas.width-d-g+e,a.canvas.height-d+f,d+g,d+2),a.context.moveTo(AA(this,a.canvas.width-d/2+e),a.canvas.height-d+f),a.context.lineTo(AA(this,a.canvas.width-d/2+e),a.canvas.height+f),a.context.moveTo(a.canvas.width+e,AA(this,a.canvas.height-d/2+f)),a.context.lineTo(a.canvas.width-d+e,AA(this,a.canvas.height-d/2+f)),c.fill(),c.stroke(),c.fillStyle="gray",c.beginPath(),c.moveTo(b.width-d/2+e,b.height-d+f),c.lineTo(b.width-d/2+3+e,b.height-d+3+f),c.lineTo(b.width-d/2-3+e,b.height-d+3+f),c.closePath(),c.fill(),c.beginPath(),c.moveTo(b.width-d/2+e,b.height+f),c.lineTo(b.width-d/2+3+e,b.height-3+f),c.lineTo(b.width-d/2-3+e,b.height-3+f),c.closePath(),c.fill(),c.beginPath(),c.moveTo(b.width-d+e,b.height-d/2+f),c.lineTo(b.width-d+3+e,b.height-d/2+3+f),c.lineTo(b.width-d+3+e,b.height-d/2-3+f),c.closePath(),c.fill(),c.beginPath(),c.moveTo(b.width+e,b.height-d/2+f),c.lineTo(b.width-3+e,b.height-d/2+3+f),c.lineTo(b.width-3+e,b.height-d/2-3+f),c.closePath(),c.fill(),c.beginPath(),c.fillStyle="white",c.moveTo(b.width+e,b.height-d/2+f),c.strokeRect(b.width-d/2-2+e,b.height-d/2-2+f,4,4),c.fillRect(b.width-d/2-2+e,b.height-d/2-2+f,4,4),c.stroke(),c.fill(),c.beginPath(),c.fillStyle="gray",c.moveTo(AA(this,b.width-d-3+e),b.height-d/2+f),c.lineTo(AA(this,b.width-d-d+e),b.height-d/2+f),c.lineTo(b.width-d-d+2+e,b.height-d/2-2+f),c.lineTo(b.width-d-d+2+e,b.height-d/2+2+f),c.lineTo(b.width-d-d+e,b.height-d/2+f),c.stroke(),c.fill(),c.beginPath(),c.moveTo(AA(this,b.width-d-d-1+e),b.height-d/2-3+f),c.lineTo(AA(this,b.width-d-d-1+e),b.height-d/2+3+f),c.stroke(),c.fill();var i=function(a){a=RGraph.FixEventObject(a);var b=RGraph.Resizing.canvas,c=RGraph.Resizing.originalw-(RGraph.Resizing.originalx-a.pageX),d=RGraph.Resizing.originalh-(RGraph.Resizing.originaly-a.pageY);RGraph.Resizing.mousedown&&(c>b.__original_width__/2&&(RGraph.Resizing.div.style.width=c+"px"),d>b.__original_height__/2&&(RGraph.Resizing.div.style.height=d+"px"),RGraph.FireCustomEvent(b.__object__,"onresize"))};typeof b.rgraph_resize_window_mousemove_listener_installed!="boolean"&&(window.addEventListener("mousemove",i,!1),b.rgraph_resize_window_mousemove_listener_installed=!0);var j=function(a){if(!RGraph.Resizing||!RGraph.Resizing.div||!RGraph.Resizing.mousedown)return;if(RGraph.Resizing.div){var b=RGraph.Resizing.div,c=b.__canvas__,d=RGraph.getCanvasXY(b.__canvas__),e=c.parentNode;if(c.style.position!="absolute"){var f=document.createElement("DIV");f.style.width=RGraph.Resizing.originalw+"px",f.style.height=RGraph.Resizing.originalh+"px",f.style.display="inline-block",f.style.position=c.style.position,f.style.left=c.style.left,f.style.top=c.style.top,f.style.cssFloat=c.style.cssFloat,e.insertBefore(f,c)}c.style.backgroundColor="white",c.style.position="absolute",c.style.border="1px dashed gray",c.style.left=RGraph.Resizing.originalCanvasX-1+"px",c.style.top=RGraph.Resizing.originalCanvasY-1+"px",c.width=parseInt(b.style.width),c.height=parseInt(b.style.height),RGraph.FireCustomEvent(c.__object__,"onresizebeforedraw"),RGraph.RedrawCanvas(c),RGraph.Resizing.mousedown=!1,b.style.display="none",document.body.removeChild(b)}if(RGraph.Registry.Get("chart.zoomed.div")||RGraph.Registry.Get("chart.zoomed.img"))RGraph.Registry.Set("chart.zoomed.div",null),RGraph.Registry.Set("chart.zoomed.img",null);RGraph.FireCustomEvent(c.__object__,"onresizeend")},k=j;typeof b.rgraph_resize_window_mouseup_listener_installed!="boolean"&&(window.addEventListener("mouseup",k,!1),b.rgraph_resize_window_mouseup_listener_installed=!0);var l=function(a){a=RGraph.FixEventObject(a);var b=RGraph.getMouseXY(a),c=a.target.__object__,e=a.target,f=e.getContext("2d"),g=e.style.cursor;RGraph.Resizing.original_cursor||(RGraph.Resizing.original_cursor=g),b[0]>e.width-d&&b[0]<e.width&&b[1]>e.height-d&&b[1]<e.height?e.style.cursor="move":b[0]>e.width-d-d&&b[0]<e.width-d&&b[1]>e.height-d&&b[1]<e.height?e.style.cursor="pointer":RGraph.Resizing.original_cursor?(e.style.cursor=RGraph.Resizing.original_cursor,RGraph.Resizing.original_cursor=null):e.style.cursor="default"};typeof b.rgraph_resize_mousemove_listener_installed!="boolean"&&(b.addEventListener("mousemove",l,!1),b.rgraph_resize_mousemove_listener_installed=!0);var m=function(a){a.target.style.cursor="default",a.target.title=""};typeof b.rgraph_resize_mouseout_listener_installed!="boolean"&&(b.addEventListener("mouseout",m,!1),b.rgraph_resize_mouseout_listener_installed=!0);var n=function(b){b=RGraph.FixEventObject(b);var c=RGraph.getMouseXY(b),e=RGraph.getCanvasXY(b.target),f=b.target;if(c[0]>a.canvas.width-d&&c[0]<a.canvas.width&&c[1]>a.canvas.height-d&&c[1]<a.canvas.height){RGraph.FireCustomEvent(a,"onresizebegin"),f.__original_css_border__==null&&(f.__original_css_border__=f.style.border),RGraph.Resizing.mousedown=!0;var g=document.createElement("DIV");g.style.position="absolute",g.style.left=e[0]+"px",g.style.top=e[1]+"px",g.style.width=f.width+"px",g.style.height=f.height+"px",g.style.border="1px dotted black",g.style.backgroundColor="gray",g.style.opacity=.5,g.__canvas__=b.target,document.body.appendChild(g),RGraph.Resizing.div=g,RGraph.Resizing.placeHolders.push(g);for(var h=0;h<RGraph.Resizing.placeHolders.length-1;++h)RGraph.Resizing.placeHolders[h].style.display="none";g.onmouseup=function(a){j(a)},RGraph.Resizing.div.onmouseover=function(a){a=RGraph.FixEventObject(a),a.stopPropagation()},RGraph.Resizing.originalx=b.pageX,RGraph.Resizing.originaly=b.pageY,RGraph.Resizing.originalw=a.canvas.width,RGraph.Resizing.originalh=a.canvas.height,RGraph.Resizing.originalCanvasX=RGraph.getCanvasXY(a.canvas)[0],RGraph.Resizing.originalCanvasY=RGraph.getCanvasXY(a.canvas)[1]}c[0]>f.width-d-d&&c[0]<f.width-d&&c[1]>f.height-d&&c[1]<f.height&&(RGraph.FireCustomEvent(f.__object__,"onresizebegin"),f.width=f.__original_width__,f.height=f.__original_height__,f.style.border=f.__original_css_border__,f.style.left=parseInt(f.style.left)+"px",f.style.top=parseInt(f.style.top)+"px",RGraph.FireCustomEvent(f.__object__,"onresizebeforedraw"),RGraph.Redraw(),RGraph.Resizing.div&&(RGraph.Resizing.div.style.width=f.__original_width__+"px",RGraph.Resizing.div.style.height=f.__original_height__+"px"),RGraph.FireCustomEvent(f.__object__,"onresize"),RGraph.FireCustomEvent(f.__object__,"onresizeend"))};typeof b.rgraph_resize_mousedown_listener_installed!="boolean"&&(b.addEventListener("mousedown",n,!1),b.rgraph_resize_mousedown_listener_installed=!0)}},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Highlight={},RGraph.tooltips={},RGraph.tooltips.padding="3px",RGraph.tooltips.font_face="Tahoma",RGraph.tooltips.font_size="10pt",RGraph.Tooltip=function(a,b,c,d,e,f){if(typeof a.Get("chart.tooltips.override")=="function")return a.Get("chart.tooltips.override")(a,b,c,d,e);var g=c,h=d;b=RGraph.getTooltipTextFromDIV(b);var j=RGraph.Registry.Get("chart.tooltip.timers");if(j&&j.length)for(i=0;i<j.length;++i)clearTimeout(j[i]);RGraph.Registry.Set("chart.tooltip.timers",[]),a.Get("chart.contextmenu")&&RGraph.HideContext();var k=a.Get("chart.tooltips.effect").toLowerCase(),l=document.createElement("DIV");l.className=a.Get("chart.tooltips.css.class"),l.style.display="none",l.style.position="absolute",l.style.left=0,l.style.top=0,l.style.backgroundColor="rgb(255,255,239)",l.style.color="black",document.all||(l.style.border=""),l.style.visibility="visible",l.style.paddingLeft=RGraph.tooltips.padding,l.style.paddingRight=RGraph.tooltips.padding,l.style.fontFamily=RGraph.tooltips.font_face,l.style.fontSize=RGraph.tooltips.font_size,l.style.zIndex=3,RGraph.trim(b).length>0&&(l.style.border="1px #bbb solid"),l.style.borderRadius="5px",l.style.MozBorderRadius="5px",l.style.WebkitBorderRadius="5px",l.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",l.style.MozBoxShadow="rgba(96,96,96,0.5) 0 0 15px",l.style.boxShadow="rgba(96,96,96,0.5) 0 0 15px",l.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)",l.style.opacity=0,l.innerHTML=b,l.__text__=b,l.__canvas__=a.canvas,l.style.display="inline",l.id="__rgraph_tooltip_"+a.canvas.id+"_"+a.uid+"_"+e,l.__event__=a.Get("chart.tooltips.event")||"click",l.__object__=a,typeof e=="number"&&(l.__index__=e,origIdx=e);if(a.type=="line"||a.type=="radar"){for(var m=0;m<a.data.length;++m)if(e>=a.data[m].length)e-=a.data[m].length;else break;l.__dataset__=m,l.__index2__=e}document.body.appendChild(l);var n=l.offsetWidth,o=l.offsetHeight;l.style.width=n+"px",l.style.top=d-o-2+"px",typeof a.positionTooltip=="function"&&l.innerHTML.length>0&&(a.positionTooltip(a,c,d,l,origIdx?origIdx:e),a.Get("chart.tooltips.coords.page")&&(l.style.left=f.pageX-n/2-4.25+"px",l.style.top=f.pageY-o-7+"px",document.getElementById("__rgraph_tooltip_pointer__").style.left=parseInt(l.offsetWidth)/2-8.5+"px"));if(k=="fade"||k=="expand"||k=="contract"||k=="snap")setTimeout(function(){l.style.opacity=.1},25),setTimeout(function(){l.style.opacity=.2},50),setTimeout(function(){l.style.opacity=.3},75),setTimeout(function(){l.style.opacity=.4},100),setTimeout(function(){l.style.opacity=.5},125),setTimeout(function(){l.style.opacity=.6},150),setTimeout(function(){l.style.opacity=.7},175),setTimeout(function(){l.style.opacity=.8},200),setTimeout(function(){l.style.opacity=.9},225),(k=="expand"||k=="contract"||k=="snap")&&console.log("[RGRAPH] The snap, expand and contract tooltip effects are deprecated. Available effects now are fade and none");setTimeout("if (RGraph.Registry.Get('chart.tooltip')) { RGraph.Registry.Get('chart.tooltip').style.opacity = 1;}",k=="none"?50:250),l.onmousedown=function(a){a.stopPropagation()},l.onmouseup=function(a){a.stopPropagation()},l.onclick=function(a){a.button==0&&a.stopPropagation()},RGraph.Registry.Set("chart.tooltip",l),RGraph.FireCustomEvent(a,"ontooltip")},RGraph.getTooltipTextFromDIV=function(a){var b=/^id:(.*)/.exec(a);return b&&b[1]&&document.getElementById(b[1])?a=document.getElementById(b[1]).innerHTML:b&&b[1]&&(a=""),a},RGraph.getTooltipWidth=function(a,b){var c=document.createElement("DIV");return c.className=b.Get("chart.tooltips.css.class"),c.style.paddingLeft=RGraph.tooltips.padding,c.style.paddingRight=RGraph.tooltips.padding,c.style.fontFamily=RGraph.tooltips.font_face,c.style.fontSize=RGraph.tooltips.font_size,c.style.visibility="hidden",c.style.position="absolute",c.style.top="300px",c.style.left=0,c.style.display="inline",c.innerHTML=RGraph.getTooltipTextFromDIV(a),document.body.appendChild(c),c.offsetWidth},RGraph.HideTooltip=function(){var a=RGraph.Registry.Get("chart.tooltip");a&&(a.parentNode.removeChild(a),a.style.display="none",a.style.visibility="hidden",RGraph.Registry.Set("chart.tooltip",null))},RGraph.Highlight.Rect=function(a,b){if(a.Get("chart.tooltips.highlight")){var c=a.canvas,d=a.context;d.beginPath(),d.strokeStyle=a.Get("chart.highlight.stroke"),d.fillStyle=a.Get("chart.highlight.fill"),d.strokeRect(b.x,b.y,b.width,b.height),d.fillRect(b.x,b.y,b.width,b.height),d.stroke,d.fill()}},RGraph.Highlight.Point=function(a,b){if(a.Get("chart.tooltips.highlight")){var c=a.canvas,d=a.context;d.beginPath(),d.strokeStyle=a.Get("chart.highlight.stroke"),d.fillStyle=a.Get("chart.highlight.fill");var e=a.Get("chart.highlight.point.radius")||2;d.arc(b.x,b.y,e,0,TWOPI,0),d.stroke(),d.fill()}},RGraph.PreLoadTooltipImages=function(a){var b=a.Get("chart.tooltips");if(RGraph.hasTooltips(a)){if(a.type=="rscatter"){b=[];for(var c=0;c<a.data.length;++c)b.push(a.data[3])}for(var c=0;c<b.length;++c){var d=document.createElement("DIV");d.style.position="absolute",d.style.opacity=0,d.style.top="-100px",d.style.left="-100px",d.innerHTML=b[c],document.body.appendChild(d);var e=d.getElementsByTagName("IMG");for(var f=0;f<e.length;++f)if(e&&e[c]){var g=document.createElement("IMG");g.style.position="absolute",g.style.opacity=0,g.style.top="-100px",g.style.left="-100px",g.src=e[c].src,document.body.appendChild(g),setTimeout(function(){document.body.removeChild(g)},250)}document.body.removeChild(d)}}},RGraph.Tooltips_mousemove=function(a,b){var c=a.getShape(b),d=!1;if(c&&typeof c.index=="number"&&a.Get("chart.tooltips")[c.index]){var e=RGraph.parseTooltipText(a.Get("chart.tooltips"),c.index);e&&(d=!0,a.Get("chart.tooltips.event")=="onmousemove"&&(!RGraph.Registry.Get("chart.tooltip")||RGraph.Registry.Get("chart.tooltip").__object__.uid!=a.uid||RGraph.Registry.Get("chart.tooltip").__index__!=c.index)&&(RGraph.HideTooltip(),RGraph.Clear(a.canvas),RGraph.Redraw(),RGraph.Tooltip(a,e,b.pageX,b.pageY,c.index),a.Highlight(c)))}else if(c&&typeof c.index=="number"){var e=RGraph.parseTooltipText(a.Get("chart.tooltips"),c.index);e&&(d=!0)}return d},typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.ZoomArea=function(a){if(a.Get("chart.zoom.mode")=="area"){var b=a.canvas,c=a.context;a.canvas.style.cursor="crosshair",RGraph.Register(a),b.onmousedown=function(a){var b=a.target,c=RGraph.getMouseXY(a),d=b.__object__;RGraph.Registry.Get("chart.zoomed.area.div")&&(RGraph.Registry.Get("chart.zoomed.area.div").style.display="none");if(typeof RGraph.Registry.Get("chart.zoomed.area.divs")==null)RGraph.Registry.Set("chart.zoomed.area.divs",[]);else{var e=RGraph.Registry.Get("chart.zoomed.area.divs");if(e&&e.length)for(var f=0;f<e.length;++f)e[f]&&(e[f].style.display="none",e[f]=null)}var g=RGraph.getCanvasXY(b),h=document.createElement("DIV");h.__canvas__=b,h.style.position="absolute",h.style.left=g[0]+c[0]+"px",h.style.top=g[1]+c[1]+"px",h.style.width=0,h.style.height=0,h.style.border="1px solid black",h.style.backgroundColor="rgba(220,220,220,0.3)",h.style.display="none",h.onmouseover=function(a){setTimeout(function(){a.target.style.opacity=.8},50),setTimeout(function(){a.target.style.opacity=.6},100),setTimeout(function(){a.target.style.opacity=.4},150),setTimeout(function(){a.target.style.opacity=.2},200),setTimeout(function(){a.target.style.opacity=0},250),setTimeout(function(){a.target.style.display="none"},300),setTimeout(function(){a.target=null},350)},document.body.appendChild(h),RGraph.Registry.Set("chart.zoomed.area.div",null),RGraph.Registry.Set("chart.zoomed.area.mousedown",c),RGraph.Registry.Set("chart.zoomed.area.areadiv",h)};var d=function(a){var b=RGraph.Registry.Get("chart.zoomed.area.mousedown");if(b&&b.length){var c=RGraph.getMouseXY(a),d=RGraph.getCanvasXY(a.target),e=a.target.__object__,f=e.context,g=e.canvas,h=b[0],i=b[1],j=c[0],k=c[1],l=j-h,m=k-i,n=RGraph.Registry.Get("chart.zoomed.area.areadiv");if(l>=0&&m>=0)
l>5&&m>5?(n.style.width=l-15+"px",n.style.height=m-15+"px",n.style.display="inline"):n.style.display="none";else if(l<-5||m<-5){var o=RGraph.getCanvasXY(g),p=document.createElement("DIV");p.style.position="absolute",p.style.top=0,p.style.left=0,p.style.zIndex=99,p.style.border="1px dashed black",p.style.backgroundColor="#ffc1c1",p.style.MozBoxShadow="0 0 5px #999",p.style.WebkitBoxShadow="0 0 5px #999",p.style.boxShadow="0 0 5px #999",p.style.padding="2px",p.innerHTML="Zoom goes right and down",document.body.appendChild(p),p.style.top=o[1]+b[1]-p.offsetHeight+"px",p.style.left=o[0]+b[0]-p.offsetWidth/2+"px",p.style.width=p.offsetWidth+"px",setTimeout(function(){p.style.opacity=.8},2100),setTimeout(function(){p.style.opacity=.6},2200),setTimeout(function(){p.style.opacity=.4},2300),setTimeout(function(){p.style.opacity=.2},2400),setTimeout(function(){p.style.display="none"},2500),setTimeout(function(){p=null},2600)}}};window.addEventListener("mousemove",d,!1),RGraph.AddEventListener(b.id,"window_mousemove",d),b.onmouseup=function(a){RGraph.FixEventObject(a);var b=RGraph.Registry.Get("chart.zoomed.area.mousedown"),c=RGraph.getMouseXY(a);if(RGraph.Registry.Get("chart.zoomed.area.mousedown")){RGraph.Registry.Get("chart.zoomed.area.areadiv").style.display="none",RGraph.Registry.Get("chart.zoomed.area.areadiv").style.left="-1000px",RGraph.Registry.Get("chart.zoomed.area.areadiv").style.top="-1000px",RGraph.Registry.Set("chart.zoomed.area.areadiv",null);if(c[0]<b[0]||c[1]<b[1]){RGraph.Registry.Set("chart.zoomed.area.mousedown",!1);return}var d=a.target,e=d.__object__,f=e.context,g=RGraph.getCanvasXY(a.target),c=RGraph.getMouseXY(a),b=RGraph.Registry.Get("chart.zoomed.area.mousedown"),h=b[0],i=b[1],j=c[0]-15,k=c[1]-15,l=Math.abs(j-h),m=Math.abs(k-i),n=e.Get("chart.zoom.factor")-1,o=document.createElement("IMG");o.src=d.toDataURL(),o.style.position="relative",o.style.left=(n+1)*-1*h+"px",o.style.top=(n+1)*-1*i+"px",o.width=(n+1)*d.width,o.height=(n+1)*d.height;var p=document.createElement("DIV");p.__object__=e,p.className="RGraph_zoomed_area",p.style.position="absolute",p.style.backgroundColor="white",p.style.cursor="move",p.style.top=a.pageY+"px",p.style.left=a.pageX+"px",p.origWidth=l,p.origHeight=m,p.style.width=l+"px",p.style.height=m+"px",p.style.border="1px solid black",p.style.boxShadow="0 0 15px black",p.style.MozBoxShadow="0 0 15px black",p.style.WebkitBoxShadow="0 0 15px black",p.style.overflow="hidden",p.style.opacity=0,p.style.zIndex=99,document.body.appendChild(p),p.appendChild(o),p.ondblclick=function(a){var a=RGraph.FixEventObject(a),b=a.target,c=a.target.parentNode,d=c.offsetWidth,e=c.offsetHeight,f=b.offsetWidth,g=b.offsetHeight,h=f-d,i=g-e,j=parseInt(b.offsetLeft),k=parseInt(b.offsetTop);__zoomed_div_style__=c.style,__zoomed_img_style__=b.style,setTimeout("__zoomed_div_style__.left = parseInt(__zoomed_div_style__.left) - "+h*.1+" + 'px'",50),setTimeout("__zoomed_div_style__.left = parseInt(__zoomed_div_style__.left) - "+h*.1+" + 'px'",100),setTimeout("__zoomed_div_style__.left = parseInt(__zoomed_div_style__.left) - "+h*.1+" + 'px'",150),setTimeout("__zoomed_div_style__.left = parseInt(__zoomed_div_style__.left) - "+h*.1+" + 'px'",200),setTimeout("__zoomed_div_style__.left = parseInt(__zoomed_div_style__.left) - "+h*.1+" + 'px'",250),setTimeout("__zoomed_div_style__.top = parseInt(__zoomed_div_style__.top) - "+i*.1+" + 'px'",50),setTimeout("__zoomed_div_style__.top = parseInt(__zoomed_div_style__.top) - "+i*.1+" + 'px'",100),setTimeout("__zoomed_div_style__.top = parseInt(__zoomed_div_style__.top) - "+i*.1+" + 'px'",150),setTimeout("__zoomed_div_style__.top = parseInt(__zoomed_div_style__.top) - "+i*.1+" + 'px'",200),setTimeout("__zoomed_div_style__.top = parseInt(__zoomed_div_style__.top) - "+i*.1+" + 'px'",250),setTimeout("__zoomed_div_style__.width = parseInt(__zoomed_div_style__.width) + "+h*.2+" + 'px'",50),setTimeout("__zoomed_div_style__.width = parseInt(__zoomed_div_style__.width) + "+h*.2+" + 'px'",100),setTimeout("__zoomed_div_style__.width = parseInt(__zoomed_div_style__.width) + "+h*.2+" + 'px'",150),setTimeout("__zoomed_div_style__.width = parseInt(__zoomed_div_style__.width) + "+h*.2+" + 'px'",200),setTimeout("__zoomed_div_style__.width = parseInt(__zoomed_div_style__.width) + "+h*.2+" + 'px'",250),setTimeout("__zoomed_div_style__.height = parseInt(__zoomed_div_style__.height) + "+i*.2+" + 'px'",50),setTimeout("__zoomed_div_style__.height = parseInt(__zoomed_div_style__.height) + "+i*.2+" + 'px'",100),setTimeout("__zoomed_div_style__.height = parseInt(__zoomed_div_style__.height) + "+i*.2+" + 'px'",150),setTimeout("__zoomed_div_style__.height = parseInt(__zoomed_div_style__.height) + "+i*.2+" + 'px'",200),setTimeout("__zoomed_div_style__.height = parseInt(__zoomed_div_style__.height) + "+i*.2+" + 'px'",250),setTimeout("__zoomed_img_style__.left = "+j*.8+" + 'px'",50),setTimeout("__zoomed_img_style__.left = "+j*.6+" + 'px'",100),setTimeout("__zoomed_img_style__.left = "+j*.4+" + 'px'",150),setTimeout("__zoomed_img_style__.left = "+j*.2+" + 'px'",200),setTimeout("__zoomed_img_style__.left = 0",250),setTimeout("__zoomed_img_style__.top = "+k*.8+" + 'px'",50),setTimeout("__zoomed_img_style__.top = "+k*.6+" + 'px'",100),setTimeout("__zoomed_img_style__.top = "+k*.4+" + 'px'",150),setTimeout("__zoomed_img_style__.top = "+k*.2+" + 'px'",200),setTimeout("__zoomed_img_style__.top = 0",250),c.ondblclick=null},p.onmousedown=function(a){a=RGraph.FixEventObject(a);var b=a.target.parentNode,c=b.childNodes[0];return a.button==0||a.button==1?(b.__offsetx__=a.offsetX+c.offsetLeft,b.__offsety__=a.offsetY+c.offsetTop,RGraph.Registry.Set("chart.mousedown",b),RGraph.Registry.Set("chart.button",0)):(c.__startx__=a.pageX,c.__starty__=a.pageY,c.__originalx__=c.offsetLeft,c.__originaly__=c.offsetTop,RGraph.Registry.Set("chart.mousedown",c),RGraph.Registry.Set("chart.button",2),window.oncontextmenu=function(a){return a=RGraph.FixEventObject(a),a.stopPropagation(),window.oncontextmenu=function(a){return!0},!1}),a.stopPropagation(),!1},window.onmouseup=function(a){RGraph.Registry.Set("chart.mousedown",!1)},window.onmousemove=function(a){if(RGraph.Registry.Get("chart.mousedown")&&RGraph.Registry.Get("chart.button")==0){var b=RGraph.Registry.Get("chart.mousedown"),c=a.pageX-b.__offsetx__,d=a.pageY-b.__offsety__;b.style.left=c+"px",b.style.top=d+"px"}else if(RGraph.Registry.Get("chart.mousedown")&&RGraph.Registry.Get("chart.button")==2){var e=RGraph.Registry.Get("chart.mousedown"),c=e.__originalx__+a.pageX-e.__startx__,d=e.__originaly__+a.pageY-e.__starty__;e.style.left=c+"px",e.style.top=d+"px"}};var q=RGraph.Registry.Get("chart.zoomed.area.divs");typeof q=="object"?q.push(p):RGraph.Registry.Set("chart.zoomed.area.divs",[p]);var r=document.createElement("DIV");r.style.position="fixed",r.style.zIndex=98,r.style.top=0,r.style.left=0,r.style.backgroundColor="#999",r.style.opacity=0,r.style.width=screen.width+100+"px",r.style.height=screen.height+100+"px",document.body.appendChild(r),r.onclick=function(a){p.style.display="none",r.style.display="none",p=null,r=null},setTimeout(function(){p.style.opacity=.2},50),setTimeout(function(){p.style.opacity=.4},100),setTimeout(function(){p.style.opacity=.6},150),setTimeout(function(){p.style.opacity=.8},200),setTimeout(function(){p.style.opacity=1},250),setTimeout(function(){p.style.left=g[0]+h-l*n*.1+"px"},50),setTimeout(function(){p.style.left=g[0]+h-l*n*.2+"px"},100),setTimeout(function(){p.style.left=g[0]+h-l*n*.3+"px"},150),setTimeout(function(){p.style.left=g[0]+h-l*n*.4+"px"},200),setTimeout(function(){p.style.left=g[0]+h-l*n*.5+"px"},250),setTimeout(function(){p.style.top=g[1]+i-m*n*.1+"px"},50),setTimeout(function(){p.style.top=g[1]+i-m*n*.2+"px"},100),setTimeout(function(){p.style.top=g[1]+i-m*n*.3+"px"},150),setTimeout(function(){p.style.top=g[1]+i-m*n*.4+"px"},200),setTimeout(function(){p.style.top=g[1]+i-m*n*.5+"px"},250),setTimeout(function(){p.style.width=l+l*n*.2+"px"},50),setTimeout(function(){p.style.width=l+l*n*.4+"px"},100),setTimeout(function(){p.style.width=l+l*n*.6+"px"},150),setTimeout(function(){p.style.width=l+l*n*.8+"px"},200),setTimeout(function(){p.style.width=l+l*n*1+"px"},250),setTimeout(function(){p.style.height=m+m*n*.2+"px"},50),setTimeout(function(){p.style.height=m+m*n*.4+"px"},100),setTimeout(function(){p.style.height=m+m*n*.6+"px"},150),setTimeout(function(){p.style.height=m+m*n*.8+"px"},200),setTimeout(function(){p.style.height=m+m*n*1+"px"},250),setTimeout(function(){r.style.opacity=.1},50),setTimeout(function(){r.style.opacity=.2},100),setTimeout(function(){r.style.opacity=.3},150),setTimeout(function(){r.style.opacity=.4},200),setTimeout(function(){r.style.opacity=.5},250),RGraph.Registry.Set("chart.zoomed.area.bg",r),RGraph.Registry.Set("chart.zoomed.area.img",o),RGraph.Registry.Set("chart.zoomed.area.div",p),RGraph.Registry.Set("chart.zoomed.area.mousedown",null)}RGraph.FireCustomEvent(e,"onzoom")},b.onmouseout=function(a){RGraph.Registry.Set("chart.zoomed.area.areadiv",null),RGraph.Registry.Set("chart.zoomed.area.mousedown",null),RGraph.Registry.Set("chart.zoomed.area.div",null)}}},RGraph.ShowZoomWindow=function(a){a.Get("chart.zoom.mode")=="thumbnail"&&RGraph.ZoomWindow(a.canvas),a.Get("chart.zoom.mode")=="area"&&RGraph.ZoomArea(a)},RGraph.ZoomWindow=function(a){ZoomWindow_mousemove=function(a){a=RGraph.FixEventObject(a);var b=a.target.__object__,c=b.canvas,d=b.context,e=RGraph.getMouseXY(a);if(!RGraph.Registry.Get("chart.zoomed.div")){var f=document.createElement("div");f.className="RGraph_zoom_window",f.style.width=b.Get("chart.zoom.thumbnail.width")+"px",f.style.height=b.Get("chart.zoom.thumbnail.height")+"px",f.style.position="absolute",f.style.overflow="hidden",f.style.backgroundColor="white",f.style.left="-1000px",f.style.top="-1000px",f.style.borderRadius=f.style.MozBorderRadius=f.style.WebkitBorderRadius="5px",b.Get("chart.zoom.shadow")&&(f.style.boxShadow=f.style.MozBoxShadow=f.style.WebkitBoxShadow="rgba(0,0,0,0.5) 0 0 15px"),f.__object__=b,document.body.appendChild(f);var g=document.createElement("img");g.width=b.canvas.width*b.Get("chart.zoom.factor"),g.height=b.canvas.height*b.Get("chart.zoom.factor"),g.style.position="relative",g.style.backgroundColor="white",g.__object__=b,f.appendChild(g),RGraph.Registry.Set("chart.zoomed.div",f),RGraph.Registry.Set("chart.zoomed.img",g),setTimeout("RGraph.Registry.Get('chart.zoomed.div').__object__.canvas.onmouseover()",5)}else f=RGraph.Registry.Get("chart.zoomed.div"),g=RGraph.Registry.Get("chart.zoomed.img");g.src=c.toDataURL(),f&&f.style.opacity<1&&setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 1",400);var h=RGraph.getCanvasXY(b.canvas),i=h[0],j=h[1],k=7;b.Get("chart.zoom.thumbnail.fixed")?(f.style.left=i+b.Get("chart.gutter.left")+5+"px",f.style.top=j+b.Get("chart.gutter.top")+5+"px"):(f.style.left=a.pageX-b.Get("chart.zoom.thumbnail.width")-k+"px",f.style.top=a.pageY-b.Get("chart.zoom.thumbnail.height")-k+"px");var l=b.Get("chart.zoom.thumbnail.width")/2-e[0]*b.Get("chart.zoom.factor"),m=b.Get("chart.zoom.thumbnail.height")/2-e[1]*b.Get("chart.zoom.factor");g.style.left=l+b.Get("chart.zoom.thumbnail.width")/2*b.Get("chart.zoom.factor")+"px",g.style.top=m+b.Get("chart.zoom.thumbnail.height")/2*b.Get("chart.zoom.factor")+"px",b.Get("chart.zoom.thumbnail.fixed")&&(g.style.left=l+b.Get("chart.zoom.factor")+"px",g.style.top=m+b.Get("chart.zoom.factor")+"px"),RGraph.FireCustomEvent(b,"onzoom")},ZoomWindow_mouseover=function(a){var b=RGraph.Registry.Get("chart.zoomed.div");if(!b)return;if(b&&RGraph.Registry.Get("chart.zoomed.div").__object__.Get("chart.zoom.thumbnail.fixed"))return;var c=b.__object__,d=c.Get("chart.zoom.thumbnail.width"),e=c.Get("chart.zoom.thumbnail.height");b.style.width=0,b.style.height=0,c.Get("chart.zoom.fade.in")?(RGraph.Registry.Get("chart.zoomed.div").style.opacity=.2,setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.1",25),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.2",50),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.3",75),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.4",100),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.5",125),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.6",150),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.7",175),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.8",200),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.9",225),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 1.0",250)):setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 1",1),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.1+"px'",25),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.2+"px'",50),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.3+"px'",75),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.4+"px'",100),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.5+"px'",125),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.6+"px'",150),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.7+"px'",175),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.8+"px'",200),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*.9+"px'",225),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.width = '"+d*1+"px'",250),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.1+"px'",25),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.2+"px'",50),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.3+"px'",75),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.4+"px'",100),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.5+"px'",125),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.6+"px'",150),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.7+"px'",175),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.8+"px'",200),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*.9+"px'",225),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.height = '"+e*1+"px'",250)},ZoomWindow_mouseout=function(a){var b=RGraph.Registry.Get("chart.zoomed.div");b&&b.__object__.Get("chart.zoom.fade.out")&&!b.__object__.Get("chart.zoom.thumbnail.fixed")?(RGraph.Registry.Get("chart.zoomed.div").style.opacity=.8,setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.6",100),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.4",200),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0.2",300),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.opacity = 0",400),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.left = '-400px'",400),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.top = '-400px'",400)):b.__object__.Get("chart.zoom.thumbnail.fixed")||RGraph.Registry.Get("chart.zoomed.div")&&(setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.left = '-400px'",1),setTimeout("RGraph.Registry.Get('chart.zoomed.div').style.top = '-400px'",41))}},RGraph.Zoom=function(a){a=RGraph.FixEventObject(a);if(a&&a.target&&a.target.__canvas__)var b=a.target.__canvas__;else if(a&&a.target&&a.target.__object__){var b=a.target.__object__.canvas;a.stopPropagation()}if(!b){var c=RGraph.Registry.Get("chart.contextmenu").__canvas__;if(c)var b=c}var d=b.getContext("2d"),e=b.__object__,f=b.toDataURL(),g=b,h=RGraph.getCanvasXY(b),i=e.Get("chart.zoom.factor")-1,j=h[0],k=h[1],l=document.createElement("img");l.className="RGraph_zoomed_canvas",l.style.border="3px solid gray",l.style.width=b.width+"px",l.style.height=b.height+"px",l.style.position="absolute",l.style.left=j+"px",l.style.top=k+"px",l.style.backgroundColor="white",l.style.opacity=e.Get("chart.zoom.fade.in")?0:1,l.style.zIndex=99,l.src=f,document.body.appendChild(l),__zoomedimage__=l,__zoomedimage__.obj=e,l.onclick=function(a){return a=RGraph.FixEventObject(a),a.stopPropagation(),!1},setTimeout(function(){window.onclick=RGraph.HideZoomedCanvas},1);var m=parseInt(b.width),n=parseInt(b.height),o=e.Get("chart.zoom.frames"),p=e.Get("chart.zoom.delay");if(e.Get("chart.zoom.hdir")=="center")for(var q=1;q<=o;++q){var r=m*i*(q/o)+m,s=j+b.width,t=j+b.width/2-r/2;setTimeout("__zoomedimage__.style.width = '"+String(r)+"px'; __zoomedimage__.style.left = '"+t+"px'",q*p)}else if(e.Get("chart.zoom.hdir")=="left")for(var q=1;q<=o;++q){var r=m*i*(q/o)+m,s=j+b.width,t=s-r;setTimeout("__zoomedimage__.style.width = '"+String(r)+"px'; __zoomedimage__.style.left = '"+t+"px'",q*p)}else for(var q=1;q<=o;++q){var r=m*i*(q/o)+m;setTimeout("__zoomedimage__.style.width = '"+String(r)+"px'",q*p)}if(e.Get("chart.zoom.vdir")=="up")for(var q=1;q<=o;++q){var u=n*i*(q/o)+n,v=k+b.height,w=v-u;setTimeout("__zoomedimage__.style.height = '"+String(u)+"px'; __zoomedimage__.style.top = '"+w+"px'",q*p)}else if(e.Get("chart.zoom.vdir")=="center")for(var q=1;q<=o;++q){var u=n*i*(q/o)+n,v=k+b.height/2+u/2,w=v-u;setTimeout("__zoomedimage__.style.height = '"+String(u)+"px'; __zoomedimage__.style.top = '"+w+"px'",q*p)}else for(var q=1;q<=o;++q)setTimeout("__zoomedimage__.style.height = '"+String(n*i*(q/o)+n)+"px'",q*p);if(e.Get("chart.zoom.fade.in"))for(var q=1;q<=o;++q)setTimeout("__zoomedimage__.style.opacity = "+Number(q/o),q*(p/2));if(e.Get("chart.zoom.shadow"))for(var q=1;q<=o;++q)setTimeout("__zoomedimage__.style.boxShadow = 'rgba(128,128,128,"+Number(q/o)/2+") 0 0 15px'",q*p),setTimeout("__zoomedimage__.style.MozBoxShadow = 'rgba(128,128,128,"+Number(q/o)/2+") 0 0 15px'",q*p),setTimeout("__zoomedimage__.style.WebkitBoxShadow = 'rgba(128,128,128,"+Number(q/o)/2+") 0 0 15px'",q*p);if(e.Get("chart.zoom.background")){var x=document.createElement("DIV");x.style.backgroundColor="#999",x.style.opacity=0,x.style.position="fixed",x.style.top=0,x.style.left=0,x.style.width=screen.width+100+"px",x.style.height=screen.height+100+"px",x.style.zIndex=98,x.oncontextmenu=function(a){return RGraph.HideZoomedCanvas(a)},x.origHeight=x.style.height,document.body.appendChild(x),__zoomedbackground__=x;for(var q=1;q<=o;++q)setTimeout("__zoomedbackground__.style.opacity = "+Number(q/o)*.5,q*(p/2))}RGraph.FireCustomEvent(e,"onzoom")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.CornerGauge=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="cornergauge",this.min=b,this.max=c,this.value=d,this.angles={},this.angles.needle=[],this.centerpin={},this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();if(typeof this.value=="object")for(var e=0;e<this.value.length;++e)this.value[e]>this.max&&(this.value[e]=c),this.value[e]<this.min&&(this.value[e]=b);else this.value>this.max&&(this.value=c),this.value<this.min&&(this.value=b);RGraph.OldBrowserCompat(this.context),this.properties={"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.strokestyle":"black","chart.linewidth":2,"chart.title":"","chart.text.font":"Arial","chart.text.color":"#666","chart.text.size":10,"chart.background.gradient.color1":"#ddd","chart.background.gradient.color2":"white","chart.shadow":!0,"chart.shadow.color":"gray","chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.resizable":!1,"chart.chart.resize.handle.background":null,"chart.adjustable":!1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.colors.ranges":null,"chart.red.start":b+.9*(this.max-b),"chart.green.end":b+.7*(this.max-b),"chart.red.color":"red","chart.yellow.color":"yellow","chart.green.color":"#0f0","chart.value.text":!0,"chart.value.text.units.pre":"","chart.value.text.units.post":"","chart.value.text.boxed":!0,"chart.value.text.font":"Arial","chart.value.text.size":null,"chart.value.text.bold":!1,"chart.value.text.decimals":0,"chart.centerpin.stroke":"transparent","chart.centerpin.fill":null,"chart.centerpin.color":"blue","chart.needle.colors":["#ccc","#D5604D","red","green","yellow"],"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0},RGraph.Register(this)},RGraph.CornerGauge.prototype.Set=function(a,b){this.properties[a]=b},RGraph.CornerGauge.prototype.Get=function(a){return this.properties[a]},RGraph.CornerGauge.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.properties["chart.gutter.left"],this.gutterRight=this.properties["chart.gutter.right"],this.gutterTop=this.properties["chart.gutter.top"],this.gutterBottom=this.properties["chart.gutter.bottom"],this.radius=Math.min(this.canvas.width-this.gutterLeft-this.gutterRight,this.canvas.height-this.gutterTop-this.gutterBottom),typeof this.properties["chart.radius"]=="number"&&(this.radius=this.properties["chart.radius"]),this.centerx=this.canvas.width/2-this.radius/2+Math.max(30,this.radius*.1),this.centery=this.canvas.height/2+this.radius/2-this.radius*.1,typeof this.properties["chart.centerx"]=="number"&&(this.centerx=this.properties["chart.centerx"]),typeof this.properties["chart.centery"]=="number"&&(this.centery=this.properties["chart.centery"]),this.DrawBackGround(),this.DrawTickmarks(),this.DrawColorBands(),this.DrawLabel(),this.DrawLabels();if(typeof this.value=="object")for(var a=0;a<this.value.length;++a)this.DrawNeedle(a,this.value[a],this.radius-65);else this.DrawNeedle(0,this.value,this.radius-65);this.DrawCenterpin(),this.properties["chart.contextmenu"]&&RGraph.ShowContext(this),this.properties["chart.resizable"]&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.CornerGauge.prototype.DrawBackGround=function(){this.properties["chart.shadow"]&&RGraph.SetShadow(this,this.properties["chart.shadow.color"],this.properties["chart.shadow.offsetx"],this.properties["chart.shadow.offsety"],this.properties["chart.shadow.blur"]),this.context.strokeStyle=this.properties["chart.strokestyle"],this.context.lineWidth=this.properties["chart.linewidth"]?this.properties["chart.linewidth"]:1e-4,this.context.beginPath(),this.context.arc(this.centerx,this.centery,30,0,TWOPI,!1),this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.centerx-20,this.centery+20),this.context.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),this.context.closePath(),this.context.fill(),this.context.stroke(),RGraph.NoShadow(this),this.context.strokeStyle=this.properties["chart.strokestyle"],this.context.lineWidth=this.properties["chart.linewidth"]?this.properties["chart.linewidth"]:1e-4,this.context.beginPath(),this.context.moveTo(this.centerx-20,this.centery+20),this.context.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),this.context.closePath(),this.context.stroke(),RGraph.NoShadow(this),this.context.lineWidth=0,this.context.fillStyle=RGraph.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,this.radius*.5,this.properties["chart.background.gradient.color1"],this.properties["chart.background.gradient.color2"]),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,30,0,TWOPI,0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.moveTo(this.centerx-20,this.centery+20),this.context.lineTo(this.centerx-20,this.centery+20-this.radius),this.context.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),this.context.closePath(),this.context.fill()},RGraph.CornerGauge.prototype.DrawNeedle=function(a,b,c){var d=RGraph.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,20,"transparent",this.properties["chart.needle.colors"][a]);this.angles.needle[a]=(b-this.min)/(this.max-this.min)*HALFPI+PI+HALFPI,this.context.lineWidth=1,this.context.strokeStyle="transparent",this.context.fillStyle=d,this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,10,this.angles.needle[a]-HALFPI,this.angles.needle[a]-HALFPI+1e-6,!1),this.context.arc(this.centerx,this.centery,c-30,this.angles.needle[a],this.angles.needle[a]+1e-6,!1),this.context.arc(this.centerx,this.centery,10,this.angles.needle[a]+HALFPI,this.angles.needle[a]+HALFPI+1e-6,!1),this.context.stroke(),this.context.fill()},RGraph.CornerGauge.prototype.DrawCenterpin=function(){this.properties["chart.centerpin.fill"]||(this.properties["chart.centerpin.fill"]=RGraph.RadialGradient(this,this.centerx+5,this.centery-5,0,this.centerx+5,this.centery-5,20,"white",this.properties["chart.centerpin.color"])),this.context.strokeStyle=this.properties["chart.centerpin.stroke"],this.context.fillStyle=this.properties["chart.centerpin.fill"],this.context.beginPath(),this.context.lineWidth=2,this.context.arc(this.centerx,this.centery,15,0,TWOPI,!1),this.context.stroke(),this.context.fill()},RGraph.CornerGauge.prototype.DrawLabels=function(){var a=5;this.context.fillStyle=this.properties["chart.text.color"];for(var b=0;b<a;++b){this.context.beginPath();var c=Number(this.min+(this.max-this.min)*(b/(a-1))).toFixed(this.properties["chart.scale.decimals"]);c=RGraph.number_format(this,c,this.properties["chart.units.pre"],this.properties["chart.units.post"]);var d=b*22.5/(180/PI);RGraph.Text(this.context,this.properties["chart.text.font"],this.properties["chart.text.size"],this.centerx+Math.sin(d)*(this.radius-53),this.centery-Math.cos(d)*(this.radius-53),String(c),"top","center",null,90*(b/(a-1))),this.context.fill()}},RGraph.CornerGauge.prototype.DrawTickmarks=function(){var a=5,b=25;for(var c=0;c<b;++c){this.context.beginPath();var d=HALFPI/(b-1)*c;this.context.lineWidth=1,this.context.arc(this.centerx,this.centery,this.radius-44,PI+HALFPI+d,PI+HALFPI+d+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-46,PI+HALFPI+d,PI+HALFPI+d+1e-4,!1),this.context.stroke()}for(var c=0;c<a;++c){this.context.beginPath();var d=HALFPI/(a-1)*c;this.context.lineWidth=1,this.context.arc(this.centerx,this.centery,this.radius-43,PI+HALFPI+d,PI+HALFPI+d+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-47,PI+HALFPI+d,PI+HALFPI+d+1e-4,!1),this.context.stroke()}},RGraph.CornerGauge.prototype.DrawColorBands=function(){if(RGraph.is_array(this.Get("chart.colors.ranges"))){var a=this.Get("chart.colors.ranges");for(var b=0;b<a.length;++b)this.context.fillStyle=a[b][2],this.context.lineWidth=0,this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5,(a[b][0]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),(a[b][1]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),!1),this.context.arc(this.centerx,this.centery,this.radius-54-10-this.Get("chart.text.size")*1.5,(a[b][1]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),(a[b][0]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),!0),this.context.closePath(),this.context.fill();return}this.context.strokeStyle=this.Get("chart.green.color"),this.context.fillStyle=this.Get("chart.green.color");var c=PI+HALFPI,d=c+(TWOPI-c)*((this.Get("chart.green.end")-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5,c,d,!1),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5-10,d,c,!0),this.context.fill(),this.context.strokeStyle=this.Get("chart.yellow.color"),this.context.fillStyle=this.Get("chart.yellow.color");var e=d,f=(this.Get("chart.red.start")-this.min)/(this.max-this.min)*HALFPI+PI+HALFPI;this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5,e,f,!1),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5-10,f,e,!0),this.context.fill(),this.context.strokeStyle=this.Get("chart.red.color"),this.context.fillStyle=this.Get("chart.red.color");var g=f,h=TWOPI;this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5,g,h,!1),this.context.arc(this.centerx,this.centery,this.radius-54-this.Get("chart.text.size")*1.5-10,h,g,!0),this.context.fill()},RGraph.CornerGauge.prototype.DrawLabel=function(){if(this.properties["chart.value.text"]){this.context.strokeStyle=this.properties["chart.text.color"],this.context.fillStyle=this.properties["chart.text.color"];var a=typeof this.value=="number"?this.value.toFixed(this.properties["chart.value.text.decimals"]):this.value;if(typeof a=="object"){for(var b=0;b<a.length;++b)a[b]=Number(a[b]).toFixed(this.properties["chart.value.text.decimals"]);a=a.toString()}this.context.beginPath(),RGraph.Text(this.context,this.properties["chart.value.text.font"],typeof this.properties["chart.value.text.size"]=="number"?this.properties["chart.value.text.size"]:this.properties["chart.text.size"],this.centerx+Math.cos(PI/180*45)*(this.radius/3),this.centery-Math.sin(PI/180*45)*(this.radius/3),RGraph.number_format(this,String(a),this.properties["chart.value.text.units.pre"],this.properties["chart.value.text.units.post"]),"center","center",this.properties["chart.value.text.boxed"]?!0:!1,null,null,this.properties["chart.value.text.bold"]),this.context.fill()}},RGraph.CornerGauge.prototype.getShape=function(a){},RGraph.CornerGauge.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=b[0],d=b[1],e=RGraph.getAngleByXY(this.centerx,this.centery,c,d);if(e>TWOPI&&e<PI+HALFPI)return null;var f=(e-(PI+HALFPI))/(TWOPI-(PI+HALFPI))*(this.max-this.min);return f=f+this.min,f<this.min&&(f=this.min),f>this.max&&(f=this.max),c>this.centerx&&d>this.centery&&(f=this.max),f},RGraph.CornerGauge.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.centerx-5&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+5&&RGraph.getHypLength(this.centerx,this.centery,b[0],b[1])<=this.radius)return this},RGraph.CornerGauge.prototype.Adjusting_mousemove=function(a){RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(a),RGraph.Clear(this.canvas),RGraph.RedrawCanvas(this.canvas),RGraph.FireCustomEvent(this,"onadjust"))},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Fuel=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="fuel",this.isRGraph=!0,this.min=b,this.max=c,this.value=d,this.angles={},this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context);if(!this.canvas){alert("[FUEL] No canvas support");return}var e=this.context.createLinearGradient(0,0,this.canvas.width,0);e.addColorStop(0,"white"),e.addColorStop(1,"red"),this.properties={"chart.colors":[e],"chart.needle.color":"red","chart.gutter.left":5,"chart.gutter.right":5,"chart.gutter.top":5,"chart.gutter.bottom":5,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.background":null,"chart.icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAfCAYAAAD0ma06AAAEGElEQVRIS7VXSyhtYRT+jnfe5FEMjAwUBiQGHikzRWIkkgy8YyDK+xnJK5JCeZSUGKBMiAyYkMxMJAMpSfJ+2/d8695/33NunSPnHqt2Z5+91/9///et9a/1b8Pn56dmMBhg/IWDgwNoNzc38PHxkXtN0+Tiexp9eH18fIDj1Bj63N/fw8vLS/wsmcHoqKmXT09PuL29RVFREU5OTvTJ6UIAgioQ+vLe09MTb29v8PX1RWBgICYnJ+XXIqDRWXN0dJT3nIDsWlpadP+lpSWZlD4KmL/8//7+Ls/S09N1/7y8PISHh+sK/QssDJWcHEyGCnB1dRUDAwPIzMzUx5GpAnZ1dcXy8jK2trbM5j06OsLc3JzISx8q4OzsLOOsAq6treHg4AAeHh4WJbq7u0Nzc7P+PiYmBnt7ezg9PcXExAQCAgLg5OSEx8dHuLu7Wwfc3t7G/v6+yEcjO8rIROGKaWdnZ+jr6zMDjI6OxvT0tDzr6uqS2KtksspwZ2cHjY2NuqSUhnHmilUCraysmElaWloKJpQCjI2NRX5+Pl5eXr6WlCv08/MTEMVOZDH+Zzw4CdlfX1/rDHt7ezE1NQXGkcYEKi4ulkVKYlpLGouBs/JiaGgIZL25uSlecXFxohAz/ccAz8/P4e/vj7q6Ojw8PMje5DNRy94MQ0JCUFtbK2wqKipE+sHBQbi4uPwMQ86ak5ODxMREVFdXIywsDCUlJRJDXnZlmJqaip6eHuTm5kqikGlycjIyMjL+ZrY9JSUgMzQiIgINDQ2ypaqqqkCZWXHsnjQEHB8fR0pKigAxabq7uyWOlJNxtLukTJDs7GxUVlZKDNl5oqKi8Pr6+jOAIyMjiI+Pl5JGQG4F1Qy+LN7f3fiUdGZmBsHBwRgbG8Pw8LD01ba2NmlX0rTtnTQLCwvSjEdHR3FxcSExLCwsRGRkpBR9vePzeMDyw3bT1NT0XXLiT4a7u7s4Pj4GGzd7K8GCgoKEsRR8I4Cm6hwHXV5eiv62GAE5npMTmFuBTCkzmzT7qs5Q9TlW/o6ODlvwhCHPM5SVPZIxYzNeXFxEa2srvL29YTC2GI3aMm3Zeq6urv4LMC0tDRsbG1K8k5KS9DgS0IwhKVFjSsJA22r9/f0oKCgQdvPz83JEmZ2dlcpD9maSshow0KZnlO8Csx9yK3BLKCMJPpf2xGMigdi9WXooaWdn53dxdP+amhrZh4eHh1hfX5cTW319vZyBnp+ffzNkBWBmhYaGysB/j322oCckJCArK0uGMlsJ5ubmBoPxRiMzFlomjr2MGdne3i5ANILRJEtJt6ysTG8h9gDl4am8vFwSUWron1O9LulXIOqk9pWftfdSS40yyj5Uh101wPRryuR7R1ZMX/U1pfy5IF40xcgUnGAc9wsGYxsFhy87kwAAAABJRU5ErkJggg=="
,"chart.icon.redraw":!0,"chart.background.image.stretch":!1,"chart.background.image.x":null,"chart.background.image.y":null,"chart.labels.full":"F","chart.labels.empty":"E","chart.labels.count":5,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.scale.visible":!1,"chart.scale.decimals":0,"chart.units.pre":"","chart.units.post":""},this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),RGraph.Register(this)},RGraph.Fuel.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Fuel.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Fuel.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=this.canvas.height-20-this.gutterBottom,this.radius=this.canvas.height-this.gutterTop-this.gutterBottom-20,typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius")),this.angles.start=PI+HALFPI-.5,this.angles.end=PI+HALFPI+.5,this.angles.needle=(this.value-this.min)/(this.max-this.min)*(this.angles.end-this.angles.start)+this.angles.start,this.DrawLabels(),this.DrawChart(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Fuel.prototype.DrawChart=function(){var a=this.context,b=this.canvas;this.DrawScale(),RGraph.isOld()||this.DrawIcon(),this.DrawNeedle()},RGraph.Fuel.prototype.DrawLabels=function(){if(!this.properties["chart.scale.visible"]){var a=this.radius-20;this.context.fillStyle=this.Get("chart.text.color");var b=this.centery-Math.sin(this.angles.start-PI)*(this.radius-25),c=this.centerx-Math.cos(this.angles.start-PI)*(this.radius-25);RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),c,b,this.Get("chart.labels.empty"),"center","center");var b=this.centery-Math.sin(this.angles.start-PI)*(this.radius-25),c=this.centerx+Math.cos(this.angles.start-PI)*(this.radius-25);RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),c,b,this.Get("chart.labels.full"),"center","center")}},RGraph.Fuel.prototype.DrawNeedle=function(){this.context.beginPath(),this.context.lineWidth=5,this.context.lineCap="round",this.context.strokeStyle=this.Get("chart.needle.color");var a=this.angles.needle;this.context.arc(this.centerx,this.centery,this.radius-30,a,a+1e-4,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke(),this.context.lineWidth=1;var b=this.centerx+10,c=this.centery-10,d=this.context.createRadialGradient(b,c,35,b,c,0);d.addColorStop(0,"black"),d.addColorStop(1,"#eee"),navigator.userAgent.indexOf("Firefox/6.0")>0&&(d=this.context.createLinearGradient(b+10,c-10,b-10,c+10),d.addColorStop(1,"#666"),d.addColorStop(.5,"#ccc")),this.context.beginPath(),this.context.fillStyle=d,this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,20,0,TWOPI,0),this.context.fill()},RGraph.Fuel.prototype.DrawScale=function(){var a,b,c;this.context.beginPath(),this.context.strokeStyle="black",this.context.fillStyle="white",this.context.arc(this.centerx,this.centery,this.radius,this.angles.start,this.angles.end,!1),this.context.arc(this.centerx,this.centery,this.radius-10,this.angles.end,this.angles.start,!0),this.context.closePath(),this.context.stroke(),this.context.fill();var d=this.angles.start,e=this.angles.needle;this.context.beginPath(),this.context.fillStyle=this.Get("chart.colors")[0],this.context.arc(this.centerx,this.centery,this.radius,d,e,!1),this.context.arc(this.centerx,this.centery,this.radius-10,e,d,!0),this.context.closePath(),this.context.fill();for(a=this.angles.start;a<=this.angles.end+.01;a+=(this.angles.end-this.angles.start)/5)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10,a,a+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-15,a+1e-4,a,!0),this.context.stroke();if(this.properties["chart.scale.visible"]){this.context.fillStyle=this.properties["chart.text.color"];var f=this.properties["chart.labels.count"],g=this.properties["chart.scale.decimals"],h=this.properties["chart.text.font"],i=this.properties["chart.text.size"],j=this.properties["chart.units.post"],k=this.properties["chart.units.pre"];for(var l=0;l<=f;++l)a=(this.angles.end-this.angles.start)*(l/f)+this.angles.start,c=this.centery-Math.sin(a-PI)*(this.radius-25),b=this.centerx-Math.cos(a-PI)*(this.radius-25),RGraph.Text(this.context,h,i,b,c,RGraph.number_format(this,(this.min+(this.max-this.min)*(l/f)).toFixed(g),k,j),"center","center")}},RGraph.Fuel.prototype.getShape=function(a){},RGraph.Fuel.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getAngleByXY(this.centerx,this.centery,b[0],b[1]);if(c>=this.angles.end)return this.max;if(c<=this.angles.start)return this.min;var d=(c-this.angles.start)/(this.angles.end-this.angles.start);return d=d*(this.max-this.min),d=d+this.min,d},RGraph.Fuel.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getAngleByXY(this.centerx,this.centery,b[0],b[1]),d=15,e=this.centerx-this.radius,f=this.centerx+this.radius,g=this.centery-this.radius,h=this.centery+this.radius;if(b[0]>e&&b[0]<f&&b[1]>g&&b[1]<h)return this},RGraph.Fuel.prototype.DrawIcon=function(){if(!RGraph.isOld()){var a=new Image;a.src=this.Get("chart.icon"),a.__object__=this,this.__icon__=a,a.onload=function(b){var c=a.__object__;c.context.drawImage(a,c.centerx-a.width/2,c.centery-c.radius+35),c.DrawNeedle(),c.Get("chart.icon.redraw")&&(c.Set("chart.icon.redraw",!1),RGraph.Clear(c.canvas),RGraph.RedrawCanvas(c.canvas))}}this.DrawNeedle()},RGraph.Fuel.prototype.Adjusting_mousemove=function(a){RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(a),RGraph.Clear(this.canvas),RGraph.RedrawCanvas(this.canvas),RGraph.FireCustomEvent(this,"onadjust"))},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Funnel=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="funnel",this.coords=[],this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context);if(!this.canvas){alert("[FUNNEL] No canvas support");return}this.properties={"chart.strokestyle":"transparent","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.labels":null,"chart.labels.sticks":!1,"chart.labels.x":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.colors":["red","green","gray","blue","black","gray"],"chart.text.size":10,"chart.text.boxed":!0,"chart.text.halign":"left","chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips.highlight":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.taper":!1,"chart.events.click":null,"chart.events.mousemove":null},this.data=b,RGraph.Register(this)},RGraph.Funnel.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Funnel.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Funnel.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.coords=[],RGraph.DrawTitle(this,this.Get("chart.title"),this.gutterTop,null,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2),this.DrawFunnel(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.DrawLabels(),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Funnel.prototype.DrawFunnel=function(){var a=this.context,b=this.canvas,c=this.canvas.width-this.gutterLeft-this.gutterRight,d=this.canvas.height-this.gutterTop-this.gutterBottom,e=RGraph.array_max(this.data),f=this.gutterTop;this.Get("chart.shadow")&&(a.shadowColor=this.Get("chart.shadow.color"),a.shadowBlur=this.Get("chart.shadow.blur"),a.shadowOffsetX=this.Get("chart.shadow.offsetx"),a.shadowOffsetY=this.Get("chart.shadow.offsety"));for(i=0;i<this.data.length;++i){var g=this.data[0],h=g/e*c,j=this.data[i],k=j/e*c,l=d/this.data.length,m=k/2,n=this.data[i+1],o=this.data[i+1]?n/e*c:null,p=o/2,q=this.gutterLeft+h/2,r=q-m,s=f,t=q+m,u=f,v=q+p,w=f+l,x=q-p,y=f+l;a.strokeStyle=this.Get("chart.strokestyle"),a.fillStyle=this.Get("chart.colors")[i],o&&i<this.data.length-1&&(a.beginPath(),a.moveTo(r,s),a.lineTo(t,u),a.lineTo(v,w),a.lineTo(x,y),a.closePath(),this.coords.push([r,s,t,u,v,w,x,y])),this.Get("chart.shadow")||a.stroke(),a.fill(),f+=l}if(this.Get("chart.shadow")){RGraph.NoShadow(this);for(i=0;i<this.coords.length;++i)a.strokeStyle=this.Get("chart.strokestyle"),a.fillStyle=this.Get("chart.colors")[i],a.beginPath(),a.moveTo(this.coords[i][0],this.coords[i][1]),a.lineTo(this.coords[i][2],this.coords[i][3]),a.lineTo(this.coords[i][4],this.coords[i][5]),a.lineTo(this.coords[i][6],this.coords[i][7]),a.closePath(),a.stroke(),a.fill()}this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors"))},RGraph.Funnel.prototype.DrawLabels=function(){if(this.Get("chart.labels")&&this.Get("chart.labels").length>0){var a=this.context,b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=this.Get("chart.text.color"),e=this.Get("chart.labels"),f=this.Get("chart.text.halign")=="left"?"left":"center",g=this.Get("chart.text.boxed")?"white":null;if(typeof this.Get("chart.labels.x")=="number")var h=this.Get("chart.labels.x");else var h=f=="left"?this.gutterLeft-15:(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft;for(var i=0;i<this.coords.length;++i){a.beginPath(),a.strokeStyle="black",a.fillStyle=d,RGraph.NoShadow(this);var j=e[i];RGraph.Text(a,b,c,h,this.coords[i][1],j,"center",f,this.Get("chart.text.boxed"),null,g);if(this.Get("chart.labels.sticks")){this.context.font=c+"pt "+b;var k=this.context.measureText(j).width;this.context.beginPath(),this.context.strokeStyle="gray",this.context.moveTo(h+k+10,AA(this,this.coords[i][1])),this.context.lineTo(this.coords[i][0]-10,AA(this,this.coords[i][1])),this.context.stroke()}}var l=e[i];if(l){RGraph.Text(a,b,c,h,this.coords[i-1][5],l,"center",f,this.Get("chart.text.boxed"),null,g);if(this.Get("chart.labels.sticks")){this.context.font=c+"pt "+b;var k=this.context.measureText(l).width;this.context.beginPath(),this.context.strokeStyle="gray",this.context.moveTo(h+k+10,AA(this,this.coords[i-1][7])),this.context.lineTo(this.coords[i-1][0]-10,AA(this,this.coords[i-1][7])),this.context.stroke()}}}},RGraph.Funnel.prototype.getShape=RGraph.Funnel.prototype.getSegment=function(a){var b=a.target,c=RGraph.getMouseXY(a),d=this.coords,e=c[0],f=c[1];for(i=0;i<d.length;++i)if(e>d[i][0]&&e<d[i][2]&&f>d[i][1]&&f<d[i][5]){if(e>d[i][4]){var g=d[i][2]-d[i][4],h=d[i][5]-d[i][3],j=Math.atan(h/g)*57.3,k=d[i][2]-c[0],l=c[1]-d[i][1],m=Math.atan(l/k)*57.3;if(m>j)continue}else if(e<d[i][6]){var g=d[i][6]-d[i][0],h=d[i][7]-d[i][1],j=Math.atan(h/g)*57.3,k=c[0]-d[i][0],l=c[1]-d[i][1],m=Math.atan(l/k)*57.3;if(m>j)continue}var n=RGraph.parseTooltipText(this.Get("chart.tooltips"),i);return{0:this,1:d,2:i,object:this,coords:d[i],index:i,tooltip:n}}return null},RGraph.Funnel.prototype.Highlight=function(a){if(this.Get("chart.tooltips.highlight")){var b=a.coords;this.context.beginPath(),this.context.strokeStyle=this.Get("chart.highlight.stroke"),this.context.fillStyle=this.Get("chart.highlight.fill"),this.context.moveTo(b[0],b[1]),this.context.lineTo(b[2],b[3]),this.context.lineTo(b[4],b[5]),this.context.lineTo(b[6],b[7]),this.context.closePath(),this.context.stroke(),this.context.fill()}},RGraph.Funnel.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Funnel.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__],g=f[0],h=f[1],i=f[2],j=f[3],k=f[4],l=f[5],m=f[6],n=f[7],o=i-g,p=g+o/2,q=RGraph.getCanvasXY(a.canvas),r=a.Get("chart.gutter.left"),s=a.Get("chart.gutter.top"),t=d.offsetWidth,u=d.offsetHeight;d.style.left=0,d.style.top=q[1]+h-u-7+(l-j)/2+"px",d.style.overflow="";var v=new Image;v.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",v.style.position="absolute",v.id="__rgraph_tooltip_pointer__",v.style.top=d.offsetHeight-2+"px",d.appendChild(v),q[0]+p-t/2<5?(d.style.left=q[0]+p-t*.1+"px",v.style.left=t*.1-8.5+"px"):q[0]+p+t/2>document.body.offsetWidth?(d.style.left=q[0]+p-t*.9+"px",v.style.left=t*.9-8.5+"px"):(d.style.left=q[0]+p-t/2+"px",v.style.left=t*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Gantt=function(a){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="gantt",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"white","chart.background.barcolor2":"white","chart.background.grid":!0,"chart.background.grid.width":1,"chart.background.grid.color":"#ddd","chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.hlines":!0,"chart.background.grid.vlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":7,"chart.background.grid.autofit.numvlines":20,"chart.background.vbars":[],"chart.text.size":10,"chart.text.font":"Arial","chart.text.color":"black","chart.gutter.left":75,"chart.gutter.right":25,"chart.gutter.top":35,"chart.gutter.bottom":25,"chart.labels":[],"chart.labels.align":"bottom","chart.labels.inbar":null,"chart.labels.inbar.color":"black","chart.labels.inbar.bgcolor":null,"chart.labels.inbar.align":"left","chart.labels.inbar.size":10,"chart.labels.inbar.font":"Arial","chart.labels.inbar.above":!1,"chart.vmargin":2,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.pos":null,"chart.title.yaxis.color":null,"chart.title.yaxis.position":"right","chart.events":[],"chart.borders":!0,"chart.defaultcolor":"white","chart.coords":[],"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.xmin":0,"chart.xmax":0,"chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.events.click":null,"chart.events.mousemove":null},RGraph.Register(this)},RGraph.Gantt.prototype.Set=function(a,b){a=="chart.margin"&&(a="chart.vmargin"),this.properties[a.toLowerCase()]=b},RGraph.Gantt.prototype.Get=function(a){return a=="chart.margin"&&(a="chart.vmargin"),this.properties[a.toLowerCase()]},RGraph.Gantt.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.graphArea=this.canvas.width-this.gutterLeft-this.gutterRight,this.graphHeight=this.canvas.height-this.gutterTop-this.gutterBottom,this.numEvents=this.Get("chart.events").length,this.barHeight=this.graphHeight/this.numEvents,this.halfBarHeight=this.barHeight/2,RGraph.background.Draw(this),this.DrawLabels(),this.DrawEvents(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Gantt.prototype.DrawLabels=function(){this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color");var a=this.Get("chart.labels"),b=this.graphArea/a.length,c=this.gutterLeft+b/2,d=this.gutterTop-this.Get("chart.text.size")/2-5,e=this.Get("chart.text.font"),f=this.Get("chart.text.size");this.context.strokeStyle="black",this.Get("chart.labels.align")=="bottom"&&(d=this.canvas.height-this.gutterBottom+f+2);for(g=0;g<a.length;++g)RGraph.Text(this.context,e,f,c+g*b,d,String(a[g]),"center","center");for(var g=0;g<this.Get("chart.events").length;++g){var h=this.Get("chart.events")[g],c=this.gutterLeft,d=this.gutterTop+this.halfBarHeight+g*this.barHeight;RGraph.Text(this.context,e,f,c-5,d,RGraph.is_array(h[0])?h[0][3]?String(h[0][3]):"":String(h[3]),"center","right")}},RGraph.Gantt.prototype.DrawEvents=function(){var a=this.canvas,b=this.context,c=this.Get("chart.events");this.coords=[];if(this.Get("chart.vbars"))for(i=0;i<this.Get("chart.vbars").length;++i){this.Get("chart.vbars")[i][0]+this.Get("chart.vbars")[i][1]>this.Get("chart.xmax")&&(this.Get("chart.vbars")[i][1]=364-this.Get("chart.vbars")[i][0]);var d=this.gutterLeft+(this.Get("chart.vbars")[i][0]-this.Get("chart.xmin"))/(this.Get("chart.xmax")-this.Get("chart.xmin"))*this.graphArea,e=this.gutterTop,f=this.graphArea/(this.Get("chart.xmax")-this.Get("chart.xmin"))*this.Get("chart.vbars")[i][1],g=RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom;d+f>RGraph.GetWidth(this)-this.gutterRight&&(f=RGraph.GetWidth(this)-this.gutterRight-d),b.fillStyle=this.Get("chart.vbars")[i][2],b.fillRect(d,e,f,g)}for(i=0;i<c.length;++i)if(typeof c[i][0]=="number")this.DrawSingleEvent(c[i],i);else for(var h=0;h<c[i].length;++h)this.DrawSingleEvent(c[i][h],i)},RGraph.Gantt.prototype.getShape=RGraph.Gantt.prototype.getBar=function(a){a=RGraph.FixEventObject(a);var b=a.target,c=b.getContext("2d"),d=RGraph.getMouseXY(a),e=d[0],f=d[1];for(var g=0;g<this.coords.length;g++){var h=this.coords[g][0],i=this.coords[g][1],j=this.coords[g][2],k=this.coords[g][3];if(e>=h&&e<=h+j&&f>=i&&f<=i+k){var l=RGraph.parseTooltipText(this.Get("chart.tooltips"),g);return{0:this,object:this,1:h,x:h,2:i,y:i,3:j,width:j,4:k,height:k,5:g,index:g,tooltip:l}}}},RGraph.Gantt.prototype.DrawSingleEvent=function(a,b){var c=this.Get("chart.xmin"),d=this.context;d.beginPath(),d.strokeStyle="black",d.fillStyle=a[4]?a[4]:this.Get("chart.defaultcolor");var e=this.gutterLeft+(a[0]-c)/(this.Get("chart.xmax")-c)*this.graphArea,f=this.gutterTop+b*this.barHeight,g=a[1]/(this.Get("chart.xmax")-c)*this.graphArea;e+g>this.canvas.width-this.gutterRight&&(g=this.canvas.width-this.gutterRight-e),this.coords.push([e,f+this.Get("chart.vmargin"),g,this.barHeight-2*this.Get("chart.vmargin")]);if(this.Get("chart.borders")||a[6])d.strokeStyle=typeof a[6]=="string"?a[6]:"black",d.lineWidth=typeof a[7]=="number"?a[7]:1,d.beginPath(),d.strokeRect(e,f+this.Get("chart.vmargin"),g,this.barHeight-2*this.Get("chart.vmargin"));this.context.beginPath(),d.fillRect(e,f+this.Get("chart.vmargin"),g,this.barHeight-2*this.Get("chart.vmargin")),this.context.fill();var h=a[2]/100*g;typeof a[2]=="number"&&(d.beginPath(),d.fillStyle=a[5]?a[5]:"#0c0",d.fillRect(e,f+this.Get("chart.vmargin"),a[2]/100*g,this.barHeight-2*this.Get("chart.vmargin")),d.beginPath(),d.fillStyle=this.Get("chart.text.color"),RGraph.Text(d,this.Get("chart.text.font"),this.Get("chart.text.size"),e+g+5,f+this.halfBarHeight,String(a[2])+"%","center"));if(this.Get("chart.labels.inbar")&&this.Get("chart.labels.inbar")[b]){var i=String(this.Get("chart.labels.inbar")[b]),j=this.Get("chart.labels.inbar.align")=="left"?"left":"center";j=this.Get("chart.labels.inbar.align")=="right"?"right":j;if(j=="right")var k=e+g-5;else if(j=="center")var k=e+g/2;else var k=e+5;this.Get("chart.labels.inbar.above")&&(k=e+g+5,j="left"),this.context.fillStyle=this.Get("chart.labels.inbar.color"),this.context.beginPath(),RGraph.Text(this.context,this.Get("chart.labels.inbar.font"),this.Get("chart.labels.inbar.size"),k,f+this.halfBarHeight,i,"center",j,typeof this.Get("chart.labels.inbar.bgcolor")=="string"?!0:!1,null,typeof this.Get("chart.labels.inbar.bgcolor")=="string"?this.Get("chart.labels.inbar.bgcolor"):null),this.context.fill()}},RGraph.Gantt.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.Gantt.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Gantt.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=RGraph.Registry.Get("chart.adjusting.gantt");if(b){var c=RGraph.getMouseXY(a),d=RGraph.Registry.Get("chart.adjusting.gantt").object,e=b.index,f=(c[0]-RGraph.Registry.Get("chart.adjusting.gantt").mousex)/(d.canvas.width-d.gutterLeft-d.gutterRight)*d.Get("chart.xmax"),g=RGraph.Registry.Get("chart.adjusting.gantt").event_start,h=RGraph.Registry.Get("chart.adjusting.gantt").event_duration;if(b.mode=="move")f=Math.round(f),g+f>=0&&g+f+d.Get("chart.events")[e][1]<d.Get("chart.xmax")?d.Get("chart.events")[e][0]=g+f:g+f<0?d.Get("chart.events")[e][0]=0:g+f+d.Get("chart.events")[e][1]>d.Get("chart.xmax")&&(d.Get("chart.events")[e][0]=d.Get("chart.xmax")-d.Get("chart.events")[e][1]);else if(b.mode=="resize"){c[0]>d.canvas.width-d.gutterRight&&(c[0]=d.canvas.width-d.gutterRight);var f=(c[0]-RGraph.Registry.Get("chart.adjusting.gantt").mousex)/(d.canvas.width-d.gutterLeft-d.gutterRight)*d.Get("chart.xmax");f=Math.round(f),d.Get("chart.events")[e][1]=h+f,d.Get("chart.events")[e][1]<0&&(d.Get("chart.events")[e][1]=1)}RGraph.FireCustomEvent(d,"onadjust"),RGraph.Clear(d.canvas),RGraph.RedrawCanvas(d.canvas)}}},RGraph.Gantt.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Gauge=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="gauge",this.min=b,this.max=c,this.value=d,this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();if(typeof this.value=="object")for(var e=0;e<this.value.length;++e)this.value[e]>this.max&&(this.value[e]=c),this.value[e]<this.min&&(this.value[e]=b);else this.value>this.max&&(this.value=c),this.value<this.min&&(this.value=b);RGraph.OldBrowserCompat(this.context),this.properties={"chart.angles.start":null,"chart.angles.end":null,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.border.width":10,"chart.title.top":"","chart.title.top.font":"Arial","chart.title.top.size":14,"chart.title.top.color":"#333","chart.title.top.bold":!1,"chart.title.top.pos":null,"chart.title.bottom":"","chart.title.bottom.font":"Arial","chart.title.bottom.size":14,"chart.title.bottom.color":"#333","chart.title.bottom.bold":!1,"chart.title.bottom.pos":null,"chart.text.font":"Arial","chart.text.align":"top","chart.text.x":null,"chart.text.y":null,"chart.text.color":"#666","chart.text.size":10,"chart.background.color":"white","chart.background.gradient":!1,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.value.text":!1,"chart.value.text.y.pos":.5,"chart.value.text.units.pre":null,"chart.value.text.units.post":null,"chart.red.start":.9*this.max,"chart.red.color":"#DC3912","chart.yellow.color":"#FF9900","chart.green.end":.7*this.max,"chart.green.color":"rgba(0,0,0,0)","chart.colors.ranges":null,"chart.needle.size":null,"chart.needle.tail":!1,"chart.needle.colors":["#D5604D","red","green","yellow"],"chart.needle.type":"triangle","chart.border.outer":"#ccc","chart.border.inner":"#f1f1f1","chart.border.outline":"black","chart.centerpin":!0,"chart.centerpin.color":"blue","chart.centerpin.radius":null,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tickmarks.small":25,"chart.tickmarks.small.color":"black","chart.tickmarks.medium":0,"chart.tickmarks.medium.color":"black","chart.tickmarks.big":5,"chart.tickmarks.big.color":"black","chart.labels.count":5,"chart.labels.centered":!1,"chart.labels.offset":0,"chart.border.gradient":!1,"chart.adjustable":!1,"chart.shadow":!0,"chart.shadow.color":"gray","chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15},RGraph.Register(this)},RGraph.Gauge.prototype.Set=function(a,b){a=="chart.title"&&(a="chart.title.top"),a=="chart.title.font"&&(a="chart.title.top.font"),a=="chart.title.size"&&(a="chart.title.top.size"),a=="chart.title.color"&&(a="chart.title.top.color"),a=="chart.title.bold"&&(a="chart.title.top.bold"),a=="chart.needle.color"&&(a="chart.needle.colors"),this.properties[a]=b},RGraph.Gauge.prototype.Get=function(a){return a=="chart.needle.color"&&(a="chart.needle.colors"),this.properties[a]},RGraph.Gauge.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.radius=Math.min((this.canvas.width-this.gutterLeft-this.gutterRight)/2,(this.canvas.height-this.gutterTop-this.gutterBottom)/2),this.startAngle=this.properties["chart.angles.start"]?this.properties["chart.angles.start"]:HALFPI/3+HALFPI,this.endAngle=this.properties["chart.angles.end"]?this.properties["chart.angles.end"]:TWOPI+HALFPI-HALFPI/3,typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius")),this.centerpinRadius=.16*this.radius,typeof this.Get("chart.centerpin.radius")=="number"&&(this.centerpinRadius=this.Get("chart.centerpin.radius")),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.DrawBackGround(),this.DrawGradient(),this.DrawColorBands(),this.DrawSmallTickmarks(),this.DrawMediumTickmarks(),this.DrawBigTickmarks(),this.DrawLabels(),this.DrawTopTitle(),this.DrawBottomTitle();if(typeof this.value=="object")for(var a=0;a<this.value.length;++a)this.DrawNeedle(this.value[a],this.Get("chart.needle.colors")[a],a);else this.DrawNeedle(this.value,this.Get("chart.needle.colors")[0],0);this.DrawCenterpin(),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Gauge.prototype.DrawBackGround=function(){this.Get("chart.shadow")&&RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")),this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),this.context.fill(),RGraph.NoShadow(this);var a=this.context.createRadialGradient(this.centerx+50,this.centery-50,0,this.centerx+50,this.centery-50,150);a.addColorStop(0,"#eee"),a.addColorStop(1,"white");var b=this.Get("chart.border.width");this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=this.Get("chart.border.outer"),this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=this.Get("chart.border.inner"),this.context.arc(this.centerx,this.centery,this.radius-b,0,TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=this.properties["chart.background.color"],this.context.arc(this.centerx,this.centery,this.radius-b-4,0,TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.arc(this.centerx,this.centery,this.radius-b-4,0,TWOPI,0),this.context.fill(),this.Get("chart.background.gradient")&&(this.context.beginPath(),this.context.fillStyle=RGraph.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,this.radius,"rgba(255,255,255,0.4)","rgba(255,255,255,0.1)"),this.context.arc(this.centerx,this.centery,this.radius-b-4,0,TWOPI,0),this.context.fill()),this.context.beginPath(),this.context.strokeStyle=this.Get("chart.border.outline"),this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),this.context.stroke()},RGraph.Gauge.prototype.DrawSmallTickmarks=function(){var a=this.Get("chart.tickmarks.small");this.context.lineWidth=1;for(var b=0;b<=a;++b){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.tickmarks.small.color");var c=(this.endAngle-this.startAngle)/a*b+this.startAngle;this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10,c,c+1e-5,0),this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10-5,c,c+1e-5,0),this.context.stroke()}},RGraph.Gauge.prototype.DrawMediumTickmarks=function(){if(this.Get("chart.tickmarks.medium")){var a=this.Get("chart.tickmarks.medium");this.context.lineWidth=3,this.context.lineCap="round",this.context.strokeStyle=this.Get
("chart.tickmarks.medium.color");for(var b=0;b<=a;++b){this.context.beginPath();var c=(this.endAngle-this.startAngle)/a*b+this.startAngle+(this.endAngle-this.startAngle)/(2*a);c>this.startAngle&&c<this.endAngle&&(this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10,c,c+1e-5,0),this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10-6,c,c+1e-5,0)),this.context.stroke()}}},RGraph.Gauge.prototype.DrawBigTickmarks=function(){var a=this.Get("chart.tickmarks.big");this.context.lineWidth=3,this.context.lineCap="round";for(var b=0;b<=a;++b){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.tickmarks.big.color");var c=(this.endAngle-this.startAngle)/a*b+this.startAngle;this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10,c,c+1e-5,0),this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.border.width")-10-10,c,c+1e-5,0),this.context.stroke()}},RGraph.Gauge.prototype.DrawCenterpin=function(){var a=6,b=this.context.createRadialGradient(this.centerx+a,this.centery-a,0,this.centerx+a,this.centery-a,25);b.addColorStop(0,"#ddf"),b.addColorStop(1,this.Get("chart.centerpin.color")),this.context.beginPath(),this.context.fillStyle=b,this.context.arc(this.centerx,this.centery,this.centerpinRadius,0,TWOPI,0),this.context.fill()},RGraph.Gauge.prototype.DrawLabels=function(){this.context.fillStyle=this.Get("chart.text.color");var a=this.Get("chart.text.font"),b=this.Get("chart.text.size"),c=this.Get("chart.labels.count");this.context.beginPath();for(var d=0;d<=c;++d){var e=this.radius-25-this.Get("chart.border.width")-this.properties["chart.labels.offset"],f=(this.endAngle-this.startAngle)/c;f=this.startAngle+d*f,f-=HALFPI;var g=this.centerx-Math.sin(f)*e,h=this.centery+Math.cos(f)*e,i=g>this.centerx?"right":"left",j=h>this.centery?"bottom":"top";f==HALFPI?j="center":f==PI?i="center":f==HALFPI+PI&&(j="center"),this.properties["chart.labels.centered"]&&(i="center",j="center"),RGraph.Text(this.context,a,b,g,h,RGraph.number_format(this,((this.max-this.min)*(d/c)+this.min).toFixed(this.Get("chart.scale.decimals")),this.Get("chart.units.pre"),this.Get("chart.units.post")),j,i)}this.context.fill();if(this.Get("chart.value.text")){var g=this.centerx,h=this.centery+this.Get("chart.value.text.y.pos")*this.radius,k=typeof this.Get("chart.value.text.units.pre")=="string"?this.Get("chart.value.text.units.pre"):this.Get("chart.units.pre"),l=typeof this.Get("chart.value.text.units.post")=="string"?this.Get("chart.value.text.units.post"):this.Get("chart.units.post");this.context.beginPath(),RGraph.Text(this.context,a,b+2,g,h,RGraph.number_format(this,this.value.toFixed(this.Get("chart.scale.decimals")),k,l),"center","center",!0,null,"white"),this.context.fill()}},RGraph.Gauge.prototype.DrawTopTitle=function(){var a=this.centerx,b=this.centery-25;typeof this.Get("chart.title.top.pos")=="number"&&(b=this.centery-this.radius*this.Get("chart.title.top.pos")),this.Get("chart.title.top")&&(this.context.fillStyle=this.Get("chart.title.top.color"),this.context.beginPath(),RGraph.Text(this.context,this.Get("chart.title.top.font"),this.Get("chart.title.top.size"),a,b,String(this.Get("chart.title.top")),"bottom","center",null,null,null,this.Get("chart.title.top.bold")),this.context.fill())},RGraph.Gauge.prototype.DrawBottomTitle=function(){var a=this.centerx,b=this.centery+this.centerpinRadius+10;typeof this.Get("chart.title.bottom.pos")=="number"&&(b=this.centery+this.radius*this.Get("chart.title.bottom.pos")),this.Get("chart.title.bottom")&&(this.context.fillStyle=this.Get("chart.title.bottom.color"),this.context.beginPath(),RGraph.Text(this.context,this.Get("chart.title.bottom.font"),this.Get("chart.title.bottom.size"),a,b,String(this.Get("chart.title.bottom")),"top","center",null,null,null,this.Get("chart.title.bottom.bold")),this.context.fill())},RGraph.Gauge.prototype.DrawNeedle=function(a,b,c){var d=this.Get("chart.needle.type");this.context.lineWidth=.5,this.context.strokeStyle="gray",this.context.fillStyle=b;var e=(this.endAngle-this.startAngle)*((a-this.min)/(this.max-this.min));e+=this.startAngle;if(typeof this.Get("chart.needle.size")=="object"&&this.Get("chart.needle.size")&&typeof this.Get("chart.needle.size")[c]=="number")var f=this.Get("chart.needle.size")[c];else if(typeof this.Get("chart.needle.size")=="number")var f=this.Get("chart.needle.size");else var f=this.radius-25-this.Get("chart.border.width");d=="line"?(this.context.beginPath(),this.context.lineWidth=7,this.context.strokeStyle=b,this.context.arc(this.centerx,this.centery,f,e,e+1e-4,!1),this.context.lineTo(this.centerx,this.centery),this.Get("chart.needle.tail")&&this.context.arc(this.centerx,this.centery,this.radius*.2,e+PI,e+1e-5+PI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()):(this.context.beginPath(),this.context.arc(this.centerx,this.centery,f,e,e+1e-5,!1),this.context.arc(this.centerx,this.centery,this.centerpinRadius*.5,e+HALFPI,e+1e-5+HALFPI,!1),this.Get("chart.needle.tail")&&this.context.arc(this.centerx,this.centery,this.radius*.2,e+PI,e+1e-5+PI,!1),this.context.arc(this.centerx,this.centery,this.centerpinRadius*.5,e-HALFPI,e-1e-5-HALFPI,!1),this.context.stroke(),this.context.fill(),this.angle=e)},RGraph.Gauge.prototype.DrawColorBands=function(){if(RGraph.is_array(this.Get("chart.colors.ranges"))){var a=this.Get("chart.colors.ranges");for(var b=0;b<a.length;++b)this.context.fillStyle=a[b][2],this.context.lineWidth=0,this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-this.Get("chart.border.width"),(a[b][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(a[b][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!1),this.context.arc(this.centerx,this.centery,this.radius-20-this.Get("chart.border.width"),(a[b][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(a[b][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!0),this.context.closePath(),this.context.fill();return}this.context.strokeStyle=this.Get("chart.green.color"),this.context.fillStyle=this.Get("chart.green.color");var c=this.startAngle,d=this.startAngle+(this.endAngle-this.startAngle)*((this.Get("chart.green.end")-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-this.Get("chart.border.width"),c,d,!1),this.context.arc(this.centerx,this.centery,this.radius-20-this.Get("chart.border.width"),d,c,!0),this.context.fill(),this.context.strokeStyle=this.Get("chart.yellow.color"),this.context.fillStyle=this.Get("chart.yellow.color");var e=d,f=this.startAngle+(this.endAngle-this.startAngle)*((this.Get("chart.red.start")-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-this.Get("chart.border.width"),e,f,!1),this.context.arc(this.centerx,this.centery,this.radius-20-this.Get("chart.border.width"),f,e,!0),this.context.fill(),this.context.strokeStyle=this.Get("chart.red.color"),this.context.fillStyle=this.Get("chart.red.color");var g=f,h=this.startAngle+(this.endAngle-this.startAngle)*((this.max-this.min)/(this.max-this.min));this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10-this.Get("chart.border.width"),g,h,!1),this.context.arc(this.centerx,this.centery,this.radius-20-this.Get("chart.border.width"),h,g,!0),this.context.fill()},RGraph.Gauge.prototype.getShape=function(a){},RGraph.Gauge.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=b[0],d=b[1],e=RGraph.getAngleByXY(this.centerx,this.centery,c,d);e>=0&&e<=HALFPI&&(e+=TWOPI);var f=(e-this.startAngle)/(this.endAngle-this.startAngle)*(this.max-this.min);return f=f+this.min,f<this.min&&(f=this.min),f>this.max&&(f=this.max),f},RGraph.Gauge.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+this.radius&&RGraph.getHypLength(this.centerx,this.centery,b[0],b[1])<=this.radius)return this},RGraph.Gauge.prototype.DrawGradient=function(){if(this.Get("chart.border.gradient")){var a=this.context;a.beginPath();var b=a.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-15);b.addColorStop(0,"gray"),b.addColorStop(1,"white"),a.fillStyle=b,a.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),a.arc(this.centerx,this.centery,this.radius-15,TWOPI,0,!0),a.fill()}},RGraph.Gauge.prototype.Adjusting_mousemove=function(a){RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(a),RGraph.Clear(this.canvas),RGraph.RedrawCanvas(this.canvas),RGraph.FireCustomEvent(this,"onadjust"))},typeof RGraph=="undefined"&&(RGraph={}),RGraph.HBar=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.data=b,this.type="hbar",this.coords=[],this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.max=0,this.stackedOrGrouped=!1,this.properties={"chart.gutter.left":75,"chart.gutter.right":25,"chart.gutter.top":35,"chart.gutter.bottom":25,"chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid.hlines":!0,"chart.background.grid.vlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":14,"chart.background.grid.autofit.numvlines":20,"chart.title":"","chart.title.background":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":10,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.colors":["red","blue","green","pink","yellow","cyan","navy","gray","black"],"chart.colors.sequential":!1,"chart.labels":[],"chart.labels.above":!1,"chart.labels.above.decimals":0,"chart.xlabels":!0,"chart.contextmenu":null,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.units.pre":"","chart.units.post":"","chart.units.ingraph":!1,"chart.strokestyle":"rgba(0,0,0,0)","chart.xmin":0,"chart.xmax":0,"chart.axis.color":"black","chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.vmargin":3,"chart.vmargin.grouped":1,"chart.grouping":"grouped","chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.stroke":"rgba(0,0,0,0)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.scale.point":".","chart.scale.thousand":",","chart.scale.decimals":null,"chart.noredraw":!1,"chart.events.click":null,"chart.events.mousemove":null,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.noxtickmarks":!1,"chart.noytickmarks":!1};if(!this.canvas){alert("[HBAR] No canvas support");return}for(i=0;i<this.data.length;++i)typeof this.data[i]=="object"&&(this.stackedOrGrouped=!0);this.data_arr=RGraph.array_linearize(this.data),RGraph.Register(this)},RGraph.HBar.prototype.Set=function(a,b){a=="chart.labels.abovebar"&&(a="chart.labels.above"),this.properties[a.toLowerCase()]=b},RGraph.HBar.prototype.Get=function(a){return a=="chart.labels.abovebar"&&(a="chart.labels.above"),this.properties[a]},RGraph.HBar.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.coords=[],this.max=0,this.Get("chart.xmin")>0&&this.Get("chart.grouping")=="stacked"&&(alert("[HBAR] Using chart.xmin is not supported with stacked charts, resetting chart.xmin to zero"),this.Set("chart.xmin",0)),this.graphwidth=this.canvas.width-this.gutterLeft-this.gutterRight,this.graphheight=this.canvas.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=this.Get("chart.text.size")/2,RGraph.background.Draw(this),this.Drawbars(),this.DrawAxes(),this.DrawLabels(),this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors")),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),RGraph.DrawInGraphLabels(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.HBar.prototype.DrawAxes=function(){var a=this.graphwidth/2+this.gutterLeft;this.context.beginPath(),this.context.lineWidth=1,this.context.strokeStyle=this.Get("chart.axis.color"),this.Get("chart.noyaxis")==!1&&(this.Get("chart.yaxispos")=="center"?(this.context.moveTo(AA(this,a),this.gutterTop),this.context.lineTo(AA(this,a),this.canvas.height-this.gutterBottom)):(this.context.moveTo(AA(this,this.gutterLeft),this.gutterTop),this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom))),this.Get("chart.noxaxis")==!1&&(this.context.moveTo(this.gutterLeft,AA(this,RGraph.GetHeight(this)-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom)));if(this.Get("chart.noytickmarks")==!1&&this.Get("chart.noyaxis")==!1){var b=(this.canvas.height-this.gutterTop-this.gutterBottom)/this.data.length;for(y=this.gutterTop;y<this.canvas.height-this.gutterBottom-1;y+=b)this.Get("chart.yaxispos")=="center"?(this.context.moveTo(a+3,AA(this,y)),this.context.lineTo(a-3,AA(this,y))):(this.context.moveTo(this.gutterLeft,AA(this,y)),this.context.lineTo(this.gutterLeft-3,AA(this,y)));this.Get("chart.noxaxis")==!0&&(this.Get("chart.yaxispos")=="center"?(this.context.moveTo(a+3,AA(this,y)),this.context.lineTo(a-3,AA(this,y))):(this.context.moveTo(this.gutterLeft,AA(this,y)),this.context.lineTo(this.gutterLeft-3,AA(this,y))))}if(this.Get("chart.noxtickmarks")==!1&&this.Get("chart.noxaxis")==!1){xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/10,yStart=this.canvas.height-this.gutterBottom,yEnd=this.canvas.height-this.gutterBottom+3;for(x=this.canvas.width-this.gutterRight,i=0;this.Get("chart.yaxispos")=="center"?x>=this.gutterLeft:x>this.gutterLeft;x-=xTickGap){if(this.Get("chart.yaxispos")!="center"||i!=5)this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd);i++}}this.context.stroke()},RGraph.HBar.prototype.DrawLabels=function(){var a=this.context,b=this.canvas,c=this.Get("chart.units.pre"),d=this.Get("chart.units.post"),e=this.Get("chart.text.size"),f=this.Get("chart.text.font");this.Get("chart.units.ingraph")&&(c="",d="");if(this.Get("chart.xlabels")){var g=5;this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color"),this.Get("chart.yaxispos")=="center"?(RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*1,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[4]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.9,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[3]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.8,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[2]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.7,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[1]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.6,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[0]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.4,this.gutterTop+this.halfTextHeight+this.graphheight+g,"-"+RGraph.number_format(this,Number(this.scale[0]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.3,this.gutterTop+this.halfTextHeight+this.graphheight+g,"-"+RGraph.number_format(this,Number(this.scale[1]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.2,this.gutterTop+this.halfTextHeight+this.graphheight+g,"-"+RGraph.number_format(this,Number(this.scale[2]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.1,this.gutterTop+this.halfTextHeight+this.graphheight+g,"-"+RGraph.number_format(this,Number(this.scale[3]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*0,this.gutterTop+this.halfTextHeight+this.graphheight+g,"-"+RGraph.number_format(this,Number(this.scale[4]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center")):(RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*1,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[4]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.8,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[3]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.6,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[2]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.4,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[1]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),RGraph.Text(a,f,e,this.gutterLeft+this.graphwidth*.2,this.gutterTop+this.halfTextHeight+this.graphheight+g,RGraph.number_format(this,Number(this.scale[0]).toFixed(this.Get("chart.scale.decimals")),c,d),"center","center"),this.Get("chart.xmin")>0&&RGraph.Text(a,f,e,this.gutterLeft,this.gutterTop+this.halfTextHeight+this.graphheight+2,RGraph.number_format(this,this.Get("chart.xmin"),c,d),"center","center")),this.context.fill(),this.context.stroke()}if(typeof this.Get("chart.labels")=="object"){var h=5,f=this.Get("chart.text.font");this.context.fillStyle=this.Get("chart.text.color");var i=(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/this.Get("chart.labels").length;yTickGap=(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/this.Get("chart.labels").length;var j=0;for(y=this.gutterTop+yTickGap/2;y<=RGraph.GetHeight(this)-this.gutterBottom;y+=yTickGap)RGraph.Text(this.context,f,this.Get("chart.text.size"),this.gutterLeft-h,y,String(this.Get("chart.labels")[j++]),"center","right")}},RGraph.HBar.prototype.Drawbars=function(){this.context.lineWidth=1,this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[0];var a=0,b=0;if(this.Get("chart.xmax"))this.scale=[((this.Get("chart.xmax")-this.Get("chart.xmin"))*.2+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals")),((this.Get("chart.xmax")-this.Get("chart.xmin"))*.4+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals")),((this.Get("chart.xmax")-this.Get("chart.xmin"))*.6+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals")),((this.Get("chart.xmax")-this.Get("chart.xmin"))*.8+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals")),(this.Get("chart.xmax")-this.Get("chart.xmin")+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals"))],this.max=this.scale[4];else{var c=this.Get("chart.grouping");for(i=0;i<this.data.length;++i){if(typeof this.data[i]=="object")var d=c=="grouped"?Number(RGraph.array_max(this.data[i],!0)):Number(RGraph.array_sum(this.data[i]));else var d=Number(Math.abs(this.data[i]));this.max=Math.max(Math.abs(this.max),Math.abs(d))}this.scale=RGraph.getScale(this.max,this),this.Get("chart.xmin")>0&&(this.scale[0]=Number(((this.scale[4]-this.Get("chart.xmin"))*.2+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals"))),this.scale[1]=Number(((this.scale[4]-this.Get("chart.xmin"))*.4+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals"))),this.scale[2]=Number(((this.scale[4]-this.Get("chart.xmin"))*.6+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals"))),this.scale[3]=Number(((this.scale[4]-this.Get("chart.xmin"))*.8+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals"))),this.scale[4]=Number(((this.scale[4]-this.Get("chart.xmin"))*1+this.Get("chart.xmin")).toFixed(this.Get("chart.scale.decimals")))),this.max=this.scale[4]}this.Get("chart.scale.decimals")==null&&Number(this.max)==1&&this.Set("chart.scale.decimals",1);var e=0,f=this.canvas.width-this.gutterLeft-this.gutterRight,g=f/2;for(i=0;i<this.data.length;++i){var h=this.data[i]/this.max*f,k=this.graphheight/this.data.length,l=k,m=this.gutterLeft,n=this.gutterTop+i*k,o=this.Get("chart.vmargin");h<0&&(m-=h,h=Math.abs(h)),this.Get("chart.shadow")&&(this.context.shadowColor=this.Get("chart.shadow.color"),this.context.shadowBlur=this.Get("chart.shadow.blur"),this.context.shadowOffsetX=this.Get("chart.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.shadow.offsety")),this.context.beginPath();if(typeof this.data[i]=="number"){var p=k-2*o,q=(this.data[i]-this.Get("chart.xmin"))/(this.max-this.Get("chart.xmin"))*this.graphwidth,r=this.gutterLeft;this.Get("chart.yaxispos")=="center"&&(q/=2,r+=g,this.data[i]<0&&(q=(Math.abs(this.data[i])-this.Get("chart.xmin"))/(this.max-this.Get("chart.xmin")),q=q*(this.graphwidth/2),r=this.graphwidth/2+this.gutterLeft-q)),this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[0],this.Get("chart.colors.sequential")&&(this.context.fillStyle=this.Get("chart.colors")[e++]),this.context.strokeRect(r,this.gutterTop+i*k+this.Get("chart.vmargin"),q,p),this.context.fillRect(r,this.gutterTop+i*k+this.Get("chart.vmargin"),q,p),this.coords.push([r,n+o,q,k-2*o,this.context.fillStyle,this.data[i],!0])}else if(typeof this.data[i]=="object"&&this.Get("chart.grouping")=="stacked"){this.Get("chart.yaxispos")=="center"&&alert("[HBAR] You can't have a stacked chart with the Y axis in the center, change it to grouped");var p=k-2*o;for(j=0;j<this.data[i].length;++j){this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[j],this.Get("chart.colors.sequential")&&(this.context.fillStyle=this.Get("chart.colors")[e++]);var h=this.data[i][j]/this.max*this.graphwidth,s=RGraph.array_sum(this.data[i])/this.max*this.graphwidth;this.context.strokeRect(m,this.gutterTop+this.Get("chart.vmargin")+this.graphheight/this.data.length*i,h,k-2*o),this.context.fillRect(m,this.gutterTop+this.Get("chart.vmargin")+this.graphheight/this.data.length*i,h,k-2*o),this.coords.push([m,n+o,h,k-2*o,this.context.fillStyle,RGraph.array_sum(this.data[i]),j==this.data[i].length-1]),m+=h}}else if(typeof this.data[i]=="object"&&this.Get("chart.grouping")=="grouped")for(j=0;j<this.data[i].length;++j){this.Get("chart.shadow")&&RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")),this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[j],this.Get("chart.colors.sequential")&&(this.context.fillStyle=this.Get("chart.colors")[e++]);var h=(this.data[i][j]-this.Get("chart.xmin"))/(this.max-this.Get("chart.xmin"))*(this.canvas.width-this.gutterLeft-this.gutterRight),t=(k-2*o)/this.data[i].length-2*this.Get("chart.vmargin.grouped"),u=this.gutterLeft,v=n+o+j*(t+this.Get("chart.vmargin.grouped")+this.Get("chart.vmargin.grouped"));this.Get("chart.yaxispos")=="center"&&(h/=2,u+=g),h<0&&(u+=h,h*=-1),this.context.strokeRect(u,v+this.Get("chart.vmargin.grouped"),h,t),this.context.fillRect(u,v+this.Get("chart.vmargin.grouped"),h,t),this.coords.push([u,v+this.Get("chart.vmargin.grouped"),h,t,this.context.fillStyle,this.data[i][j],!0])}this.context.closePath()}this.context.fill(),this.context.stroke(),RGraph.NoShadow(this),this.RedrawBars()},RGraph.HBar.prototype.RedrawBars=function(){if(this.Get("chart.noredraw"))return;var a=this.coords,b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=this.Get("chart.text.color");RGraph.NoShadow(this),this.context.strokeStyle=this.Get("chart.strokestyle");for(var e=0;e<a.length;++e){this.Get("chart.shadow")&&(this.context.beginPath(),this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=a[e][4],this.context.lineWidth=1,this.context.strokeRect(a[e][0],a[e][1],a[e][2],a[e][3]),this.context.fillRect(a[e][0],a[e][1],a[e][2],a[e][3]),this.context.fill(),this.context.stroke());if(this.Get("chart.labels.above")&&a[e][6]){this.context.fillStyle=d,this.context.strokeStyle="black",RGraph.NoShadow(this);var f=a[e][0]+a[e][2]+7+this.context.measureText(this.Get("chart.units.pre")+this.coords[e][5]+this.Get("chart.units.post")).width>this.canvas.width?!0:!1;RGraph.Text(this.context,b,c,a[e][0]+a[e][2]+5,a[e][1]+a[e][3]/2,RGraph.number_format(this,this.coords[e][5].toFixed(this.Get("chart.labels.above.decimals")),this.Get("chart.units.pre"),this.Get("chart.units.post")),"center","left")}}},RGraph.HBar.prototype.getShape=RGraph.HBar.prototype.getBar=function(a){var b=this.canvas,c=this.context,d=RGraph.getMouseXY(a);for(var e=0,f=this.coords.length;e<f;e++){var g=d[0],h=d[1],i=this.coords[e][0],j=this.coords[e][1],k=this.coords[e][2],l=this.coords[e][3],m=e;if(g>=i&&g<=i+k&&h>=j&&h<=j+l){var n=RGraph.parseTooltipText(this.Get("chart.tooltips"),e);return{0:this,object:this,1:i,x:i,2:j,y:j,3:k,width:k,4:l,height:l,5:m,index:m,tooltip:n}}}},RGraph.HBar.prototype.getValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];if(c<this.Get("chart.gutter.top")||c>this.canvas.height-this.Get("chart.gutter.bottom")||b<this.Get("chart.gutter.left")||b>this.canvas.width-this.Get("chart.gutter.right"))return null;if(this.Get("chart.yaxispos")=="center"){var e=(b-this.Get("chart.gutter.left"))/(this.graphwidth/2)*(this.max-this.Get("chart.xmin"));e=e-this.max,this.Get("chart.xmin")>0&&(e=(b-this.Get("chart.gutter.left")-this.graphwidth/2)/(this.graphwidth/2)*(this.max-this.Get("chart.xmin")),e+=this.Get("chart.xmin"),b<this.gutterLeft+this.graphwidth/2&&(e-=2*this.Get("chart.xmin")))}else{var e=(b-this.Get("chart.gutter.left"))/this.graphwidth*(this.max-this.Get("chart.xmin"));e+=this.Get("chart.xmin")}return e},RGraph.HBar.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.HBar.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.HBar.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f+h/2-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+h/2+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.HProgress=function(a,b,c){this.id=a,this.max=c,this.value=b,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="hprogress",this.coords=[],this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.min":0,"chart.colors":[RGraph.LinearGradient(this,25,0,this.canvas.width-25,0,"white","#0c0"),"red","yellow","pink","gray"],"chart.strokestyle.inner":"#999","chart.strokestyle.outer":"#999","chart.tickmarks":!0,"chart.tickmarks.color":"black","chart.tickmarks.inner":!1,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.numticks":10,"chart.numticks.inner":50,"chart.background.color":"#eee","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.arrows":!1,"chart.margin":0,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.inner":!1,"chart.labels.specific":null,"chart.adjustable":!1,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.key":null,"chart.key.background":"white","chart.key.position":"gutter","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.color.shape":"square","chart.labels.position":"bottom","chart.events.mousemove":null,"chart.events.click":null,"chart.border.inner":!0};if(!this.canvas){alert("[PROGRESS] No canvas support");return}RGraph.Register(this)},RGraph.HProgress.prototype.Set=function(a,b){a=="chart.label.inner"&&(a="chart.labels.inner");if(a=="chart.strokestyle"){this.Set("chart.strokestyle.inner",b),this.Set("chart.strokestyle.outer",b);return}this.properties[a.toLowerCase()]=b},RGraph.HProgress.prototype.Get=function(a){return a=="chart.label.inner"&&(a="chart.labels.inner"),this.properties[a.toLowerCase()]},RGraph.HProgress.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this
.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.width=this.canvas.width-this.gutterLeft-this.gutterRight,this.height=this.canvas.height-this.gutterTop-this.gutterBottom,this.coords=[],this.Drawbar(),this.DrawTickMarks(),this.DrawLabels(),this.context.stroke(),this.context.fill(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors")),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.HProgress.prototype.Drawbar=function(){this.Get("chart.shadow")&&RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")),RGraph.isOld()&&this.Get("chart.shadow")&&(this.context.fillStyle=this.Get("chart.shadow.color"),this.context.fillRect(this.gutterLeft+this.Get("chart.shadow.offsetx"),this.gutterTop+this.Get("chart.shadow.offsety"),this.width,this.height)),this.context.fillStyle=this.Get("chart.background.color"),this.context.strokeStyle=this.Get("chart.strokestyle.outer"),this.context.strokeRect(this.gutterLeft,this.gutterTop,this.width,this.height),this.context.fillRect(this.gutterLeft,this.gutterTop,this.width,this.height),RGraph.NoShadow(this),this.context.fillStyle=this.Get("chart.colors")[0],this.context.strokeStyle=this.Get("chart.strokestyle.outer");var a=this.Get("chart.margin"),b=Math.min(this.width,(RGraph.array_sum(this.value)-this.Get("chart.min"))/(this.max-this.Get("chart.min"))*this.width);if(this.Get("chart.tickmarks.inner")){var c=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.Get("chart.numticks.inner");this.context.lineWidth=1,this.context.strokeStyle=this.Get("chart.strokestyle.outer"),this.context.beginPath();for(var d=this.gutterLeft;d<RGraph.GetWidth(this)-this.gutterRight;d+=c)this.context.moveTo(AA(this,d),this.gutterTop),this.context.lineTo(AA(this,d),this.gutterTop+2),this.context.moveTo(AA(this,d),RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(AA(this,d),RGraph.GetHeight(this)-this.gutterBottom-2);this.context.stroke()}if(typeof this.value=="number")this.context.beginPath(),this.context.strokeStyle=this.Get("chart.strokestyle.inner"),this.context.fillStyle=this.Get("chart.colors")[0],this.Get("chart.border.inner")&&this.context.strokeRect(this.gutterLeft,this.gutterTop+a,b,this.height-a-a),this.context.fillRect(this.gutterLeft,this.gutterTop+a,b,this.height-a-a),this.coords.push([this.gutterLeft,this.gutterTop+a,b,this.height-a-a]);else if(typeof this.value=="object"){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.strokestyle.inner");var e=this.gutterLeft;for(var f=0;f<this.value.length;++f){var g=this.value[f]/RGraph.array_sum(this.value)*b;this.context.fillStyle=this.Get("chart.colors")[f],this.Get("chart.border.inner")&&this.context.strokeRect(e,this.gutterTop+a,g,this.height-a-a),this.context.fillRect(e,this.gutterTop+a,g,this.height-a-a),this.coords.push([e,this.gutterTop+a,g,this.height-a-a]),e+=g}}if(this.Get("chart.arrows")){var d=this.gutterLeft+b,h=this.gutterTop;this.context.lineWidth=1,this.context.fillStyle="black",this.context.strokeStyle="black",this.context.beginPath(),this.context.moveTo(d,h-3),this.context.lineTo(d+2,h-7),this.context.lineTo(d-2,h-7),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.moveTo(d,h+this.height+4),this.context.lineTo(d+2,h+this.height+9),this.context.lineTo(d-2,h+this.height+9),this.context.closePath(),this.context.stroke(),this.context.fill(),this.Get("chart.label.inner")&&(this.context.beginPath(),this.context.fillStyle="black",RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size")+2,this.gutterLeft+b+5,RGraph.GetHeight(this)/2,String(this.Get("chart.units.pre")+this.value+this.Get("chart.units.post")),"center","left"),this.context.fill())}},RGraph.HProgress.prototype.DrawTickMarks=function(){var a=this.context;a.strokeStyle=this.Get("chart.tickmarks.color");if(this.Get("chart.tickmarks")){this.context.beginPath(),this.tickInterval=this.width/this.Get("chart.numticks");var b=this.Get("chart.tickmarks.zerostart")?0:this.tickInterval;if(this.Get("chart.labels.position")=="top")for(var c=this.gutterLeft+b;c<=this.width+this.gutterLeft+.1;c+=this.tickInterval)a.moveTo(AA(this,c),this.gutterTop),a.lineTo(AA(this,c),this.gutterTop-4);else for(var c=this.gutterLeft+b;c<=this.width+this.gutterLeft+.1;c+=this.tickInterval)a.moveTo(AA(this,c),this.gutterTop+this.height),a.lineTo(AA(this,c),this.gutterTop+this.height+4);this.context.stroke()}},RGraph.HProgress.prototype.DrawLabels=function(){if(!RGraph.is_null(this.Get("chart.labels.specific")))return this.DrawSpecificLabels();var a=this.context;this.context.fillStyle=this.Get("chart.text.color");var b=[],c=[];for(i=0;i<this.Get("chart.numticks");i++){var d=this.Get("chart.text.font"),e=this.Get("chart.text.size");if(this.Get("chart.labels.position")=="top")var f=this.width*(i/this.Get("chart.numticks"))+this.gutterLeft+this.width/this.Get("chart.numticks"),g=this.gutterTop-6,h="bottom";else var f=this.width*(i/this.Get("chart.numticks"))+this.gutterLeft+this.width/this.Get("chart.numticks"),g=this.height+this.gutterTop+4,h="top";RGraph.Text(this.context,d,e,f,g,RGraph.number_format(this,((this.max-this.Get("chart.min"))/this.Get("chart.numticks")*(i+1)+this.Get("chart.min")).toFixed(this.Get("chart.scale.decimals")),this.Get("chart.units.pre"),this.Get("chart.units.post")),h,"center")}this.Get("chart.tickmarks.zerostart")&&(this.Get("chart.labels.position")=="top"?RGraph.Text(this.context,d,e,this.gutterLeft,this.gutterTop-6,this.Get("chart.units.pre")+Number(this.Get("chart.min")).toFixed(this.Get("chart.scale.decimals"))+this.Get("chart.units.post"),"bottom","center"):RGraph.Text(this.context,d,e,this.gutterLeft,this.canvas.height-this.gutterBottom+5,this.Get("chart.units.pre")+Number(this.Get("chart.min")).toFixed(this.Get("chart.scale.decimals"))+this.Get("chart.units.post"),"top","center"));if(this.Get("chart.title")){var j=this.gutterTop+this.Get("chart.text.size");this.Get("chart.labels.position")=="top"&&this.Get("chart.title.vpos")==null&&this.Set("chart.title.vpos",this.canvas.height/this.gutterTop-this.gutterBottom/this.gutterTop),RGraph.DrawTitle(this,this.Get("chart.title"),j,0,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2)}},RGraph.HProgress.prototype.getShape=RGraph.HProgress.prototype.getBar=function(a){var b=RGraph.getMouseXY(a);for(var c=0;c<this.coords.length;c++){var b=RGraph.getMouseXY(a),d=b[0],e=b[1],f=this.coords[c][0],g=this.coords[c][1],h=this.coords[c][2],i=this.coords[c][3],j=c;if(d>=f&&d<=f+h&&e>=g&&e<=g+i){var k=RGraph.parseTooltipText(this.Get("chart.tooltips"),j);return{0:this,1:f,2:g,3:h,4:i,5:j,object:this,x:f,y:g,width:h,height:i,index:j,tooltip:k}}}},RGraph.HProgress.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=(b[0]-this.gutterLeft)/this.width;return c*=this.max-this.Get("chart.min"),c+=this.Get("chart.min"),b[0]<this.gutterLeft&&(c=this.Get("chart.min")),b[0]>this.canvas.width-this.gutterRight&&(c=this.max),c},RGraph.HProgress.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.HProgress.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.HProgress.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=RGraph.getMouseXY(a),c=this.getValue(a);typeof c=="number"&&(RGraph.FireCustomEvent(this,"onadjust"),this.value=Number(c.toFixed(this.Get("chart.scale.decimals"))),RGraph.Redraw())}},RGraph.HProgress.prototype.DrawSpecificLabels=function(){var a=this.Get("chart.labels.specific");if(a){var b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=this.Get("chart.labels.position")=="top"?"bottom":"top",e=this.width/(a.length-1);this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color");for(var f=0;f<a.length;++f)RGraph.Text(this.context,b,c,this.gutterLeft+e*f,this.Get("chart.labels.position")=="top"?this.gutterTop-7:this.canvas.height-this.gutterBottom+7,a[f],d,"center");this.context.fill()}},RGraph.HProgress.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f+h/2-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+h/2+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.LED=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="led",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.text=b.toLowerCase(),this.lights={"#":[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],"-":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1]],"*":[[0,0,0,0],[0,0,0,0],[1,0,0,1],[0,1,1,0],[0,1,1,0],[1,0,0,1],[0,0,0,0]],"<":[[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],">":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0]],"%":[[0,0,0,0],[0,0,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,0,0]],"":[[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],"!":[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,0,0],[0,0,1,0]],"":[[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,1,1,0],[1,0,0,0],[1,0,0,0],[0,1,1,1]],"?":[[1,1,1,0],[0,0,0,1],[0,0,0,1],[0,1,1,0],[0,1,0,0],[0,0,0,0],[0,1,0,0]],"+":[[0,0,0,0],[0,0,0,0],[0,1,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],"/":[[0,0,0,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,0],[0,0,0,0]],",":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,1,0],[0,1,0,0]],".":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,1,0,0]],";":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,1,0,0]],":":[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],'"':[[1,0,1,0],[1,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],"[":[[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,0]],"]":[[0,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,1,1,1]],"(":[[0,0,1,1],[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,1,1]],")":[[1,1,0,0],[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,0],[1,1,0,0]],R:[[1,0,0,0],[1,1,0,0],[1,1,1,0],[1,1,1,1],[1,1,1,0],[1,1,0,0],[1,0,0,0]],L:[[0,0,0,1],[0,0,1,1],[0,1,1,1],[1,1,1,1],[0,1,1,1],[0,0,1,1],[0,0,0,1]],a:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],b:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0]],c:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,1],[0,1,1,0]],d:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,0]],e:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,1,1,1]],f:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],g:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,1,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],h:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],i:[[0,1,1,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,1]],j:[[0,1,1,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,0,0]],k:[[1,0,0,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1],[1,0,0,1]],l:[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,1]],m:[[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],n:[[1,0,0,1],[1,1,0,1],[1,0,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],o:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],p:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],q:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,1,1],[0,1,1,1]],r:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,1,0],[1,0,0,1],[1,0,0,1]],s:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[0,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],t:[[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],u:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],v:[[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[0,1,0],[0,1,0]],w:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,1],[0,1,1,0]],x:[[0,1,0,1],[0,1,0,1],[0,1,0,1],[0,0,1,0],[0,1,0,1],[0,1,0,1],[0,1,0,1]],y:[[0,1,0,1],[0,1,0,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],z:[[1,1,1,1],[0,0,0,1],[0,0,1,0],[0,0,1,0],[0,1,0,0],[1,0,0,0],[1,1,1,1]]," ":[[],[],[],[],[],[],[]],0:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],1:[[0,0,1,0],[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,1]],2:[[0,1,1,0],[1,0,0,1],[0,0,0,1],[0,0,1,0],[0,1,,0],[1,0,0,0],[1,1,1,1]],3:[[0,1,1,0],[1,0,0,1],[0,0,0,1],[0,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],4:[[1,0,0,0],[1,0,0,0],[1,0,1,0],[1,0,1,0],[1,1,1,1],[0,0,1,0],[0,0,1,0]],5:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],6:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],7:[[1,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],8:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],9:[[0,1,1,1],[1,0,0,1],[1,0,0,1],[0,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]},this.properties={"chart.background":"white","chart.dark":"#eee","chart.light":"#f66","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.radius":null};if(!this.canvas){alert("[LED] No canvas support");return}RGraph.Register(this)},RGraph.LED.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.LED.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.LED.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw");for(var a=0;a<this.text.length;a++)this.DrawLetter(this.text.charAt(a),a);this.canvas.title=RGraph.rtrim(this.text),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.LED.prototype.DrawLetter=function(a,b){var c=this.Get("chart.light"),d=this.Get("chart.dark"),e=this.lights[a]?this.lights[a]:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];if(typeof this.Get("chart.radius")=="number")f=Number(this.Get("chart.radius")),g=2*f,h=g*5;else var f=this.canvas.width/this.text.length/5/2,g=f*2,h=g*5;for(var i=0;i<7;i++)for(var j=0;j<5;j++){var k=j*g+b*h+f,l=i*g+f;this.context.fillStyle=e[i][j]?c:d,this.context.strokeStyle=e[i][j]?"#ccc":"rgba(0,0,0,0)",this.context.beginPath(),this.context.arc(k,l,f,0,6.28,0),this.context.stroke(),this.context.fill()}},RGraph.LED.prototype.getValue=function(a){return this.text},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Line=function(a){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="line",this.max=0,this.coords=[],this.coords2=[],this.coords.key=[],this.hasnegativevalues=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":1,"chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.grid.color":"#ddd","chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.align":!1,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.hbars":null,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.xtickgap":20,"chart.smallxticks":3,"chart.largexticks":5,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.linewidth":1.01,"chart.colors":["red","#0f0","#00f","#f0f","#ff0","#0ff"],"chart.hmargin":0,"chart.tickmarks.dot.color":"white","chart.tickmarks":null,"chart.tickmarks.linewidth":null,"chart.ticksize":3,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.tickdirection":-1,"chart.yaxispoints":5,"chart.fillstyle":null,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.xticks":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.ymin":null,"chart.ymax":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":.5,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.shadow":!1,"chart.shadow.offsetx":2,"chart.shadow.offsety":2,"chart.shadow.blur":3,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.tooltips":null,"chart.tooltips.hotspot.xonly":!1,"chart.tooltips.hotspot.size":5,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onmousemove","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.stepped":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":null,"chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.contextmenu":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.ylabels.invert":!1,"chart.xlabels.inside":!1,"chart.xlabels.inside.color":"rgba(255,255,255,0.5)","chart.noaxes":!1,"chart.noyaxis":!1,"chart.noxaxis":!1,"chart.noendxtick":!1,"chart.noendytick":!1,"chart.units.post":"","chart.units.pre":"","chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.axesontop":!1,"chart.filled":!1,"chart.filled.range":!1,"chart.filled.accumulative":!0,"chart.variant":null,"chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.backdrop":!1,"chart.backdrop.size":30,"chart.backdrop.alpha":.2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noredraw":!1,"chart.outofbounds":!1,"chart.chromefix":!0,"chart.animation.factor":1,"chart.animation.unfold.x":!1,"chart.animation.unfold.y":!0,"chart.animation.unfold.initial":2,"chart.curvy":!1,"chart.curvy.factor":.25,"chart.line.visible":!0,"chart.events.click":null,"chart.events.mousemove":null};for(var b=1;b<arguments.length;++b)if(typeof arguments[b]=="null"||!arguments[b])arguments[b]=[];this.original_data=[];for(var b=1;b<arguments.length;++b)if(arguments[1]&&typeof arguments[1]=="object"&&arguments[1][0]&&typeof arguments[1][0]=="object"&&arguments[1][0].length){var c=[];for(var b=0;b<arguments[1].length;++b)c[b]=RGraph.array_clone(arguments[1][b]);for(var d=0;d<c.length;++d)this.original_data[d]=RGraph.array_clone(c[d])}else this.original_data[b-1]=RGraph.array_clone(arguments[b]);if(!this.canvas){alert("[LINE] Fatal error: no canvas support");return}this.data_arr=RGraph.array_linearize(this.original_data),RGraph.Register(this)},RGraph.Line.prototype.Set=function(a,b){if(a=="chart.tooltips"&&typeof b=="object"&&b){var c=[];for(var d=1;d<arguments.length;d++)if(typeof arguments[d]=="object"&&arguments[d][0])for(var e=0;e<arguments[d].length;e++)c.push(arguments[d][e]);else typeof arguments[d]=="function"?c=arguments[d]:c.push(arguments[d]);b=c}a=="chart.ylabels.invert"&&b&&this.properties["chart.ymin"]==null&&this.Set("chart.ymin",0);if(a=="chart.linewidth"&&navigator.userAgent.match(/Chrome/))if(b==1)b=1.01;else if(RGraph.is_array(b))for(var d=0;d<b.length;++d)typeof b[d]=="number"&&b[d]==1&&(b[d]=1.01);a=="chart.xaxispos"&&b!="bottom"&&b!="center"&&b!="top"&&(alert("[LINE] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+b+" Changing it to center"),b="center"),a=="chart.curvy.factor"&&(b<0||b>.5)&&(alert("[LINE] chart.curvy.factor should be between 0 and 0.5 - setting it to 0.25"),b=.25),a=="chart.numxticks"&&(a="chart.xticks"),this.properties[a]=b},RGraph.Line.prototype.Get=function(a){return this.properties[a]},RGraph.Line.prototype.Draw=function(){typeof this.properties["chart.background.image"]=="string"&&RGraph.DrawBackgroundImage(this),RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.properties["chart.gutter.left"],this.gutterRight=this.properties["chart.gutter.right"],this.gutterTop=this.properties["chart.gutter.top"],this.gutterBottom=this.properties["chart.gutter.bottom"],this.properties["chart.shadow"]&&navigator.userAgent.match(/Chrome/)&&this.properties["chart.linewidth"]<=1&&this.properties["chart.chromefix"]&&this.properties["chart.shadow.blur"]>0&&alert("[RGRAPH WARNING] Chrome has a shadow bug, meaning you should increase the linewidth to at least 1.01"),this.data=RGraph.array_clone(this.original_data),this.max=0;if(this.properties["chart.filled"]&&!this.properties["chart.filled.range"]&&this.data.length>1&&this.properties["chart.filled.accumulative"]){var a=[];for(var b=0;b<this.data.length;++b)for(var c=0;c<this.data[b].length;++c)this.data[b][c]=Number(a[c]?a[c]:0)+this.data[b][c],a[c]=this.data[b][c]}if(this.properties["chart.ymax"]){this.max=this.properties["chart.ymax"],this.min=this.properties["chart.ymin"]?this.properties["chart.ymin"]:0,this.scale=[((this.max-this.min)*.2+this.min).toFixed(this.properties["chart.scale.decimals"]),((this.max-this.min)*.4+this.min).toFixed(this.properties["chart.scale.decimals"]),((this.max-this.min)*.6+this.min).toFixed(this.properties["chart.scale.decimals"]),((this.max-this.min)*.8+this.min).toFixed(this.properties["chart.scale.decimals"]),this.max.toFixed(this.properties["chart.scale.decimals"])];if(!this.properties["chart.outofbounds"])for(dataset=0;dataset<this.data.length;++dataset)for(var d=0;d<this.data[dataset].length;d++)this.hasnegativevalues=this.data[dataset][d]<0||this.hasnegativevalues}else{this.min=this.properties["chart.ymin"]?this.properties["chart.ymin"]:0;for(dataset=0;dataset<this.data.length;++dataset)for(var d=0;d<this.data[dataset].length;d++)this.max=Math.max(this.max,this.data[dataset][d]?Math.abs(parseFloat(this.data[dataset][d])):0),this.properties["chart.outofbounds"]||(this.hasnegativevalues=this.data[dataset][d]<0||this.hasnegativevalues);this.scale=RGraph.getScale(Math.abs(parseFloat(this.max)),this),this.max=this.scale[4]?this.scale[4]:0,this.properties["chart.ymin"]&&(this.scale[0]=(this.max-this.properties["chart.ymin"])*.2+this.properties["chart.ymin"],this.scale[1]=(this.max-this.properties["chart.ymin"])*.4+this.properties["chart.ymin"],this.scale[2]=(this.max-this.properties["chart.ymin"])*.6+this.properties["chart.ymin"],this.scale[3]=(this.max-this.properties["chart.ymin"])*.8+this.properties["chart.ymin"],this.scale[4]=(this.max-this.properties["chart.ymin"])*1+this.properties["chart.ymin"]),typeof this.properties["chart.scale.decimals"]=="number"&&(this.scale[0]=Number(this.scale[0]).toFixed(this.properties["chart.scale.decimals"]),this.scale[1]=Number(this.scale[1]).toFixed(this.properties["chart.scale.decimals"]),this.scale[2]=Number(this.scale[2]).toFixed(this.properties["chart.scale.decimals"]),this.scale[3]=Number(this.scale[3]).toFixed(this.properties["chart.scale.decimals"]),this.scale[4]=Number(this.scale[4]).toFixed(this.properties["chart.scale.decimals"]))}this.properties["chart.contextmenu"]&&RGraph.ShowContext(this),this.coords=[],this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=this.properties["chart.text.size"]/2,this.properties["chart.xaxispos"]=="bottom"&&this.hasnegativevalues&&navigator.userAgent.indexOf("Opera")==-1&&alert("[LINE] You have negative values and the X axis is at the bottom. This is not good..."),this.properties["chart.variant"]=="3d"&&RGraph.Draw3DAxes(this),RGraph.background.Draw(this),this.properties["chart.background.hbars"]&&this.properties["chart.background.hbars"].length>0&&RGraph.DrawBars(this),this.properties["chart.axesontop"]==!1&&this.DrawAxes();var e=this.properties["chart.shadow.color"];for(var f=0,g=0;f<this.data.length;f++,g++){this.context.beginPath(),this.properties["chart.shadow"]&&!this.properties["chart.filled"]?(typeof e=="object"&&e[f-1]?this.context.shadowColor=e[f]:typeof e=="object"?this.context.shadowColor=e[0]:typeof e=="string"&&(this.context.shadowColor=e),this.context.shadowBlur=this.properties["chart.shadow.blur"],this.context.shadowOffsetX=this.properties["chart.shadow.offsetx"],this.context.shadowOffsetY=this.properties["chart.shadow.offsety"]):this.properties["chart.filled"]&&this.properties["chart.shadow"]&&alert("[LINE] Shadows are not permitted when the line is filled");if(this.properties["chart.fillstyle"]){if(typeof this.properties["chart.fillstyle"]=="object"&&this.properties["chart.fillstyle"][g])var h=this.properties["chart.fillstyle"][g];else if(typeof this.properties["chart.fillstyle"]=="object"&&this.properties["chart.fillstyle"].toString().indexOf("Gradient")>0)var h=this.properties["chart.fillstyle"];else if(typeof this.properties["chart.fillstyle"]=="string")var h=this.properties["chart.fillstyle"]}else if(this.properties["chart.filled"])var h=this.properties["chart.colors"][g];else var h=null;if(this.properties["chart.tickmarks"]&&typeof this.properties["chart.tickmarks"]=="object")var i=this.properties["chart.tickmarks"][f];else if(this.properties["chart.tickmarks"]&&typeof this.properties["chart.tickmarks"]=="string")var i=this.properties["chart.tickmarks"];else if(this.properties["chart.tickmarks"]&&typeof this.properties["chart.tickmarks"]=="function")var i=this.properties["chart.tickmarks"];else var i=null;this.DrawLine(this.data[f],this.properties["chart.colors"][g],h,this.GetLineWidth(g),i,f),this.context.stroke()}if(this.properties["chart.filled"]&&this.properties["chart.filled.accumulative"]){for(var f=0;f<this.coords2.length;++f){this.context.beginPath(),this.context.lineWidth=this.GetLineWidth(f),this.context.strokeStyle=this.properties["chart.colors"][f];for(var g=0;g<this.coords2[f].length;++g)g==0||this.coords2[f][g][1]==null||this.coords2[f][g-1]&&this.coords2[f][g-1][1]==null?this.context.moveTo(this.coords2[f][g][0],this.coords2[f][g][1]):(this.properties["chart.stepped"]&&this.context.lineTo(this.coords2[f][g][0],this.coords2[f][g-1][1]),this.context.lineTo(this.coords2[f][g][0],this.coords2[f][g][1]));this.context.stroke()}if(this.properties["chart.tickmarks"]){this.context.beginPath(),this.context.fillStyle="white";for(var f=0;f<this.coords2.length;++f){this.context.beginPath(),this.context.strokeStyle=this.properties["chart.colors"][f];for(var g=0;g<this.coords2[f].length;++g)if(typeof this.coords2[f][g]=="object"&&typeof this.coords2[f][g][0]=="number"&&typeof this.coords2[f][g][1]=="number"){var i=typeof this.properties["chart.tickmarks"]=="object"?this.properties["chart.tickmarks"][f]:this.properties["chart.tickmarks"];this.DrawTick(this.coords2[f][g],this.coords2[f][g][0],this.coords2[f][g][1],this.context.strokeStyle,!1,g==0?0:this.coords2[f][g-1][0],g==0?0:this.coords2[f][g-1][1],i,g)}}this.context.stroke(),this.context.fill()}}this.context.beginPath(),this.properties["chart.axesontop"]&&this.DrawAxes(),this.DrawLabels(),this.DrawRange(),this.properties["chart.key"]&&this.properties["chart.key"].length&&RGraph.DrawKey&&RGraph.DrawKey(this,this.properties["chart.key"],this.properties["chart.colors"]),this.properties["chart.labels.above"]&&this.DrawAboveLabels(),RGraph.DrawInGraphLabels(this);if(this.properties["chart.filled"]&&this.properties["chart.filled.range"]&&this.data.length==2){this.context.beginPath();var j=this.coords.length/2;this.context.lineWidth=this.properties["chart.linewidth"],this.context.strokeStyle=this.properties["chart.colors"][0];for(var f=0;f<j;++f)f==0?this.context.moveTo(this.coords[f][0],this.coords[f][1]):this.context.lineTo(this.coords[f][0],this.coords[f][1]);this.context.stroke(),this.context.beginPath(),this.properties["chart.colors"][1]&&(this.context.strokeStyle=this.properties["chart.colors"][1]);for(var f=this.coords.length-1;f>=j;--f)f==this.coords.length-1?this.context.moveTo(this.coords[f][0],this.coords[f][1]):this.context.lineTo(this.coords[f][0],this.coords[f][1]);this.context.stroke()}else this.properties["chart.filled"]&&this.properties["chart.filled.range"]&&alert("[LINE] You must have only two sets of data for a filled range chart");this.properties["chart.resizable"]&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Line.prototype.DrawAxes=function(){if(this.properties["chart.noaxes"])return;RGraph.NoShadow(this),this.context.lineWidth=1,this.context.lineCap="butt",this.context.strokeStyle=this.properties["chart.axis.color"],this.context.beginPath(),this.properties["chart.noxaxis"]==!1&&(this.properties["chart.xaxispos"]=="center"?(this.context.moveTo(this.gutterLeft,AA(this,this.grapharea/2+this.gutterTop)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.grapharea/2+this.gutterTop))):this.properties["chart.xaxispos"]=="top"?(this.context.moveTo(this.gutterLeft,AA(this,this.gutterTop)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.gutterTop))):(this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom)))),this.properties["chart.noyaxis"]==!1&&(this.properties["chart.yaxispos"]=="left"?(this.context.moveTo(AA(this,this.gutterLeft),this.gutterTop),this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom)):(this.context.moveTo(AA(this,this.canvas.width-this.gutterRight),this.gutterTop),this.context.lineTo(AA(this,this.canvas.width-this.gutterRight),this.canvas.height-this.gutterBottom)));if(this.properties["chart.noxaxis"]==!1){if(this.data[0].length>0)var a=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.properties["chart.xticks"]?this.properties["chart.xticks"
]:this.data[0].length-1);if(!a||a<=0)a=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.properties["chart.labels"]&&this.properties["chart.labels"].length?this.properties["chart.labels"].length-1:10);for(x=this.gutterLeft+(this.properties["chart.yaxispos"]=="left"?a:0);x<=this.canvas.width-this.gutterRight+1;x+=a){if(this.properties["chart.yaxispos"]=="right"&&x>=this.canvas.width-this.gutterRight-1)break;if(this.properties["chart.noendxtick"]){if(this.properties["chart.yaxispos"]=="left"&&x>=this.canvas.width-this.gutterRight-1)break;if(this.properties["chart.yaxispos"]=="right"&&x==this.gutterLeft)continue}var b=this.properties["chart.xaxispos"]=="center"?this.gutterTop+this.grapharea/2-3:this.canvas.height-this.gutterBottom,c=this.properties["chart.xaxispos"]=="center"?b+6:this.canvas.height-this.gutterBottom-(x%60==0?this.properties["chart.largexticks"]*this.properties["chart.tickdirection"]:this.properties["chart.smallxticks"]*this.properties["chart.tickdirection"]);if(this.properties["chart.xaxispos"]=="center")var b=AA(this,this.gutterTop+this.grapharea/2)-3,c=b+6;else if(this.properties["chart.xaxispos"]=="bottom"){var b=this.canvas.height-this.gutterBottom,c=this.canvas.height-this.gutterBottom-(x%60==0?this.properties["chart.largexticks"]*this.properties["chart.tickdirection"]:this.properties["chart.smallxticks"]*this.properties["chart.tickdirection"]);c+=.5}else this.properties["chart.xaxispos"]=="top"&&(b=this.gutterTop-3,c=this.gutterTop);this.context.moveTo(AA(this,x),b),this.context.lineTo(AA(this,x),c)}}else this.properties["chart.noyaxis"]==!1&&(this.properties["chart.noendytick"]||(this.properties["chart.yaxispos"]=="left"?(this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.gutterLeft-this.properties["chart.smallyticks"],AA(this,this.canvas.height-this.gutterBottom))):(this.context.moveTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight+this.properties["chart.smallyticks"],AA(this,this.canvas.height-this.gutterBottom)))));var d=this.properties["chart.numyticks"];if(this.properties["chart.noyaxis"]==!1){var e=0,f=0;this.properties["chart.yaxispos"]=="right"&&(f=this.canvas.width-this.gutterLeft-this.gutterRight);if(this.properties["chart.xaxispos"]=="center"){var g=this.grapharea/d,h=this.properties["chart.yaxispos"]=="left"?this.gutterLeft:this.canvas.width-this.gutterRight+this.properties["chart.smallyticks"];for(y=this.gutterTop;y<this.grapharea/2+this.gutterTop;y+=g)y<this.grapharea/2+this.gutterTop-1&&(this.context.moveTo(this.properties["chart.yaxispos"]=="left"?this.gutterLeft-this.properties["chart.smallyticks"]:this.canvas.width-this.gutterRight,AA(this,y)),this.context.lineTo(h,AA(this,y)));for(y=this.gutterTop+this.halfgrapharea+g;y<=this.grapharea+this.gutterTop;y+=g)this.context.moveTo(this.properties["chart.yaxispos"]=="left"?this.gutterLeft-this.properties["chart.smallyticks"]:this.canvas.width-this.gutterRight,AA(this,y)),this.context.lineTo(h,AA(this,y))}else if(this.properties["chart.xaxispos"]=="top"){var g=this.grapharea/d,h=this.properties["chart.yaxispos"]=="left"?this.gutterLeft:this.canvas.width-this.gutterRight+this.properties["chart.smallyticks"];for(y=this.gutterTop+g;y<=this.grapharea+this.gutterTop;y+=g)this.context.moveTo(this.properties["chart.yaxispos"]=="left"?this.gutterLeft-this.properties["chart.smallyticks"]:this.canvas.width-this.gutterRight,AA(this,y)),this.context.lineTo(h,AA(this,y));this.properties["chart.noxaxis"]&&this.properties["chart.noendytick"]==!1&&(this.context.moveTo(this.properties["chart.yaxispos"]=="left"?this.gutterLeft-this.properties["chart.smallyticks"]:this.canvas.width-this.gutterRight,this.gutterTop),this.context.lineTo(h,this.gutterTop))}else{var h=this.properties["chart.yaxispos"]=="left"?this.gutterLeft-this.properties["chart.smallyticks"]:this.canvas.width-this.gutterRight+this.properties["chart.smallyticks"];for(y=this.gutterTop;y<this.canvas.height-this.gutterBottom&&e<d;y+=(this.canvas.height-this.gutterTop-this.gutterBottom)/d){this.context.moveTo(this.gutterLeft+f,AA(this,y)),this.context.lineTo(h,AA(this,y));var e=e+1}}}else this.properties["chart.noxaxis"]==!1&&(this.properties["chart.yaxispos"]=="left"?(this.context.moveTo(this.gutterLeft,this.properties["chart.xaxispos"]=="top"?this.gutterTop:this.canvas.height-this.gutterBottom),this.context.lineTo(this.gutterLeft,this.properties["chart.xaxispos"]=="top"?this.gutterTop-this.properties["chart.smallxticks"]:this.canvas.height-this.gutterBottom+this.properties["chart.smallxticks"])):(this.context.moveTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom),this.context.lineTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom+this.properties["chart.smallxticks"])));this.context.stroke()},RGraph.Line.prototype.DrawLabels=function(){this.context.strokeStyle="black",this.context.fillStyle=this.properties["chart.text.color"],this.context.lineWidth=1,RGraph.NoShadow(this);var a=this.properties["chart.text.font"],b=this.properties["chart.text.size"],c=this.context,d=this.canvas;if(this.properties["chart.ylabels"]&&this.properties["chart.ylabels.specific"]==null){var e=this.properties["chart.units.pre"],f=this.properties["chart.units.post"],g=this.properties["chart.yaxispos"]=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,h=this.properties["chart.yaxispos"]=="left"?"right":"left",i=this.properties["chart.ylabels.count"],j=!1,k=this.properties["chart.ylabels.inside"]?this.properties["chart.ylabels.inside.color"]:null;this.properties["chart.ylabels.inside"]==!0&&h=="left"?(g-=10,h="right",j=!0):this.properties["chart.ylabels.inside"]==!0&&h=="right"&&(g+=10,h="left",j=!0);if(this.properties["chart.xaxispos"]=="center"){var l=this.grapharea/2;if(i==1||i==3||i==5)RGraph.Text(c,a,b,g,this.gutterTop+0*l+this.halfTextHeight,RGraph.number_format(this,this.scale[4],e,f),null,h,j,null,k),i==5&&(RGraph.Text(c,a,b,g,this.gutterTop+.2*l+this.halfTextHeight,RGraph.number_format(this,this.scale[3],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+.6*l+this.halfTextHeight,RGraph.number_format(this,this.scale[1],e,f),null,h,j,null,k)),i>=3&&(RGraph.Text(c,a,b,g,this.gutterTop+.4*l+this.halfTextHeight,RGraph.number_format(this,this.scale[2],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+.8*l+this.halfTextHeight,RGraph.number_format(this,this.scale[0],e,f),null,h,j,null,k)),i>=3&&(RGraph.Text(c,a,b,g,this.gutterTop+1.2*l+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[0],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+1.6*l+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[2],e,f),null,h,j,null,k)),i==5&&(RGraph.Text(c,a,b,g,this.gutterTop+1.4*l+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[1],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+1.8*l+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[3],e,f),null,h,j,null,k)),RGraph.Text(c,a,b,g,this.gutterTop+2*l+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[4]=="1.0"?"1.0":this.scale[4],e,f),null,h,j,null,k);else if(i==10){var m=this.grapharea/i/2;for(var n=0;n<i;++n)RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+n/20*this.grapharea,RGraph.number_format(this,(this.scale[4]/i*(i-n)).toFixed(this.properties["chart.scale.decimals"]),e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+n/20*this.grapharea+this.grapharea/2+this.grapharea/20,"-"+RGraph.number_format(this,(this.scale[4]-this.scale[4]/i*(i-n-1)).toFixed(this.properties["chart.scale.decimals"]),e,f),null,h,j,null,k)}else alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");typeof this.properties["chart.ymin"]=="number"&&RGraph.Text(c,a,b,g,this.canvas.height/2,RGraph.number_format(this,this.properties["chart.ymin"].toFixed(this.properties["chart.scale.decimals"]),e,f),"center",h,j,null,k),this.properties["chart.noxaxis"]==!0&&RGraph.Text(c,a,b,g,this.gutterTop+1*l+this.halfTextHeight,this.properties["chart.units.pre"]+"0"+this.properties["chart.units.post"],null,h,j,null,k)}else if(this.properties["chart.xaxispos"]=="top"){var o=RGraph.array_reverse(this.scale);this.properties["chart.ylabels.invert"]&&(o=RGraph.array_reverse(o),this.context.translate(0,this.grapharea*-0.2),typeof this.properties["chart.ymin"]==null&&this.Set("chart.ymin",0));if(i==1||i==3||i==5)RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.2*this.grapharea,"-"+RGraph.number_format(this,o[4],e,f),null,h,j,null,k),i==5&&(RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.8*this.grapharea,"-"+RGraph.number_format(this,o[1],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.4*this.grapharea,"-"+RGraph.number_format(this,o[3],e,f),null,h,j,null,k)),i>=3&&(RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.6*this.grapharea,"-"+RGraph.number_format(this,o[2],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+1*this.grapharea,"-"+RGraph.number_format(this,o[0],e,f),null,h,j,null,k));else if(i==10){var m=this.grapharea/i/2;for(var n=0;n<i;++n)RGraph.Text(c,a,b,g,2*m+this.gutterTop+this.halfTextHeight+n/10*this.grapharea,"-"+RGraph.number_format(this,(o[0]-(o[0]-this.min)/i*(i-n-1)).toFixed(this.properties["chart.scale.decimals"]),e,f),null,h,j,null,k)}else alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");this.properties["chart.ylabels.invert"]&&this.context.translate(0,0-this.grapharea*-0.2),typeof this.properties["chart.ymin"]=="number"&&RGraph.Text(c,a,b,g,this.properties["chart.ylabels.invert"]?this.canvas.height-this.gutterBottom:this.gutterTop,"-"+RGraph.number_format(this,this.properties["chart.ymin"].toFixed(this.properties["chart.scale.decimals"]),e,f),"center",h,j,null,k)}else{this.properties["chart.ylabels.invert"]&&(this.scale=RGraph.array_reverse(this.scale),this.context.translate(0,this.grapharea*.2),typeof this.properties["chart.ymin"]==null&&this.Set("chart.ymin",0));if(i==1||i==3||i==5)RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+0*this.grapharea,RGraph.number_format(this,this.scale[4],e,f),null,h,j,null,k),i==5&&(RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.6*this.grapharea,RGraph.number_format(this,this.scale[1],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.2*this.grapharea,RGraph.number_format(this,this.scale[3],e,f),null,h,j,null,k)),i>=3&&(RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.4*this.grapharea,RGraph.number_format(this,this.scale[2],e,f),null,h,j,null,k),RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+.8*this.grapharea,RGraph.number_format(this,this.scale[0],e,f),null,h,j,null,k));else if(i==10){var m=this.grapharea/i/2;for(var n=0;n<i;++n)RGraph.Text(c,a,b,g,this.gutterTop+this.halfTextHeight+n/10*this.grapharea,RGraph.number_format(this,((this.scale[4]-this.min)/i*(i-n)+this.min).toFixed(this.properties["chart.scale.decimals"]),e,f),null,h,j,null,k)}else alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");this.properties["chart.ylabels.invert"]&&this.context.translate(0,0-this.grapharea*.2),typeof this.properties["chart.ymin"]=="number"&&RGraph.Text(c,a,b,g,this.properties["chart.ylabels.invert"]?this.gutterTop:this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.properties["chart.ymin"].toFixed(this.properties["chart.scale.decimals"]),e,f),"center",h,j,null,k)}this.properties["chart.noxaxis"]==!0&&this.properties["chart.ymin"]==null&&this.properties["chart.xaxispos"]!="center"&&this.properties["chart.noendytick"]==!1&&RGraph.Text(c,a,b,g,this.properties["chart.xaxispos"]=="top"?this.gutterTop+this.halfTextHeight:this.canvas.height-this.gutterBottom+this.halfTextHeight,this.properties["chart.units.pre"]+"0"+this.properties["chart.units.post"],null,h,j,null,k)}else if(this.properties["chart.ylabels"]&&typeof this.properties["chart.ylabels.specific"]=="object"){var p=this.grapharea/this.properties["chart.ylabels.specific"].length,q=this.properties["chart.yaxispos"]=="left"?"right":"left",j=!1,k=null,r=this.properties["chart.ymin"]!=null&&this.properties["chart.ymin"];if(this.properties["chart.yaxispos"]=="left"){var s=this.gutterLeft-5;this.properties["chart.ylabels.inside"]&&(s+=10,q="left",j=!0,k="rgba(255,255,255,0.5)")}else if(this.properties["chart.yaxispos"]=="right"){var s=this.canvas.width-this.gutterRight+5;this.properties["chart.ylabels.inside"]&&(s-=10,q="right",j=!0,k="rgba(255,255,255,0.5)")}if(this.properties["chart.xaxispos"]=="center"){for(var n=0;n<this.properties["chart.ylabels.specific"].length;++n){var t=this.gutterTop+this.grapharea/(this.properties["chart.ylabels.specific"].length*2)*n;if(r&&r>0){var t=this.grapharea/2/(this.properties["chart.ylabels.specific"].length-(r?1:0))*n;t+=this.gutterTop}RGraph.Text(c,a,b,s,t,String(this.properties["chart.ylabels.specific"][n]),"center",q,j,0,k)}var u=RGraph.array_reverse(this.properties["chart.ylabels.specific"]);for(var n=0;n<u.length;++n){var t=this.grapharea/2+this.gutterTop+this.grapharea/(u.length*2)*(n+1);if(r&&r>0){var t=this.grapharea/2/(u.length-(r?1:0))*n;t+=this.gutterTop,t+=this.grapharea/2}RGraph.Text(c,a,b,s,t,String(u[n]),"center",q,j,0,k)}}else if(this.properties["chart.xaxispos"]=="top"){var u=RGraph.array_reverse(this.properties["chart.ylabels.specific"]);for(var n=0;n<u.length;++n){var t=this.grapharea/(u.length-(r?1:0))*(n+(r?0:1));t=t+this.gutterTop,RGraph.Text(c,a,b,s,t,String(u[n]),"center",q,j,0,k)}}else for(var n=0;n<this.properties["chart.ylabels.specific"].length;++n){var t=this.gutterTop+this.grapharea/(this.properties["chart.ylabels.specific"].length-(r?1:0))*n;RGraph.Text(c,a,b,s,t,String(this.properties["chart.ylabels.specific"][n]),"center",q,j,0,k)}}if(this.properties["chart.labels"]&&this.properties["chart.labels"].length>0){var v=5,w=!1,k=null,x=0,y="top",q="center";this.properties["chart.xlabels.inside"]&&(v=-5,w=!0,k=this.properties["chart.xlabels.inside.color"],y="bottom"),this.properties["chart.xaxispos"]=="top"&&(y="bottom",v+=2),typeof this.properties["chart.text.angle"]=="number"&&this.properties["chart.text.angle"]>0&&(x=-1*this.properties["chart.text.angle"],y="center",q="right",v=10,this.properties["chart.xaxispos"]=="top"&&(v=10)),this.context.fillStyle=this.properties["chart.text.color"];var z=this.properties["chart.labels"].length;for(n=0;n<z;++n)if(this.properties["chart.labels"][n]){var A=(this.canvas.width-this.gutterLeft-this.gutterRight-2*this.properties["chart.hmargin"])/(z-1)*n;A+=this.gutterLeft+this.properties["chart.hmargin"],this.properties["chart.labels"].length!=this.data[0].length&&(A=this.gutterLeft+this.properties["chart.hmargin"]+(this.canvas.width-this.gutterLeft-this.gutterRight-2*this.properties["chart.hmargin"])*(n/(this.properties["chart.labels"].length-1))),A||(A=this.gutterLeft+this.properties["chart.hmargin"]),this.properties["chart.xaxispos"]=="top"&&this.properties["chart.text.angle"]>0&&(q="left"),RGraph.Text(c,a,b,A,this.properties["chart.xaxispos"]=="top"?this.gutterTop-v-(this.properties["chart.xlabels.inside"]?-22:0):this.canvas.height-this.gutterBottom+v,String(this.properties["chart.labels"][n]),y,q,w,x,k)}}this.context.stroke(),this.context.fill()},RGraph.Line.prototype.DrawLine=function(a,b,c,d,e,f){if(this.properties["chart.animation.unfold.y"]&&this.properties["chart.animation.factor"]!=1)for(var g=0;g<a.length;++g)a[g]*=this.properties["chart.animation.factor"];var h=!1,i=null,j=0;this.context.lineWidth=1;var k=[];if(f>0)var l=this.coords2[f-1];var m=(this.canvas.width-2*this.properties["chart.hmargin"]-this.gutterLeft-this.gutterRight)/(a.length-1);for(g=0;g<a.length;g++){var n=a[g];i=this.canvas.height-(n-(n>0?this.properties["chart.ymin"]:-1*this.properties["chart.ymin"]))/(this.max-this.min)*this.grapharea,i=this.grapharea/(this.max-this.min)*(n-this.min),i=this.canvas.height-i,n==this.max&&(i=Math.round(i)),this.properties["chart.ylabels.invert"]&&(i-=this.gutterBottom,i-=this.gutterTop,i=this.canvas.height-i),this.properties["chart.xaxispos"]=="center"?(i=(i-this.gutterBottom-this.gutterTop)/2,i=i+this.gutterTop):this.properties["chart.xaxispos"]=="top"?(i=this.grapharea/(this.max-this.min)*(Math.abs(n)-this.min),i+=this.gutterTop,this.properties["chart.ylabels.invert"]&&(i-=this.gutterTop,i=this.grapharea-i,i+=this.gutterTop)):this.properties["chart.xaxispos"]=="bottom"&&(i-=this.gutterBottom);if(a[g]==null||this.properties["chart.xaxispos"]=="bottom"&&a[g]<this.min&&!this.properties["chart.outofbounds"]||this.properties["chart.xaxispos"]=="center"&&a[g]<-1*this.max&&!this.properties["chart.outofbounds"])i=null;this.context.lineCap="round",this.context.lineJoin="round",g>0?j=j+m:j=this.properties["chart.hmargin"]+this.gutterLeft,this.properties["chart.animation.unfold.x"]&&(j*=this.properties["chart.animation.factor"],j<this.properties["chart.gutter.left"]&&(j=this.properties["chart.gutter.left"])),this.coords.push([j,i]),k.push([j,i])}this.context.stroke(),this.coords2[f]=k,RGraph.isOld()&&this.properties["chart.shadow"]&&this.DrawIEShadow(k,this.context.shadowColor),this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",c&&(this.context.fillStyle=c);var o=this.properties["chart.stepped"],p=this.properties["chart.filled"];if(this.properties["chart.xaxispos"]=="top")var q=this.gutterTop;else if(this.properties["chart.xaxispos"]=="center")var q=this.gutterTop+this.grapharea/2;else if(this.properties["chart.xaxispos"]=="bottom")var q=this.canvas.height-this.gutterBottom;for(var g=0;g<k.length;++g){j=k[g][0],i=k[g][1];var r=f,s=k[g-1]?k[g-1][1]:null,t=g+1==k.length;if(s<this.gutterTop||s>this.canvas.height-this.gutterBottom)h=!0;g==0||h||!i||!s||s<this.gutterTop?(this.properties["chart.filled"]&&!this.properties["chart.filled.range"]?(this.context.moveTo(j+1,q),this.properties["chart.xaxispos"]=="top"&&this.context.moveTo(j+1,q),this.context.lineTo(j,i)):(!RGraph.isOld()||i!=null)&&this.context.moveTo(j+1,i),i==null?h=!0:h=!1):(o&&this.context.lineTo(j,k[g-1][1]),i>=this.gutterTop&&i<=this.canvas.height-this.gutterBottom||this.properties["chart.outofbounds"]?(t&&this.properties["chart.filled"]&&!this.properties["chart.filled.range"]&&this.properties["chart.yaxispos"]=="right"&&(j-=1),!o||!t?(this.context.lineTo(j,i),p&&k[g+1]&&k[g+1][1]==null&&this.context.lineTo(j,q)):o&&t&&this.context.lineTo(j,i),h=!1):h=!0)}if(this.properties["chart.filled"]&&!this.properties["chart.filled.range"]){var u=this.properties["chart.fillstyle"];if(f>0&&this.properties["chart.filled.accumulative"]){this.context.lineTo(j,l?l[g-1][1]:this.canvas.height-this.gutterBottom-1+(this.properties["chart.xaxispos"]=="center"?(this.canvas.height-this.gutterTop-this.gutterBottom)/2:0));for(var v=g-1;v>=0;--v)this.context.lineTo(v==0?l[v][0]+1:l[v][0],l[v][1])}else if(this.properties["chart.xaxispos"]=="top")this.context.lineTo(j,this.properties["chart.gutter.top"]+1),this.context.lineTo(k[0][0],this.properties["chart.gutter.top"]+1);else if(typeof k[g-1][1]=="number"){var w=this.properties["chart.xaxispos"]=="center"?(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop:this.canvas.height-this.gutterBottom;this.context.lineTo(j,w),this.context.lineTo(k[0][0],w)}this.context.fillStyle=c,this.context.fill(),this.context.beginPath()}if(navigator.userAgent.match(/Chrome/)&&this.properties["chart.shadow"]&&this.properties["chart.chromefix"]&&this.properties["chart.shadow.blur"]>0)for(var g=k.length-1;g>=0;--g)typeof k[g][1]!="number"||typeof k[g+1]=="object"&&typeof k[g+1][1]!="number"?this.context.moveTo(k[g][0],k[g][1]):this.context.lineTo(k[g][0],k[g][1]);this.context.stroke(),this.properties["chart.backdrop"]&&this.DrawBackdrop(k,b),this.RedrawLine(k,b,d),this.context.stroke();for(var g=0;g<k.length;++g){g=Number(g),o&&g==k.length-1&&this.context.beginPath();if(e!="endcircle"&&e!="endsquare"&&e!="filledendsquare"&&e!="endtick"&&e!="endtriangle"&&e!="arrow"&&e!="filledarrow"||g==0&&e!="arrow"&&e!="filledarrow"||g==k.length-1){var x=g<=0?null:k[g-1][0],s=g<=0?null:k[g-1][1];this.DrawTick(a,k[g][0],k[g][1],b,!1,x,s,e,g)}}this.context.beginPath(),this.context.arc(this.canvas.width+5e4,this.canvas.height+5e4,2,0,6.38,1)},RGraph.Line.prototype.DrawTick=function(a,b,c,d,e,f,g,h,i){if((c==null||c>this.canvas.height-this.gutterBottom||c<this.gutterTop)&&!this.properties["chart.outofbounds"]||!this.properties["chart.line.visible"])return;this.context.beginPath();var j=0;this.context.lineWidth=this.properties["chart.tickmarks.linewidth"]?this.properties["chart.tickmarks.linewidth"]:this.properties["chart.linewidth"],this.context.strokeStyle=e?this.properties["chart.shadow.color"]:this.context.strokeStyle,this.context.fillStyle=e?this.properties["chart.shadow.color"]:this.context.strokeStyle;if(h=="circle"||h=="filledcircle"||h=="endcircle"){if(h=="circle"||h=="filledcircle"||h=="endcircle")this.context.beginPath(),this.context.arc(b+j,c+j,this.properties["chart.ticksize"],0,360/(180/PI),!1),h=="filledcircle"?this.context.fillStyle=e?this.properties["chart.shadow.color"]:this.context.strokeStyle:this.context.fillStyle=e?this.properties["chart.shadow.color"]:"white",this.context.stroke(),this.context.fill()}else if(h=="halftick")this.context.beginPath(),this.context.moveTo(b,c),this.context.lineTo(b,c+this.properties["chart.ticksize"]),this.context.stroke();else if(h=="tick")this.context.beginPath(),this.context.moveTo(b,c-this.properties["chart.ticksize"]),this.context.lineTo(b,c+this.properties["chart.ticksize"]),this.context.stroke();else if(h=="endtick")this.context.beginPath(),this.context.moveTo(b,c-this.properties["chart.ticksize"]),this.context.lineTo(b,c+this.properties["chart.ticksize"]),this.context.stroke();else if(h=="cross")this.context.beginPath(),this.context.moveTo(b-this.properties["chart.ticksize"],c-this.properties["chart.ticksize"]),this.context.lineTo(b+this.properties["chart.ticksize"],c+this.properties["chart.ticksize"]),this.context.moveTo(b+this.properties["chart.ticksize"],c-this.properties["chart.ticksize"]),this.context.lineTo(b-this.properties["chart.ticksize"],c+this.properties["chart.ticksize"]),this.context.stroke();else if(h=="triangle"||h=="filledtriangle"||h=="endtriangle")this.context.beginPath(),h=="filledtriangle"?this.context.fillStyle=e?this.properties["chart.shadow.color"]:this.context.strokeStyle:this.context.fillStyle="white",this.context.moveTo(b-this.properties["chart.ticksize"],c+this.properties["chart.ticksize"]),this.context.lineTo(b,c-this.properties["chart.ticksize"]),this.context.lineTo(b+this.properties["chart.ticksize"],c+this.properties["chart.ticksize"]),this.context.closePath(),this.context.stroke(),this.context.fill();else if(h=="borderedcircle"||h=="dot")this.context.lineWidth=1,this.context.strokeStyle=this.properties["chart.tickmarks.dot.color"],this.context.fillStyle=this.properties["chart.tickmarks.dot.color"],this.context.beginPath(),this.context.arc(b,c,this.properties["chart.ticksize"],0,360/(180/PI),!1),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.beginPath(),this.context.fillStyle=d,this.context.strokeStyle=d,this.context.arc(b,c,this.properties["chart.ticksize"]-2,0,360/(180/PI),!1),this.context.closePath(),this.context.fill(),this.context.stroke();else if(h=="square"||h=="filledsquare"||h=="endsquare"||h=="filledendsquare"){this.context.fillStyle="white",this.context.strokeStyle=this.context.strokeStyle,this.context.beginPath(),this.context.strokeRect(b-this.properties["chart.ticksize"],c-this.properties["chart.ticksize"],this.properties["chart.ticksize"]*2,this.properties["chart.ticksize"]*2);if(h=="filledsquare"||h=="filledendsquare")this.context.fillStyle=e?this.properties["chart.shadow.color"]:this.context.strokeStyle,this.context.fillRect(b-this.properties["chart.ticksize"],c-this.properties["chart.ticksize"],this.properties["chart.ticksize"]*2,this.properties["chart.ticksize"]*2);else if(h=="square"||h=="endsquare")this.context.fillStyle=e?this.properties["chart.shadow.color"]:"white",this.context.fillRect(b-this.properties["chart.ticksize"]+1,c-this.properties["chart.ticksize"]+1,this.properties["chart.ticksize"]*2-2,this.properties["chart.ticksize"]*2-2);this.context.stroke(),this.context.fill()}else if(h=="filledarrow"){var k=Math.abs(b-f),l=Math.abs(c-g);if(c<g)var m=Math.atan(k/l)+1.57;else var m=Math.atan(l/k)+3.14;this.context.beginPath(),this.context.moveTo(b,c),this.context.arc(b,c,7,m-.5,m+.5,!1),this.context.closePath(),this.context.stroke(),this.context.fill()}else if(h=="arrow"){var k=Math.abs(b-f),l=Math.abs(c-g),n=this.context.lineWidth;if(c<g)var m=Math.atan(k/l)+1.57;else var m=Math.atan(l/k)+3.14;this.context.beginPath(),this.context.moveTo(b,c),this.context.arc(b,c,7,m-.5-(document.all?.1:.01),m-.4,!1),this.context.moveTo(b,c),this.context.arc(b,c,7,m+.5+(document.all?.1:.01),m+.5,!0),this.context.stroke(),this.context.fill(),this.context.lineWidth=n}else typeof h=="function"&&h(this,a,a[i],i,b,c,d,f,g)},RGraph.Line.prototype.DrawRange=function(){if(this.properties["chart.filled.range"]&&this.properties["chart.filled"]){this.context.beginPath(),this.context.fillStyle=this.properties["chart.fillstyle"],this.context.strokeStyle=this.properties["chart.fillstyle"],this.context.lineWidth=1;var a=this.coords.length/2;for(var b=0;b<a;++b)b==0?this.context.moveTo(this.coords[b][0],this.coords[b][1]):this.context.lineTo(this.coords[b][0],this.coords[b][1]);for(var b=this.coords.length-1;b>=a;--b)this.context.lineTo(this.coords[b][0],this.coords[b][1]);this.context.stroke(),this.context.fill()}},RGraph.Line.prototype.RedrawLine=function(a,b,c){if(this.properties["chart.noredraw"])return;this.context.strokeStyle=typeof b=="object"&&b?b[0]:b,this.context.lineWidth=c,this.properties["chart.line.visible"]||(this.context.strokeStyle="rgba(0,0,0,0)");if(this.properties["chart.curvy"]){this.DrawCurvyLine(a,this.properties["chart.line.visible"]?b:"rgba(0,0,0,0)",c);return}this.context.beginPath();var d=a.length,e=this.canvas.width,f=this.canvas.height,g=!1;for(var h=0;h<d;++h){var i=a[h][0],j=a[h][1];if(h>0)var k=a[h-1][0],l=a[h-1][1];(h==0&&a[h]||j<this.gutterTop||l<this.gutterTop||j>f-this.gutterBottom||h>0&&k>e-this.gutterRight||h>0&&l>f-this.gutterBottom||l==null||g==!0)&&(!this.properties["chart.outofbounds"]||j==null||l==null)?((!RGraph.isOld()||j!=null)&&this.context.moveTo(a[h][0],a[h][1]),g=!1):(this.properties["chart.stepped"]&&h>0&&this.context.lineTo(a[h][0],a[h-1][1]),this.context.lineTo(a[h][0],a[h][1]),g=!1)}if(this.properties["chart.colors.alternate"]&&typeof b=="object"&&b[0]&&b[1])for(var h=1;h<d;++h){var k=a[h-1][0],l=a[h-1][1];this.context.beginPath(),this.context.strokeStyle=b[a[h][1]<l?0:1],this.context.lineWidth=this.properties["chart.linewidth"],this.context.moveTo(k,l),this.context.lineTo(a[h][0],a[h][1]),this.context.stroke()}},RGraph.Line.prototype.DrawIEShadow=function(a,b){var c=this.properties["chart.shadow.offsetx"],d=this.properties["chart.shadow.offsety"];this.context.lineWidth=this.properties["chart.linewidth"],this.context.strokeStyle=b,this.context.beginPath();for(var e=0;e<a.length;++e)e==0?this.context.moveTo(a[e][0]+c,a[e][1]+d):this.context.lineTo(a[e][0]+c,a[e][1]+d);this.context.stroke()},RGraph.Line.prototype.DrawBackdrop=function(a,b){var c=this.properties["chart.backdrop.size"];this.context.lineWidth=c,this.context.globalAlpha=this.properties["chart.backdrop.alpha"],this.context.strokeStyle=b,this.context.lineJoin="miter",this.context.beginPath(),this.context.moveTo(a[0][0],a[0][1]);for(var d=1;d<a.length;++d)this.context.lineTo(a[d][0],a[d][1]);this.context.stroke(),this.context.globalAlpha=1,this.context.lineJoin="round",RGraph.NoShadow(this)},RGraph.Line.prototype.GetLineWidth=function(a){var b=this.properties["chart.linewidth"];if(typeof b=="number")return b;if(typeof b=="object")return b[a]?b[a]:b[0]},RGraph.Line.prototype.getShape=RGraph.Line.prototype.getPoint=function(a){var b=a.target,c=this,d=c.context,e=RGraph.getMouseXY(a),f=e[0],g=e[1];arguments[1]&&(c=arguments[1]);for(var h=0;h<c.coords.length;++h){var i=c.coords[h][0],j=c.coords[h][1];if(f<=i+c.properties["chart.tooltips.hotspot.size"]&&f>=i-c.properties["chart.tooltips.hotspot.size"]&&g<=j+c.properties["chart.tooltips.hotspot.size"]&&g>=j-c.properties["chart.tooltips.hotspot.size"]){var k=RGraph.parseTooltipText(this.properties["chart.tooltips"],h),l=0,m=h;while(m+1>this.data[l].length)m-=this.data[l].length,l++;return{0:c,1:i,2:j,3:h,object:c,x:i,y:j,index:h,tooltip:k,dataset:l,index_adjusted:m}}if(c.properties["chart.tooltips.hotspot.xonly"]==!0&&f<=i+c.properties["chart.tooltips.hotspot.size"]&&f>=i-c.properties["chart.tooltips.hotspot.size"]){var k=RGraph.parseTooltipText(this.properties["chart.tooltips"],h);return{0:c,1:i,2:j,3:h,object:c,x:i,y:j,index:h,tooltip:k}}}},RGraph.Line.prototype.DrawAboveLabels=function(){var a=this.context,b=this.properties["chart.labels.above.size"],c=this.properties["chart.text.font"],d=this.properties["chart.units.pre"],e=this.properties["chart.units.post"];a.beginPath();for(var f=0;f<this.coords.length;++f){var g=this.coords[f];RGraph.Text(a,c,b,g[0],g[1]-5-b,RGraph.number_format(this,this.data_arr[f],d,e),"center","center",!0,null,"rgba(255, 255, 255, 0.7)")}a.fill()},RGraph.Line.prototype.DrawCurvyLine=function(a,b,c){var d=this.context;d.beginPath(),d.strokeStyle=b,d.lineWidth=c;for(var e=0;e<a.length;++e){var f=this.properties["chart.curvy.factor"];if(a[e]&&typeof a[e][1]=="number"&&a[e+1]&&typeof a[e+1][1]=="number"){var g=a[e][0],h=a[e][1],i=a[e+1][0],j=a[e+1][1],k=a[e-1]?a[e-1][0]:null,l=a[e-1]?a[e-1][1]:null,m=(a[e+1][0]-a[e][0])*f,n=(a[e+1][1]-a[e][1])*f;e==0?(d.moveTo(g,h),d.lineTo(i-m,j-n)):j==null?d.lineTo(g,h):l==null?d.moveTo(g,h):h==null?d.moveTo(i,j):(d.quadraticCurveTo(g,h,g+m,h+n),j?d.lineTo(i-m,j-n):d.lineTo(g,h))}else typeof a[e][1]=="number"&&d.lineTo(a[e][0],a[e][1])}d.stroke()},RGraph.Line.prototype.getValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];var e=this;if(c<e.properties["chart.gutter.top"]||c>e.canvas.height-e.properties["chart.gutter.bottom"]||b<e.properties["chart.gutter.left"]||b>e.canvas.width-e.properties["chart.gutter.right"])return null;if(this.properties["chart.xaxispos"]=="center"){var f=(e.grapharea/2-(c-e.properties["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return f*=2,f}if(this.properties["chart.xaxispos"]=="top"){var f=(e.grapharea-(c-e.properties["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return f=Math.abs(e.max-f)*-1,f}var f=(e.grapharea-(c-e.properties["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return f+=e.min,f},RGraph.Line.prototype.Highlight=function(a){this.properties["chart.tooltips.highlight"]&&RGraph.Highlight.Point(this,a)},RGraph.Line.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.properties["chart.gutter.left"]&&b[0]<this.canvas.width-this.properties["chart.gutter.right"]&&b[1]>this.properties["chart.gutter.top"]&&b[1]<this.canvas.height-this.properties["chart.gutter.bottom"])return this},RGraph.Line.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=Number(this.getValue(a)),c=RGraph.Registry.Get("chart.adjusting.shape");c&&(RGraph.Registry.Set("chart.adjusting.shape",c),this.original_data[c.dataset][c.index_adjusted]=Number(b),RGraph.RedrawCanvas(a.target),RGraph.FireCustomEvent(this,"onadjust"))}},RGraph.Line.prototype.getYCoord=function(a){if(typeof a!="number")return null;var b,c=this.properties["chart.xaxispos"];return a>this.max&&(a=this.max),c=="top"?(a<0&&(a=Math.abs(a)),b=(a-this.min)/(this.max-this.min)*this.grapharea,this.properties["chart.ylabels.invert"]&&(b=this.grapharea-b),b=b+this.gutterTop):c=="center"?(b=(a-this.min)/(this.max-this.min)*(this.grapharea/2),b=this.grapharea/2-b,b+=this.gutterTop):(a<this.min&&(a=this.min),a>this.max&&(a=this.max),b=(a-this.min)/(this.max-this.min)*this.grapharea,this.properties["chart.ylabels.invert"]&&(b=this.grapharea-b),b=this.canvas.height-this.gutterBottom-b),b},RGraph.Line.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=RGraph.getCanvasXY(a.canvas),i=a.properties["chart.gutter.left"],j=a.properties["chart.gutter.top"],k=d.offsetWidth;d.style.left=0,d.style.top=parseInt(d.style.top)-9+"px",d.style.overflow="";var l=new Image;l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",l.style.position="absolute",l.id="__rgraph_tooltip_pointer__"
,l.style.top=d.offsetHeight-2+"px",d.appendChild(l),h[0]+f-k/2<10?(d.style.left=h[0]+f-k*.1+"px",l.style.left=k*.1-8.5+"px"):h[0]+f+k/2>document.body.offsetWidth?(d.style.left=h[0]+f-k*.9+"px",l.style.left=k*.9-8.5+"px"):(d.style.left=h[0]+f-k*.5+"px",l.style.left=k*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Meter=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="meter",this.min=b,this.max=c,this.value=d,this.centerx=null,this.centery=null,this.radius=null,this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.color":"white","chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.linewidth":1,"chart.linewidth.segments":1,"chart.strokestyle":null,"chart.border":!0,"chart.border.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.text.color":"black","chart.value.label":!1,"chart.value.text.decimals":0,"chart.value.text.units.pre":"","chart.value.text.units.post":"","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.green.start":(this.max-this.min)*.35+this.min,"chart.green.end":this.max,"chart.green.color":"#207A20","chart.yellow.start":(this.max-this.min)*.1+this.min,"chart.yellow.end":(this.max-this.min)*.35+this.min,"chart.yellow.color":"#D0AC41","chart.red.start":this.min,"chart.red.end":(this.max-this.min)*.1+this.min,"chart.red.color":"#9E1E1E","chart.colors.ranges":null,"chart.units.pre":"","chart.units.post":"","chart.contextmenu":null,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.annotatable":!1,"chart.annotate.color":"black","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.tickmarks.small.num":100,"chart.tickmarks.big.num":10,"chart.tickmarks.small.color":"#bbb","chart.tickmarks.big.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.radius":null,"chart.centerx":null,"chart.centery":null,"chart.labels":!0,"chart.segment.radius.start":null,"chart.needle.radius":null,"chart.needle.tail":!1,"chart.adjustable":!1};if(!this.canvas){alert("[METER] No canvas support");return}RGraph.Register(this)},RGraph.Meter.prototype.Set=function(a,b){if(a=="chart.value"){this.value=b;return}this.properties[a.toLowerCase()]=b},RGraph.Meter.prototype.Get=function(a){return a=="chart.value"?this.value:this.properties[a]},RGraph.Meter.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=this.canvas.height-this.gutterBottom,this.radius=Math.min((this.canvas.width-this.gutterLeft-this.gutterRight)/2,this.canvas.height-this.gutterTop-this.gutterBottom),typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius")),this.DrawBackground(),this.DrawNeedle(),this.DrawLabels(),this.DrawReadout(),RGraph.DrawTitle(this,this.Get("chart.title"),this.gutterTop,null,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.isOld()&&(this.context.beginPath(),this.context.moveTo(this.gutterLeft,this.canvas.height-this.gutterBottom),this.context.fillStyle="white",this.context.fillRect(this.centerx-this.radius-5,RGraph.GetHeight(this)-this.gutterBottom+1,10,this.gutterBottom),this.context.fill(),this.context.beginPath(),this.context.moveTo(RGraph.GetWidth(this)-this.gutterRight,RGraph.GetHeight(this)-this.gutterBottom),this.context.fillStyle="white",this.context.fillRect(this.centerx+this.radius-5,RGraph.GetHeight(this)-this.gutterBottom+1,10,this.gutterBottom),this.context.fill()),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Meter.prototype.DrawBackground=function(){if(this.Get("chart.shadow")){this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.shadowColor=this.Get("chart.shadow.color"),this.context.shadowBlur=this.Get("chart.shadow.blur"),this.context.shadowOffsetX=this.Get("chart.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.shadow.offsety"),this.context.arc(this.centerx,this.centery,this.radius,PI,TWOPI,!1),this.context.fill(),this.context.beginPath();var a=this.radius*.06>40?40:this.radius*.06;this.context.arc(this.centerx,this.centery,a,0,TWOPI,0),this.context.fill(),RGraph.NoShadow(this)}if(this.Get("chart.tickmarks.small.num")){for(var b=0;b<PI;b+=PI/this.Get("chart.tickmarks.small.num"))this.context.beginPath(),this.context.strokeStyle=this.Get("chart.tickmarks.small.color"),this.context.arc(this.centerx,this.centery,this.radius,PI+b,PI+b,0),this.context.arc(this.centerx,this.centery,this.radius-5,PI+b,PI+b+1e-5,0),this.context.stroke();this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.arc(this.centerx,this.centery,this.radius-4,PI,TWOPI,!1),this.context.closePath(),this.context.fill()}if(this.Get("chart.tickmarks.big.num")){var c=["white","white",this.Get("chart.tickmarks.big.color")];for(var d=0;d<c.length;++d)for(var b=0;b<PI;b+=PI/this.Get("chart.tickmarks.big.num"))this.context.beginPath(),this.context.strokeStyle=c[d],this.context.arc(this.centerx,this.centery,this.radius,PI+b,PI+b,0),this.context.arc(this.centerx,this.centery,this.radius-5,PI+b,PI+b+1e-4,0),this.context.stroke()}this.context.beginPath(),this.context.fillStyle=this.Get("chart.background.color"),this.context.arc(this.centerx,this.centery,this.radius-7,PI,TWOPI,!1),this.context.closePath(),this.context.fill();var e=this.Get("chart.colors.ranges");if(RGraph.is_array(this.Get("chart.colors.ranges"))){var e=this.Get("chart.colors.ranges");for(var b=0;b<e.length;++b)this.context.strokeStyle=this.Get("chart.strokestyle")?this.Get("chart.strokestyle"):e[b][2],this.context.fillStyle=e[b][2],this.context.lineWidth=this.Get("chart.linewidth.segments"),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius*.85,(e[b][0]-this.min)/(this.max-this.min)*PI+PI,(e[b][1]-this.min)/(this.max-this.min)*PI+PI,!1),typeof this.Get("chart.segment.radius.start")&&this.Get("chart.segment.radius.start")?this.context.arc(this.centerx,this.centery,this.Get("chart.segment.radius.start"),(e[b][1]-this.min)/(this.max-this.min)*PI+PI,(e[b][0]-this.min)/(this.max-this.min)*PI+PI,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill();this.context.beginPath()}else this.context.strokeStyle=this.Get("chart.strokestyle")?this.Get("chart.strokestyle"):this.Get("chart.green.color"),this.context.fillStyle=this.Get("chart.green.color"),this.context.lineWidth=this.Get("chart.linewidth.segments"),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius*.85,(this.Get("chart.green.start")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.green.end")-this.min)/(this.max-this.min)*PI+PI,!1),typeof this.Get("chart.segment.radius.start")&&this.Get("chart.segment.radius.start")?this.context.arc(this.centerx,this.centery,this.Get("chart.segment.radius.start"),(this.Get("chart.green.end")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.green.start")-this.min)/(this.max-this.min)*PI+PI,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=this.Get("chart.strokestyle")?this.Get("chart.strokestyle"):this.Get("chart.yellow.color"),this.context.fillStyle=this.Get("chart.yellow.color"),this.context.lineWidth=this.Get("chart.linewidth.segments"),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius*.85,(this.Get("chart.yellow.start")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.yellow.end")-this.min)/(this.max-this.min)*PI+PI,!1),typeof this.Get("chart.segment.radius.start")&&this.Get("chart.segment.radius.start")?this.context.arc(this.centerx,this.centery,this.Get("chart.segment.radius.start"),(this.Get("chart.yellow.end")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.yellow.start")-this.min)/(this.max-this.min)*PI+PI,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=this.Get("chart.strokestyle")?this.Get("chart.strokestyle"):this.Get("chart.red.color"),this.context.fillStyle=this.Get("chart.red.color"),this.context.lineWidth=this.Get("chart.linewidth.segments"),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius*.85,(this.Get("chart.red.start")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.red.end")-this.min)/(this.max-this.min)*PI+PI,!1),typeof this.Get("chart.segment.radius.start")&&this.Get("chart.segment.radius.start")?this.context.arc(this.centerx,this.centery,this.Get("chart.segment.radius.start"),(this.Get("chart.red.end")-this.min)/(this.max-this.min)*PI+PI,(this.Get("chart.red.start")-this.min)/(this.max-this.min)*PI+PI,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.lineWidth=1;this.Get("chart.border")&&(this.context.strokeStyle=this.Get("chart.border.color"),this.context.lineWidth=this.Get("chart.linewidth"),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,PI,TWOPI,!1),this.context.closePath()),this.context.stroke(),this.context.lineWidth=1},RGraph.Meter.prototype.DrawNeedle=function(){var a=typeof this.Get("chart.needle.radius")=="number"?this.Get("chart.needle.radius"):this.radius*.7;this.context.fillStyle="black",this.context.lineWidth=this.radius>=200?7:3,this.context.lineCap="round",this.context.beginPath(),this.context.strokeStyle="black",typeof this.Get("chart.needle.linewidth")=="number"&&(this.context.lineWidth=this.Get("chart.needle.linewidth"));var b=(this.value-this.min)/(this.max-this.min)*PI+PI;this.context.arc(this.centerx,this.centery,a,b,b+.001,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke(),this.context.beginPath(),this.context.lineWidth=1,this.context.arc(this.centerx,this.centery,a+15,b,b+.001,0),this.context.arc(this.centerx,this.centery,a-15,b+.087,b+.087999,0),this.context.arc(this.centerx,this.centery,a-15,b-.087,b-.087999,1),this.context.fill();if(this.Get("chart.needle.tail")){this.context.beginPath(),this.context.strokeStyle="black",typeof this.Get("chart.needle.linewidth")=="number"&&(this.context.lineWidth=this.Get("chart.needle.linewidth"));var b=(this.value-this.min)/(this.max-this.min)*PI+TWOPI;this.context.arc(this.centerx,this.centery,25,b,b+.001,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}var c=this.radius*.06>40?40:this.radius*.06;this.context.beginPath(),this.context.arc(this.centerx,this.centery,c,0,TWOPI,0),this.context.fill(),this.context.fillStyle="white",this.context.beginPath(),this.context.arc(this.centerx,this.centery,c-2,0,TWOPI,0),this.context.fill()},RGraph.Meter.prototype.DrawLabels=function(){if(!this.Get("chart.labels"))return;var a=this.context,b=this.radius,c=this.Get("chart.text.size"),d=this.Get("chart.text.font"),e=this.Get("chart.units.post"),f=this.Get("chart.units.pre"),g=this.centerx,h=this.centery,i=this.min,j=this.max,k=this.Get("chart.scale.decimals");a.fillStyle=this.Get("chart.text.color"),a.lineWidth=1,a.beginPath(),RGraph.Text(a,d,c,g-b+.075*b,h-(this.Get("chart.border")?10:-5),RGraph.number_format(this,i.toFixed(k),f,e),"center","left",!1,270),RGraph.Text(a,d,c,g-Math.cos(.314095)*(b-.075*b),h-Math.sin(.3414095)*(b-.1587*b),RGraph.number_format(this,((j-i)*.1+i).toFixed(k),e,e),"center","center",!1,288),RGraph.Text(a,d,c,g-Math.cos(.62819)*(b-.07*b),h-Math.sin(.682819)*(b-.15*b),RGraph.number_format(this,((j-i)*.2+i).toFixed(k),f,e),"center","center",!1,306),RGraph.Text(a,d,c,g-Math.cos(.95)*(b-.085*b),h-Math.sin(.95)*(b-.0785*b),RGraph.number_format(this,((j-i)*.3+i).toFixed(k),f,e),"center","center",!1,320),RGraph.Text(a,d,c,g-Math.cos(1.2566)*(b-.085*b),h-Math.sin(1.2566)*(b-.0785*b),RGraph.number_format(this,((j-i)*.4+i).toFixed(k),f,e),"center","center",!1,342),RGraph.Text(a,d,c,g-Math.cos(HALFPI)*(b-.075*b),h-Math.sin(HALFPI)*(b-.075*b),RGraph.number_format(this,((j-i)*.5+i).toFixed(k),f,e),"center","center",!1,0),RGraph.Text(a,d,c,g-Math.cos(1.88495562)*(b-.075*b),h-Math.sin(1.88495562)*(b-.075*b),RGraph.number_format(this,((j-i)*.6+i).toFixed(k),f,e),"center","center",!1,18),RGraph.Text(a,d,c,g-Math.cos(2.1989)*(b-.075*b),h-Math.sin(2.1989)*(b-.075*b),RGraph.number_format(this,((j-i)*.7+i).toFixed(k),f,e),"center","center",!1,36),RGraph.Text(a,d,c,g-Math.cos(2.51327416)*(b-.075*b),h-Math.sin(2.51327416)*(b-.075*b),RGraph.number_format(this,((j-i)*.8+i).toFixed(k),f,e),"center","center",!1,54),RGraph.Text(a,d,c,g-Math.cos(2.82764832)*(b-.075*b),h-Math.sin(2.82764832)*(b-.075*b),RGraph.number_format(this,((j-i)*.9+i).toFixed(k),f,e),"center","center",!1,72),RGraph.Text(a,d,c,g+b-.075*b,h-(this.Get("chart.border")?10:-5),RGraph.number_format(this,j.toFixed(k),f,e),"center","right",!1,90),a.fill(),a.stroke()},RGraph.Meter.prototype.DrawReadout=function(){this.Get("chart.value.text")&&(this.context.beginPath(),RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),this.centerx,this.centery-this.Get("chart.text.size")-15,this.Get("chart.value.text.units.pre")+this.value.toFixed(this.Get("chart.value.text.decimals"))+this.Get("chart.value.text.units.post"),"center","center",!0,null,"white"),this.context.stroke(),this.context.fill())},RGraph.Meter.prototype.getShape=function(a){},RGraph.Meter.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getAngleByXY(this.centerx,this.centery,b[0],b[1]),d=RGraph.getHypLength(this.centerx,this.centery,b[0],b[1]);if(d>this.radius)return null;c<HALFPI&&(c=TWOPI);var e=(c-PI)/PI*(this.max-this.min)+this.min;return e=Math.max(e,this.min),e=Math.min(e,this.max),e},RGraph.Meter.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getHypLength(this.centerx,this.centery,b[0],b[1]);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+25&&c<=this.radius)return this},RGraph.Meter.prototype.Adjusting_mousemove=function(a){RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(a),RGraph.Clear(this.canvas),RGraph.RedrawCanvas(this.canvas),RGraph.FireCustomEvent(this,"onadjust"))},ModalDialog={},ModalDialog.dialog=null,ModalDialog.background=null,ModalDialog.offset=50,ModalDialog.events=[],ModalDialog.Show=function(a,b){ModalDialog.id=a,ModalDialog.width=b,ModalDialog.ShowBackground(),ModalDialog.ShowDialog(),window.onresize=ModalDialog.Resize,ModalDialog.Resize(),typeof ModalDialog.onmodaldialog=="function"&&ModalDialog.onmodaldialog(),ModalDialog.FireCustomEvent("onmodaldialog")},ModalDialog.ShowBackground=function(){ModalDialog.background=document.createElement("DIV"),ModalDialog.background.className="ModalDialog_background",ModalDialog.background.style.position="fixed",ModalDialog.background.style.top=0,ModalDialog.background.style.left=0,ModalDialog.background.style.width=screen.width+100+"px",ModalDialog.background.style.height=screen.height+100+"px",ModalDialog.background.style.backgroundColor="rgb(204,204,204)",ModalDialog.background.style.opacity=0,ModalDialog.background.style.zIndex=3276,ModalDialog.background.style.filter="Alpha(opacity=50)",document.body.appendChild(ModalDialog.background),ModalDialog.background.style.visibility="visible"},ModalDialog.ShowDialog=function(){if(!ModalDialog.dialog||!0){ModalDialog.dialog=document.createElement("DIV"),ModalDialog.dialog.id="ModalDialog_dialog",ModalDialog.dialog.className="ModalDialog_dialog";var a="15px";ModalDialog.dialog.style.borderRadius=a,ModalDialog.dialog.style.MozBorderRadius=a,ModalDialog.dialog.style.WebkitBorderRadius=a,ModalDialog.dialog.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",ModalDialog.dialog.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",ModalDialog.dialog.style.WebkitBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",ModalDialog.dialog.style.position="fixed",ModalDialog.dialog.style.backgroundColor="white",ModalDialog.dialog.style.width=parseInt(ModalDialog.width)+"px",ModalDialog.dialog.style.border="2px solid #999",ModalDialog.dialog.style.zIndex=32767,ModalDialog.dialog.style.padding="5px",ModalDialog.dialog.style.paddingTop="25px",ModalDialog.dialog.style.opacity=0,document.all&&(ModalDialog.dialog.style.zIndex=32767),navigator.userAgent.indexOf("Opera")!=-1?ModalDialog.dialog.style.paddingTop="25px":navigator.userAgent.indexOf("MSIE")!=-1?ModalDialog.dialog.style.paddingTop="25px":navigator.userAgent.indexOf("Safari")!=-1&&(ModalDialog.dialog.style.paddingTop="25px"),document.body.appendChild(ModalDialog.dialog);var b=document.createElement("DIV");b.className="ModalDialog_topbar",b.style.top=0,b.style.left=0,b.style.width="100%",b.style.height="20px",b.style.backgroundColor="#bbb",b.style.borderBottom="2px solid #999",b.style.position="absolute";var a="11px";b.style.WebkitBorderTopLeftRadius=a,b.style.WebkitBorderTopRightRadius=a,b.style.MozBorderRadiusTopleft=a,b.style.MozBorderRadiusTopright=a,b.style.borderTopRightRadius=a,b.style.borderTopLeftRadius=a,ModalDialog.dialog.appendChild(b);var c=document.createElement("DIV");c.style.width="100%",c.style.height="100%",ModalDialog.dialog.appendChild(c),ModalDialog.id.toLowerCase().substring(0,7)=="string:"?c.innerHTML=ModalDialog.id.substring(7):c.innerHTML=document.getElementById(ModalDialog.id).innerHTML,ModalDialog.dialog.style.left=document.body.offsetWidth/2-ModalDialog.dialog.offsetWidth/2+"px",ModalDialog.dialog.style.top="30%"}ModalDialog.dialog.style.visibility="visible",setTimeout("ModalDialog.dialog.style.opacity = 0.2",50),setTimeout("ModalDialog.dialog.style.opacity = 0.4",100),setTimeout("ModalDialog.dialog.style.opacity = 0.6",150),setTimeout("ModalDialog.dialog.style.opacity = 0.8",200),setTimeout("ModalDialog.dialog.style.opacity = 1",250),setTimeout("ModalDialog.background.style.opacity = 0.1",50),setTimeout("ModalDialog.background.style.opacity = 0.2",100),setTimeout("ModalDialog.background.style.opacity = 0.3",150),setTimeout("ModalDialog.background.style.opacity = 0.4",200),setTimeout("ModalDialog.background.style.opacity = 0.5",250)},ModalDialog.Close=function(){ModalDialog.dialog&&(ModalDialog.dialog.style.visibility="hidden",ModalDialog.dialog.style.opacity=0,document.body.removeChild(ModalDialog.dialog)),ModalDialog.background&&(ModalDialog.background.style.visibility="hidden",ModalDialog.background.style.opacity=0,document.body.removeChild(ModalDialog.background))},ModalDialog.Hide=ModalDialog.Close,ModalDialog.Resize=function(){ModalDialog.dialog&&(ModalDialog.dialog.style.left=document.body.offsetWidth/2-ModalDialog.dialog.offsetWidth/2+"px"),ModalDialog.background.style.width="2500px",ModalDialog.background.style.height="2500px"},ModalDialog.AddCustomEventListener=function(a,b){typeof ModalDialog.events=="undefined"&&(ModalDialog.events=[]),ModalDialog.events.push([a,b])},ModalDialog.FireCustomEvent=function(a){for(var b=0;b<ModalDialog.events.length;++b)typeof ModalDialog.events[b][0]=="string"&&ModalDialog.events[b][0]==a&&typeof ModalDialog.events[b][1]=="function"&&ModalDialog.events[b][1]()},ModalDialog.isIE8=function(){return document.all&&navigator.userAgent.indexOf("MSIE 8")>0},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Odometer=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="odo",this.isRGraph=!0,this.start=b,this.min=b,this.end=c,this.max=c,this.value=d,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.value.text":!1,"chart.value.text.decimals":0,"chart.needle.color":"black","chart.needle.width":2,"chart.needle.head":!0,"chart.needle.tail":!0,"chart.needle.type":"pointer","chart.needle.extra":[],"chart.needle.triangle.border":"#aaa","chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.green.max":c*.75,"chart.red.min":c*.9,"chart.green.color":"green","chart.yellow.color":"yellow","chart.red.color":"red","chart.green.solid":!1,"chart.yellow.solid":!1,"chart.red.solid":!1,"chart.label.area":35,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.font":null,"chart.title.bold":!0,"chart.contextmenu":null,"chart.linewidth":1,"chart.shadow.inner":!1,"chart.shadow.inner.color":"black","chart.shadow.inner.offsetx":3,"chart.shadow.inner.offsety":3,"chart.shadow.inner.blur":6,"chart.shadow.outer":!1,"chart.shadow.outer.color":"#666","chart.shadow.outer.offsetx":0,"chart.shadow.outer.offsety":0,"chart.shadow.outer.blur":15,"chart.annotatable":!1,"chart.annotate.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.units.pre":"","chart.units.post":"","chart.border":!1,"chart.border.color1":"#BEBCB0","chart.border.color2":"#F0EFEA","chart.border.color3":"#BEBCB0","chart.tickmarks":!0,"chart.tickmarks.highlighted":!1,"chart.zerostart":!1,"chart.labels":null,"chart.units.pre":"","chart.units.post":"","chart.value.units.pre":"","chart.value.units.post":"","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.halign":"right","chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.text.size":10,"chart.key.colors":null,"chart.adjustable":!1},RGraph.Register(this)},RGraph.Odometer.prototype.Set=function(a,b){a=="chart.needle.style"&&alert("[RGRAPH] The RGraph property chart.needle.style has changed to chart.needle.color"),a=="chart.needle.thickness"&&(a="chart.needle.width");if(a=="chart.value"){this.value=b;return}this.properties[a.toLowerCase()]=b},RGraph.Odometer.prototype.Get=function(a){return a=="chart.value"?this.value:this.properties[a.toLowerCase()]},RGraph.Odometer.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.value>this.end&&(this.value=this.end),this.value<this.start&&(this.value=this.start),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.radius=Math.min((this.canvas.width-this.gutterLeft-this.gutterRight)/2,(this.canvas.height-this.gutterTop-this.gutterBottom)/2)-(this.Get("chart.border")?25:0),this.diameter=2*this.radius,this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.range=this.end-this.start,this.Get("chart.key")&&this.Get("chart.key").length>0&&this.canvas.width>this.canvas.height&&(this.centerx=5+this.radius),typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius"),this.Get("chart.border")&&(this.radius-=25)),this.context.lineWidth=this.Get("chart.linewidth"),this.DrawBackground(),this.DrawLabels(),this.DrawNeedle(this.value,this.Get("chart.needle.color"));if(this.Get("chart.needle.extra").length>0)for(var a=0;a<this.Get("chart.needle.extra").length;++a){var b=this.Get("chart.needle.extra")[a];this.DrawNeedle(b[0],b[1],b[2])}if(this.Get("chart.key")&&this.Get("chart.key").length>0){var c=[this.Get("chart.needle.color")];if(this.Get("chart.needle.extra").length>0)for(var a=0;a<this.Get("chart.needle.extra").length;++a){var b=this.Get("chart.needle.extra")[a];c.push(b[1])}RGraph.DrawKey(this,this.Get("chart.key"),c)}this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Odometer.prototype.DrawBackground=function(){this.context.beginPath(),this.Get("chart.shadow.outer")&&RGraph.SetShadow(this,this.Get("chart.shadow.outer.color"),this.Get("chart.shadow.outer.offsetx"),this.Get("chart.shadow.outer.offsety"),this.Get("chart.shadow.outer.blur"));var a="#eee";this.context.fillStyle=a,this.context.arc(this.centerx,this.centery,this.radius,1e-4,TWOPI,!1),this.context.fill(),RGraph.NoShadow(this),this.context.strokeStyle="#666",this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),this.context.fillStyle=a,this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),this.context.fill();if(this.Get("chart.tickmarks")){this.context.beginPath(),this.context.strokeStyle="#bbb";for(var b=0;b<=360;b+=3)this.context.arc(this.centerx,this.centery,this.radius,0,b/57.3,!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}this.context.beginPath(),this.context.lineWidth=1,this.context.strokeStyle="black",this.context.fillStyle=a,this.context.strokeStyle=a,this.context.arc(this.centerx,this.centery,this.radius-5,0,TWOPI,!1),this.context.fill(),this.context.stroke(),this.context.beginPath(),this.context.strokeStyle="#ddd";for(var b=0;b<360;b+=18)this.context.arc(this.centerx,this.centery,this.radius,0,RGraph.degrees2Radians(b),!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke(),this.context.beginPath(),this.context.strokeStyle="black",this.context.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),this.context.stroke(),this.Get("chart.shadow.inner")&&(this.context.beginPath(),RGraph.SetShadow(this,this.Get("chart.shadow.inner.color"),this.Get("chart.shadow.inner.offsetx"),this.Get("chart.shadow.inner.offsety"),this.Get("chart.shadow.inner.blur")),this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.label.area"),0,TWOPI,0),this.context.fill(),this.context.stroke(),RGraph.NoShadow(this));if(this.Get("chart.green.solid"))var c=this.Get("chart.green.color");else{var c=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius);c.addColorStop(0,"white"),c.addColorStop(1,this.Get("chart.green.color"))}this.Get("chart.tickmarks.highlighted")&&(this.context.beginPath(),this.context.lineWidth=5,this.context.strokeStyle=c,this.context.arc(this.centerx,this.centery,this.radius-2.5,-1*HALFPI,(this.Get("chart.green.max")-this.start)/(this.end-this.start)*TWOPI-HALFPI,0),this.context.stroke(),this.context.lineWidth=1),this.context.beginPath(),this.context.fillStyle=c,this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.label.area"),0-HALFPI,(this.Get("chart.green.max")-this.start)/(this.end-this.start)*TWOPI-HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill();if(this.Get("chart.yellow.solid"))var d=this.Get("chart.yellow.color");else{var d=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius);d.addColorStop(0,"white"),d.addColorStop(1,this.Get("chart.yellow.color"))}this.Get("chart.tickmarks.highlighted")&&(this.context.beginPath(),this.context.lineWidth=5,this.context.strokeStyle=d,this.context.arc(this.centerx,this.centery,this.radius-2.5,(this.Get("chart.green.max")-this.start)/(this.end-this.start)*TWOPI-HALFPI,(this.Get("chart.red.min")-this.start)/(this.end-this.start)*TWOPI-HALFPI,0),this.context.stroke(),this.context.lineWidth=1),this.context.beginPath(),this.context.fillStyle=d,this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.label.area"),(this.Get("chart.green.max")-this.start)/(this.end-this.start)*TWOPI-HALFPI,(this.Get("chart.red.min")-this.start)/(this.end-this.start)*TWOPI-HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill();if(this.Get("chart.red.solid"))var e=this.Get("chart.red.color");else{var e=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius);e.addColorStop(0,"white"),e.addColorStop(1,this.Get("chart.red.color"))}this.Get("chart.tickmarks.highlighted")&&(this.context.beginPath(),this.context.lineWidth=5,this.context.strokeStyle=e,this.context.arc(this.centerx,this.centery,this.radius-2.5,(this.Get("chart.red.min")-this.start)/(this.end-this.start)*TWOPI-HALFPI,TWOPI-HALFPI,0),this.context.stroke(),this.context.lineWidth=1),this.context.beginPath(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.arc(this.centerx,this.centery,this.radius-this.Get("chart.label.area"),(this.Get("chart.red.min")-this.start)/(this.end-this.start)*TWOPI-HALFPI,TWOPI-HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill();if(this.Get("chart.border")){var f=this.context.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius+20);f.addColorStop(0,this.Get("chart.border.color1")),f.addColorStop(.5,this.Get("chart.border.color2")),f.addColorStop(1,this.Get("chart.border.color3")),this.context.beginPath(),this.context.fillStyle=f,this.context.strokeStyle="rgba(0,0,0,0)",this.context.lineWidth=.001,this.context.arc(this.centerx,this.centery,this.radius+20,0,TWOPI,0),this.context.arc(this.centerx,this.centery,this.radius-2,TWOPI,0,1),this.context.fill()}this.context.lineWidth=this.Get("chart.linewidth"),this.Get("chart.title")&&RGraph.DrawTitle(this,this.Get("chart.title"),this.centery-this.radius,null,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2);if(!this.Get("chart.tickmarks.highlighted"))for(var b=18;b<=360;b+=36)this.context.beginPath(),this.context.strokeStyle="#999",this.context.lineWidth=2,this.context.arc(this.centerx,this.centery,this.radius-1,RGraph.degrees2Radians(b),RGraph.degrees2Radians(b+.01),!1),this.context.arc(this.centerx,this.centery,this.radius-7,RGraph.degrees2Radians(b),RGraph.degrees2Radians(b+.01),!1),this.context.stroke()},RGraph.Odometer.prototype.DrawNeedle=function(a,b){var c=arguments[2]?arguments[2]:this.radius-this.Get("chart.label.area");this.context.fillStyle="#999",this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,10,0,TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.fill(),this.context.fillStyle=b,this.context.strokeStyle="#666",this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,8,0,TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.stroke(),this.context.fill(),this.Get("chart.needle.type")=="pointer"?(this.context.strokeStyle=b,this.context.lineWidth=this.Get("chart.needle.width"),this.context.lineCap="round",this.context
.lineJoin="round",this.context.beginPath(),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.Get("chart.needle.tail")&&this.context.arc(this.centerx,this.centery,20,(a/this.range*360+90)/(180/PI),(a/this.range*360+90+.01)/(180/PI),!1),this.context.arc(this.centerx,this.centery,c-10,(a/this.range*360-90)/(180/PI),(a/this.range*360-90+.1)/(180/PI),!1),this.context.closePath()):this.Get("chart.needle.type")=="triangle"&&(this.context.lineWidth=.01,this.context.lineEnd="square",this.context.lineJoin="miter",this.context.beginPath(),this.context.fillStyle=this.Get("chart.needle.triangle.border"),this.context.arc(this.centerx,this.centery,11,a/this.range*360/57.3,(a/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,11,(a/this.range*360+180)/57.3,(a/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,c-5,(a/this.range*360-90)/57.3,(a/this.range*360-90)/57.3+.01,0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,15,0,TWOPI,0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle="black",this.context.fillStyle=b,this.context.arc(this.centerx,this.centery,7,a/this.range*360/57.3,(a/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,7,(a/this.range*360+180)/57.3,(a/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,c-13,(a/this.range*360-90)/57.3,(a/this.range*360-90)/57.3+.01,0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,7,0,TWOPI,0),this.context.closePath(),this.context.fill()),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.fillStyle=b,this.context.arc(this.centerx,this.centery,this.Get("chart.needle.type")=="pointer"?7:12,.01,TWOPI,!1),this.context.fill(),this.Get("chart.needle.head")&&this.Get("chart.needle.type")=="pointer"&&(this.context.lineWidth=1,this.context.fillStyle=b,this.context.lineJoin="miter",this.context.lineCap="butt",this.context.beginPath(),this.context.arc(this.centerx,this.centery,c-5,(a/this.range*360-90)/57.3,(a/this.range*360-90+.1)/57.3,!1),this.context.arc(this.centerx,this.centery,c-20,RGraph.degrees2Radians(a/this.range*360-(c<60?80:85)),RGraph.degrees2Radians(a/this.range*360-(c<60?100:95)),1),this.context.closePath(),this.context.fill()),this.context.beginPath(),this.context.fillStyle="gray",this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,2,0,6.2795,!1),this.context.closePath(),this.context.fill()},RGraph.Odometer.prototype.DrawLabels=function(){var a=this.context,b=this.Get("chart.text.size"),c=this.Get("chart.text.font"),d=this.centerx,e=this.centery,f=this.radius-this.Get("chart.label.area")/2,g=this.start,h=this.end,i=this.Get("chart.scale.decimals"),j=this.Get("chart.labels"),k=this.Get("chart.units.pre"),l=this.Get("chart.units.post");a.beginPath(),a.fillStyle=this.Get("chart.text.color");if(j)for(var m=0;m<j.length;++m)RGraph.Text(a,c,b,d+Math.cos(m/j.length*TWOPI-HALFPI)*(this.radius-this.Get("chart.label.area")/2),e+Math.sin(m/j.length*TWOPI-HALFPI)*(this.radius-this.Get("chart.label.area")/2),String(j[m]),"center","center");else RGraph.Text(a,c,b,d+.588*f,e-.809*f,RGraph.number_format(this,((h-g)*.1+g).toFixed(i),k,l),"center","center",!1,36),RGraph.Text(a,c,b,d+.951*f,e-.309*f,RGraph.number_format(this,((h-g)*.2+g).toFixed(i),k,l),"center","center",!1,72),RGraph.Text(a,c,b,d+.949*f,e+.287*f,RGraph.number_format(this,((h-g)*.3+g).toFixed(i),k,l),"center","center",!1,108),RGraph.Text(a,c,b,d+.588*f,e+.809*f,RGraph.number_format(this,((h-g)*.4+g).toFixed(i),k,l),"center","center",!1,144),RGraph.Text(a,c,b,d,e+f,RGraph.number_format(this,((h-g)*.5+g).toFixed(i),k,l),"center","center",!1,180),RGraph.Text(a,c,b,d-.588*f,e+.809*f,RGraph.number_format(this,((h-g)*.6+g).toFixed(i),k,l),"center","center",!1,216),RGraph.Text(a,c,b,d-.949*f,e+.3*f,RGraph.number_format(this,((h-g)*.7+g).toFixed(i),k,l),"center","center",!1,252),RGraph.Text(a,c,b,d-.951*f,e-.309*f,RGraph.number_format(this,((h-g)*.8+g).toFixed(i),k,l),"center","center",!1,288),RGraph.Text(a,c,b,d-.588*f,e-.809*f,RGraph.number_format(this,((h-g)*.9+g).toFixed(i),k,l),"center","center",!1,324),RGraph.Text(a,c,b,d,e-f,this.Get("chart.zerostart")?RGraph.number_format(this,this.start.toFixed(i),k,l):RGraph.number_format(this,((h-g)*1+g).toFixed(i),k,l),"center","center",!1,360);this.context.fill(),this.Get("chart.value.text")&&(a.strokeStyle="black",RGraph.Text(a,c,b+2,d,e+b+2+10,String(this.Get("chart.value.units.pre")+this.value.toFixed(this.Get("chart.value.text.decimals"))+this.Get("chart.value.units.post")),"center","center",!0,null,"white"))},RGraph.Odometer.prototype.getShape=function(a){},RGraph.Odometer.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getAngleByXY(this.centerx,this.centery,b[0],b[1]);c+=HALFPI,b[0]>=this.centerx&&b[1]<=this.centery&&(c-=TWOPI);var d=c/TWOPI*(this.max-this.min)+this.min;return d},RGraph.Odometer.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getHypLength(this.centerx,this.centery,b[0],b[1]);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+this.radius&&c<=this.radius)return this},RGraph.Odometer.prototype.Adjusting_mousemove=function(a){RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(a),RGraph.Clear(this.canvas),RGraph.RedrawCanvas(this.canvas),RGraph.FireCustomEvent(this,"onadjust"))},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Pie=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.total=0,this.subTotal=0,this.angles=[],this.data=b,this.properties=[],this.type="pie",this.isRGraph=!0,this.coords=[],this.coords.key=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":["red","#ddd","#0f0","blue","pink","yellow","black","cyan"],"chart.strokestyle":"#999","chart.linewidth":1,"chart.labels":[],"chart.labels.sticks":!1,"chart.labels.sticks.length":7,"chart.labels.sticks.color":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":.5,"chart.title.bold":!0,"chart.title.font":null,"chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.style":"2d","chart.highlight.style.2d.fill":"rgba(255,255,255,0.7)","chart.highlight.style.2d.stroke":"rgba(255,255,255,0.7)","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.border":!1,"chart.border.color":"rgba(255,255,255,0.5)","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.align":"center","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.variant":"pie","chart.variant.donut.width":null,"chart.exploded":[],"chart.effect.roundrobin.multiplier":1,"chart.events.click":null,"chart.events.mousemove":null,"chart.centerpin":null,"chart.centerpin.fill":"white","chart.centerpin.stroke":null,"chart.origin":0-Math.PI/2,"chart.events":!0};for(var c=0,d=b.length;c<d;c++)this.total+=b[c];RGraph.Register(this)},RGraph.Pie.prototype.Set=function(a,b){a=="chart.highlight.style.2d.color"&&(a="chart.highlight.style.2d.fill"),this.properties[a]=b},RGraph.Pie.prototype.Get=function(a){return a=="chart.highlight.style.2d.color"&&(a="chart.highlight.style.2d.fill"),this.properties[a]},RGraph.Pie.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.properties["chart.gutter.left"],this.gutterRight=this.properties["chart.gutter.right"],this.gutterTop=this.properties["chart.gutter.top"],this.gutterBottom=this.properties["chart.gutter.bottom"],this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.gutterLeft,this.centery=this.graph.height/2+this.gutterTop,this.subTotal=this.properties["chart.origin"],this.angles=[],typeof this.properties["chart.radius"]=="number"&&(this.radius=this.properties["chart.radius"]),typeof this.properties["chart.centerx"]=="number"&&(this.centerx=this.properties["chart.centerx"]),typeof this.properties["chart.centery"]=="number"&&(this.centery=this.properties["chart.centery"]);if(this.radius<=0)return;RGraph.DrawTitle(this,this.properties["chart.title"],this.canvas.height/2-this.radius-5,this.centerx,this.properties["chart.title.size"]?this.properties["chart.title.size"]:this.properties["chart.text.size"]+2);if(this.properties["chart.shadow"]&&!1){var a=document.all?this.properties["chart.shadow.offsetx"]:0,b=document.all?this.properties["chart.shadow.offsety"]:0;this.context.beginPath(),this.context.fillStyle=this.properties["chart.shadow.color"],this.context.shadowColor=this.properties["chart.shadow.color"],this.context.shadowBlur=this.properties["chart.shadow.blur"],this.context.shadowOffsetX=this.properties["chart.shadow.offsetx"],this.context.shadowOffsetY=this.properties["chart.shadow.offsety"],this.context.arc(this.centerx+a,this.centery+b,this.radius,0,TWOPI,0),this.context.fill(),RGraph.NoShadow(this)}this.total=RGraph.array_sum(this.data);var c=this.total,d=this.data;for(var e=0,f=this.data.length;e<f;e++){var g=d[e]/c*TWOPI;this.DrawSegment(g,this.properties["chart.colors"][e],e==f-1,e)}RGraph.NoShadow(this),this.properties["chart.linewidth"]>0&&this.DrawBorders();var f=this.angles.length,h=this.radius;for(var e=0;e<f;e++){var i=this.angles[e];this.context.beginPath(),this.context.strokeStyle=typeof this.properties["chart.strokestyle"]=="object"?this.properties["chart.strokestyle"][e]:this.properties["chart.strokestyle"],this.context.fillStyle=this.properties["chart.colors"][e],this.context.arc(i[2],i[3],h,i[0],i[1],!1),this.properties["chart.variant"]=="donut"?this.context.arc(i[2],i[3],typeof this.properties["chart.variant.donut.width"]=="number"?h-this.properties["chart.variant.donut.width"]:h/2,i[1],i[0],!0):this.context.lineTo(i[2],i[3]),this.context.closePath(),this.context.stroke(),this.context.fill()}if(this.properties["chart.labels.sticks"]){this.DrawSticks();var j=this.properties["chart.strokestyle"],k=j=="white"||j=="#fff"||j=="#fffffff"||j=="rgb(255,255,255)"||j=="rgba(255,255,255,0)";(!k||k&&this.properties["chart.shadow"])&&this.DrawBorders()}this.properties["chart.labels"]&&this.DrawLabels(),this.properties["chart.centerpin"]&&this.DrawCenterpin(),this.properties["chart.contextmenu"]&&RGraph.ShowContext(this),this.properties["chart.border"]&&(this.context.beginPath(),this.context.lineWidth=5,this.context.strokeStyle=this.properties["chart.border.color"],this.context.arc(this.centerx,this.centery,this.radius-2,0,TWOPI,0),this.context.stroke()),this.properties["chart.key"]&&this.properties["chart.key"].length&&RGraph.DrawKey(this,this.properties["chart.key"],this.properties["chart.colors"]),RGraph.NoShadow(this),this.properties["chart.resizable"]&&RGraph.AllowResizing(this),this.properties["chart.events"]==!0&&RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Pie.prototype.DrawSegment=function(a,b,c,d){var e=this.context,f=this.canvas,g=this.subTotal;a=a*this.properties["chart.effect.roundrobin.multiplier"],e.beginPath(),e.fillStyle=b,e.strokeStyle=this.properties["chart.strokestyle"],e.lineWidth=0,this.properties["chart.shadow"]&&RGraph.SetShadow(this,this.properties["chart.shadow.color"],this.properties["chart.shadow.offsetx"],this.properties["chart.shadow.offsety"],this.properties["chart.shadow.blur"]);if(typeof this.properties["chart.exploded"]=="object"&&this.properties["chart.exploded"][d]>0||typeof this.properties["chart.exploded"]=="number"){var h=typeof this.properties["chart.exploded"]=="number"?this.properties["chart.exploded"]:this.properties["chart.exploded"][d],i=0,j=0,k=h,l=g+a/2,i=Math.cos(l)*h,j=Math.sin(l)*h,m=this.radius;this.context.moveTo(this.centerx+i,this.centery+j)}else var i=0,j=0,m=this.radius;var n=g,o=g+a;e.arc(this.centerx+i,this.centery+j,m,n,o,0),this.properties["chart.variant"]=="donut"?e.arc(this.centerx+i,this.centery+j,typeof this.properties["chart.variant.donut.width"]=="number"?m-this.properties["chart.variant.donut.width"]:m/2,o,n,!0):e.lineTo(this.centerx+i,this.centery+j),this.context.closePath(),this.angles.push([g,g+a,this.centerx+i,this.centery+j]),this.context.fill(),this.subTotal+=a},RGraph.Pie.prototype.DrawLabels=function(){var a="left",b="center",c=this.properties["chart.labels"],d=this.context,e=this.properties["chart.text.font"],f=this.properties["chart.text.size"],g=this.centerx,h=this.centery,j=this.radius;RGraph.NoShadow(this),d.fillStyle="black",d.beginPath();if(c&&c.length){for(i=0;i<this.angles.length;++i){var k=this.angles[i];if(typeof c[i]!="string"&&typeof c[i]!="number")continue;d.moveTo(g,h);var l=k[0]+(k[1]-k[0])/2,m=(k[1]-k[0])/2+k[0];if(typeof this.properties["chart.exploded"]=="object"&&this.properties["chart.exploded"][i]||typeof this.properties["chart.exploded"]=="number")var n=(k[1]-k[0])/2,o=typeof this.properties["chart.exploded"]=="number"?this.properties["chart.exploded"]:this.properties["chart.exploded"][i],p=Math.cos(m)*o,q=Math.sin(m)*o;else var p=0,q=0;this.properties["chart.labels.sticks"]&&(p+=Math.cos(m)*this.properties["chart.labels.sticks.length"],q+=Math.sin(m)*this.properties["chart.labels.sticks.length"]);var r=g+p+(j+10)*Math.cos(l)+(this.properties["chart.labels.sticks"]?l<HALFPI||l>TWOPI+HALFPI?2:-2:0),s=h+q+(j+10)*Math.sin(l);b=s<h?"bottom":"top",a=r<g?"right":"left",d.fillStyle=this.properties["chart.text.color"],RGraph.Text(d,e,f,r,s,c[i],b,a)}d.fill()}},RGraph.Pie.prototype.DrawSticks=function(){var a=this.context,b=this.properties["chart.linewidth"]/2,c=this.properties["chart.exploded"],d=this.properties["chart.labels.sticks"],e=this.angles.length,f=this.centerx,g=this.centery,h=this.radius;for(var i=0;i<e;++i){var j=this.angles[i];if(typeof d=="object"&&!d[i])continue;var k=j[1]-j[0];a.beginPath(),a.strokeStyle=this.properties["chart.labels.sticks.color"],a.lineWidth=1;var l=j[0]+k/2;if(typeof c=="object"&&c[i])var m=c[i];else if(typeof c=="number")var m=c;else var m=0;a.lineJoin="round",a.lineWidth=1,a.arc(f,g,h+this.properties["chart.labels.sticks.length"]+m,l,l+.001,0),a.arc(f,g,h+m,l,l+.001,0),a.stroke()}},RGraph.Pie.prototype.getShape=RGraph.Pie.prototype.getSegment=function(a){RGraph.FixEventObject(a);var b=arguments[1]?arguments[1]:0,c=this.canvas,d=this.context,e=RGraph.getMouseXY(a),f=this.radius,g=this.angles,h=[];for(var i=0;i<g.length;++i){var j=e[0]-g[i][2],k=e[1]-g[i][3],l=Math.atan(k/j),m=k==0?j:k/Math.sin(l),m=m<0?m+b:m-b;j<0&&k>=0?l+=PI:j<0&&k<0&&(l+=PI),l>PI+HALFPI&&(l-=TWOPI),this.properties["chart.origin"]==0&&l<0&&(l+=TWOPI);if(l>=g[i][0]&&l<g[i][1]){m=Math.abs(m);if(!m||this.radius&&m>this.radius)return null;if(this.type=="pie"&&this.properties["chart.variant"]=="donut"&&(m>this.radius||m<(typeof this.properties["chart.variant.donut.width"]=="number"?this.radius-this.properties["chart.variant.donut.width"]:this.radius/2)))return null;h[0]=g[i][2],h[1]=g[i][3],h[2]=this.radius,h[3]=g[i][0]-TWOPI,h[4]=g[i][1],h[5]=i,h[3]<0&&(h[3]+=TWOPI),h[4]>TWOPI&&(h[4]-=TWOPI),h[3]=h[3],h[4]=h[4];var n=RGraph.parseTooltipText?RGraph.parseTooltipText(this.properties["chart.tooltips"],h[5]):null;return h.object=this,h.x=h[0],h.y=h[1],h.radius=h[2],h["angle.start"]=h[3],h["angle.end"]=h[4],h.index=h[5],h.tooltip=n,h}}return null},RGraph.Pie.prototype.DrawBorders=function(){if(this.properties["chart.linewidth"]>0){this.context.lineWidth=this.properties["chart.linewidth"],this.context.strokeStyle=this.properties["chart.strokestyle"];var a=this.radius;for(var b=0,c=this.angles.length;b<c;++b){var d=this.angles[b];this.context.beginPath(),this.context.arc(d[2],d[3],a,d[0],d[0]+.001,0),this.context.arc(d[2],d[3],this.properties["chart.variant"]=="donut"?typeof this.properties["chart.variant.donut.width"]=="number"?this.radius-this.properties["chart.variant.donut.width"]:a/2:a,d[0],d[0]+1e-4,0),this.context.closePath(),this.context.stroke()}}},RGraph.Pie.prototype.getRadius=function(){return this.graph={},this.graph.width=this.canvas.width-this.properties["chart.gutter.left"]-this.properties["chart.gutter.right"],this.graph.height=this.canvas.height-this.properties["chart.gutter.top"]-this.properties["chart.gutter.bottom"],typeof this.properties["chart.radius"]=="number"?this.radius=this.properties["chart.radius"]:this.radius=Math.min(this.graph.width,this.graph.height)/2,this.radius},RGraph.Pie.prototype.Explode=function(a,b){var c=this;this.properties["chart.exploded"][a]=0;for(var d=0;d<b;++d)setTimeout(function(){c.properties["chart.exploded"][a]+=1,RGraph.Clear(c.canvas),RGraph.RedrawCanvas(c.canvas)},d*(document.all?25:16.666))},RGraph.Pie.prototype.highlight_segment=function(a){var b=this.context;b.beginPath(),b.strokeStyle=this.properties["chart.highlight.style.2d.stroke"],b.fillStyle=this.properties["chart.highlight.style.2d.fill"],b.moveTo(a[0],a[1]),b.arc(a[0],a[1],a[2],this.angles[a[5]][0],this.angles[a[5]][1],0),b.lineTo(a[0],a[1]),b.closePath(),b.stroke(),b.fill()},RGraph.Pie.prototype.Highlight=function(a){if(this.properties["chart.tooltips.highlight"])if(this.properties["chart.highlight.style"]=="3d"){this.context.lineWidth=1;var b=2;this.context.beginPath(),RGraph.NoShadow(this),this.context.fillStyle="rgba(0,0,0,0)",this.context.arc(a.x,a.y,a.radius,a["angle.start"],a["angle.end"],!1),this.properties["chart.variant"]=="donut"?this.context.arc(a.x,a.y,a.radius/5,a["angle.end"],a["angle.start"],!0):this.context.lineTo(a.x,a.y),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.shadowColor="#666",this.context.shadowBlur=3,this.context.shadowOffsetX=3,this.context.shadowOffsetY=3,this.context.fillStyle=this.properties["chart.colors"][a.index],this.context.strokeStyle=this.properties["chart.strokestyle"],this.context.arc(a.x-b,a.y-b,a.radius,a["angle.start"],a["angle.end"],!1),this.properties["chart.variant"]=="donut"?this.context.arc(a.x-b,a.y-b,a.radius/2,a["angle.end"],a["angle.start"],!0):this.context.lineTo(a.x-b,a.y-b),this.context.closePath(),this.context.stroke(),this.context.fill(),RGraph.NoShadow(this),this.properties["chart.border"]&&(this.context.beginPath(),this.context.strokeStyle=obj.properties["chart.border.color"],this.context.lineWidth=5,this.context.arc(a.x-b,a.y-b,a.radius-2,a["angle.start"],a["angle.end"],!1),this.context.stroke())}else this.context.beginPath(),this.context.strokeStyle=this.properties["chart.highlight.style.2d.stroke"],this.context.fillStyle=this.properties["chart.highlight.style.2d.fill"],this.properties["chart.variant"]=="donut"?(this.context.arc(a.x,a.y,a.radius,a["angle.start"],a["angle.end"],!1),this.context.arc(a.x,a.y,typeof this.properties["chart.variant.donut.width"]=="number"?this.radius-this.properties["chart.variant.donut.width"]:a.radius/2,a["angle.end"],a["angle.start"],!0)):(this.context.arc(a.x,a.y,a.radius+1,a["angle.start"],a["angle.end"],!1),this.context.lineTo(a.x,a.y)),this.context.closePath(),this.context.fill()},RGraph.Pie.prototype.getObjectByXY=function(a){if(this.getShape(a))return this},RGraph.Pie.prototype.DrawCenterpin=function(){if(typeof this.properties["chart.centerpin"]=="number"&&this.properties["chart.centerpin"]>0){var a=this.centerx,b=this.centery;this.context.beginPath(),this.context.strokeStyle=this.properties["chart.centerpin.stroke"]?this.properties["chart.centerpin.stroke"]:this.properties["chart.strokestyle"],this.context.fillStyle=this.properties["chart.centerpin.fill"]?this.properties["chart.centerpin.fill"]:this.properties["chart.strokestyle"],this.context.moveTo(a,b),this.context.arc(a,b,this.properties["chart.centerpin"],0,TWOPI,!1),this.context.stroke(),this.context.fill()}},RGraph.Pie.prototype.positionTooltip=function(a,b,c,d,e){var f=a.angles[e][2],g=a.angles[e][3],h=a.angles[e][0],i=a.angles[e][1],j=(i-h)/2+h,k=RGraph.getCanvasXY(a.canvas),l=a.properties["chart.gutter.left"],m=a.properties["chart.gutter.top"],n=d.offsetWidth,o=d.offsetHeight,b=k[0]+this.angles[e][2]+Math.cos(j)*(this.properties["chart.variant"]=="donut"&&typeof this.properties["chart.variant.donut.width"]=="number"?this.radius-this.properties["chart.variant.donut.width"]+this.properties["chart.variant.donut.width"]/2:this.radius*(this.properties["chart.variant"]=="donut"?.75:.5)),c=k[1]+this.angles[e][3]+Math.sin(j)*(this.properties["chart.variant"]=="donut"&&typeof this.properties["chart.variant.donut.width"]=="number"?this.radius-this.properties["chart.variant.donut.width"]+this.properties["chart.variant.donut.width"]/2:this.radius*(this.properties["chart.variant"]=="donut"?.75:.5));d.style.overflow="";var p=new Image;p.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",p.style.position="absolute",p.id="__rgraph_tooltip_pointer__",p.style.top=d.offsetHeight-2+"px",d.appendChild(p),window.event.pageX-n/2<10?(d.style.left=b-n*.1+"px",d.style.top=c-o-4+"px",p.style.left=n*.1-8.5+"px"):b+n/2>document.body.offsetWidth-10?(d.style.left=b-n*.9+"px",d.style.top=c-o-4+"px",p.style.left=n*.9-8.5+"px"):(d.style.left=b-n/2+"px",d.style.top=c-o-4+"px",p.style.left=n*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Radar=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="radar",this.coords=[],this.isRGraph=!0,this.data=[],this.max=0,this.original_data=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();for(var c=1;c<arguments.length;++c)this.original_data.push(RGraph.array_clone(arguments[c])),this.data.push(RGraph.array_clone(arguments[c])),this.max=Math.max(this.max,RGraph.array_max(arguments[c]));RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.linewidth":1,"chart.colors":["rgba(255,255,0,0.25)","rgba(0,255,255,0.25)","rgba(255,0,0,0.5)","red","green","blue","pink","aqua","brown","orange","grey"],"chart.colors.alpha":null,"chart.circle":0,"chart.circle.fill":"red","chart.circle.stroke":"black","chart.labels":[],"chart.labels.offset":10,"chart.background.circles":!0,"chart.background.circles.color":"#ddd","chart.background.circles.poly":!1,"chart.background.circles.spacing":15,"chart.text.size":10,"chart.text.font":"Arial","chart.text.color":"black","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.linewidth":1,"chart.key":null,"chart.key.background":"white","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position":"graph","chart.key.halign":"right","chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.highlight.point.radius":2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.axes":"","chart.ymax":null,"chart.accumulative":!1,"chart.radius":null,"chart.events.click":null,"chart.events.mousemove":null,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.axes.color":"black","chart.highlights":!1,"chart.highlights.stroke":"#ddd","chart.highlights.fill":null,"chart.highlights.radius":3};for(var d=0;d<this.data.length;++d)if(this.data[d].length<3){alert("[RADAR] You must specify at least 3 data points");return}RGraph.Register(this)},RGraph.Radar.prototype.Set=function(a,b){a=="chart.text.diameter"&&(a="chart.text.size"),this.properties[a]=b,a=="chart.color"&&(this.properties["chart.colors"]=[b])},RGraph.Radar.prototype.Get=function(a){return a=="chart.text.diameter"&&(a="chart.text.size"),this.properties[a]},RGraph.Radar.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.coords=[],this.data=RGraph.array_clone(this.original_data);if(this.Get("chart.accumulative"))for(var a=0;a<this.data.length;++a)this.data[a].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has chart.accumulative set to true all the datasets must have the same number of elements");this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.radius=Math.min(this.canvas.width-this.gutterLeft-this.gutterRight,this.canvas.height-this.gutterTop-this.gutterBottom)/2,typeof this.Get("chart.centerx")=="number"&&(this.centerx=2*this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=2*this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius"));if(!this.Get("chart.ymax")){if(this.Get("chart.accumulative")){var b=[],c=this.original_data[0].length;for(var a=1;a<this.original_data.length;++a){this.original_data[a].length!=c&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var d=0;d<this.original_data[a].length;++d)this.data[a][d]+=this.data[a-1][d],this.max=Math.max(this.max,this.data[a][d])}}this.scale=RGraph.getScale(this.max,this),this.max=this.scale[4]}else{var e=this.Get("chart.ymax");this.scale=[e*.2,e*.4,e*.6,e*.8,e*1],this.max=this.scale[4]}this.DrawBackground(),this.DrawAxes(),this.DrawCircle(),this.DrawAxisLabels(),this.DrawChart(),this.DrawLabels(),this.DrawHighlights(),this.Get("chart.title")&&RGraph.DrawTitle(this,this.Get("chart.title"),this.gutterTop,null,this.Get("chart.title.diameter")?this.Get("chart.title.diameter"):null),this.Get("chart.key")&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors")),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Radar.prototype.DrawBackground=function(){var a=this.Get("chart.background.circles.color"),b=this.Get("chart.background.circles.poly"),c=this.Get("chart.background.circles.spacing");if(this.Get("chart.background.circles")&&b==!1){this.context.strokeStyle=a,this.context.beginPath();for(var d=5;d<this.radius;d+=c)this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,d,0,TWOPI,!1);this.context.stroke(),this.context.strokeStyle=a;for(var e=0;e<360;e+=15)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,e/360*TWOPI,(e+.01)/360*TWOPI,0),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}else if(this.Get("chart.background.circles")&&b==!0){this.context.strokeStyle=a;var f=360/this.data[0].length;for(var e=0;e<360;e+=f)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,e/360*TWOPI-HALFPI,(e+1e-4)/360*TWOPI-HALFPI,0),this.context.lineTo(this.centerx,this.centery),this.context.stroke();this.context.strokeStyle=a;for(var d=0;d<this.radius;d+=c){this.context.beginPath();for(var g=0;g<=360;g+=360/this.data[0].length)this.context.arc(this.centerx,this.centery,d,RGraph.degrees2Radians(g)-HALFPI,RGraph.degrees2Radians(g)+1e-5-HALFPI,0);this.context.closePath(),this.context.stroke()}}},RGraph.Radar.prototype.DrawAxes=function(){this.context.strokeStyle=this.Get("chart.axes.color");var a=this.radius;this.context.beginPath(),this.context.moveTo(AA(this,this.centerx),this.centery+a),this.context.lineTo(AA(this,this.centerx),this.centery-a),this.context.moveTo(this.centerx-5,AA(this,this.centery+a)),this.context.lineTo(this.centerx+5,AA(this,this.centery+a)),this.context.moveTo(this.centerx-5,AA(this,this.centery-a)),this.context.lineTo(this.centerx+5,AA(this,this.centery-a));for(var b=this.centery-a;b<this.centery+a;b+=15)this.context.moveTo(this.centerx-3,AA(this,b)),this.context.lineTo(this.centerx+3,AA(this,b));this.context.moveTo(this.centerx-a,AA(this,this.centery)),this.context.lineTo(this.centerx+a,AA(this,this.centery)),this.context.moveTo(AA(this,this.centerx-a),this.centery-5),this.context.lineTo(AA(this,this.centerx-a),this.centery+5),this.context.moveTo(AA(this,this.centerx+a),this.centery-5),this.context.lineTo(AA(this,this.centerx+a),this.centery+5);for(var c=this.centerx-a;c<this.centerx+a;c+=15)this.context.moveTo(AA(this,c),this.centery-3),this.context.lineTo(AA(this,c),this.centery+3);this.context.stroke()},RGraph.Radar.prototype.DrawChart=function(){var a=this.Get("chart.colors.alpha");if(typeof a=="number"){var b=this.context.globalAlpha;this.context.globalAlpha=a}var c=this.data.length;for(var d=0;d<this.data.length;++d){this.context.beginPath();var e=[];for(var f=0;f<this.data[d].length;++f){var g=this.GetCoordinates(d,f);e==null&&(e=[]),e.push(g),this.coords.push(g)}this.context.strokeStyle=typeof this.Get("chart.strokestyle")=="object"&&this.Get("chart.strokestyle")[d]?this.Get("chart.strokestyle")[d]:this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[d],this.context.lineWidth=this.Get("chart.linewidth");for(f=0;f<e.length;++f)f==0?this.context.moveTo(e[f][0],e[f][1]):this.context.lineTo(e[f][0],e[f][1]);if(this.Get("chart.accumulative")&&d>0){this.context.lineTo(e[0][0],e[0][1]),this.context.moveTo(h[0][0],h[0][1]);for(var f=e.length-1;f>=0;--f)this.context.lineTo(h[f][0],h[f][1])}var h=e;this.context.closePath(),this.context.stroke(),this.context.fill()}typeof a=="number"&&(this.context.globalAlpha=b)},RGraph.Radar.prototype.GetCoordinates=function(a,b){var c=this.data[a].length,d=this.data[a][b]/this.max*this.radius,e=TWOPI/c*b;e-=HALFPI;var f=Math.cos(e)*d,g=Math.sin(e)*d;return f=this.centerx+f,g=this.centery+g,[f,g]},RGraph.Radar.prototype.DrawLabels=function(){var a=this.Get("chart.labels");if(a&&a.length>0){this.context.lineWidth=1,this.context.strokeStyle="gray",this.context.fillStyle=this.Get("chart.text.color");var b=this.Get("chart.labels.offset"),c=this.Get("chart.text.font"),d=this.Get("chart.text.size"),e=this.radius;for(var f=0;f<a.length;++f){var g=TWOPI/this.Get("chart.labels").length*f;g-=HALFPI;var h=this.centerx+Math.cos(g)*(e+b),i=this.centery+Math.sin(g)*(e+b);a[f]&&a[f].length&&RGraph.Text(this.context,c,d,h,i,a[f],"center","center",!0,null,"white")}}},RGraph.Radar.prototype.DrawCircle=function(){var a={};a.limit=this.Get("chart.circle"),a.fill=this.Get("chart.circle.fill"),a
.stroke=this.Get("chart.circle.stroke");if(a.limit){var b=a.limit/this.max*this.radius;this.context.fillStyle=a.fill,this.context.strokeStyle=a.stroke,this.context.beginPath(),this.context.arc(this.centerx,this.centery,b,0,TWOPI,0),this.context.fill(),this.context.stroke()}},RGraph.Radar.prototype.DrawAxisLabels=function(){if(this.Get("chart.labels.specific")){this.DrawSpecificAxisLabels();return}this.context.lineWidth=1,this.context.fillStyle="black",this.context.strokeStyle="black";var a=this.radius,b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=this.context,e=this.Get("chart.labels.axes").toLowerCase(),f="rgba(255,255,255,0.8)",g=!1,h=this.Get("chart.units.pre"),i=this.Get("chart.units.post"),j=this.Get("chart.scale.decimals");e.indexOf("n")>-1&&(RGraph.Text(d,b,c,this.centerx,this.centery-a*.2,RGraph.number_format(this,this.scale[0].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery-a*.4,RGraph.number_format(this,this.scale[1].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery-a*.6,RGraph.number_format(this,this.scale[2].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery-a*.8,RGraph.number_format(this,this.scale[3].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery-a,RGraph.number_format(this,this.scale[4].toFixed(j),h,i),"center","center",!0,!1,f),g=!0),e.indexOf("s")>-1&&(RGraph.Text(d,b,c,this.centerx,this.centery+a*.2,RGraph.number_format(this,this.scale[0].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery+a*.4,RGraph.number_format(this,this.scale[1].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery+a*.6,RGraph.number_format(this,this.scale[2].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery+a*.8,RGraph.number_format(this,this.scale[3].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx,this.centery+a,RGraph.number_format(this,this.scale[4].toFixed(j),h,i),"center","center",!0,!1,f),g=!0),e.indexOf("e")>-1&&(RGraph.Text(d,b,c,this.centerx+a*.2,this.centery,RGraph.number_format(this,this.scale[0].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx+a*.4,this.centery,RGraph.number_format(this,this.scale[1].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx+a*.6,this.centery,RGraph.number_format(this,this.scale[2].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx+a*.8,this.centery,RGraph.number_format(this,this.scale[3].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx+a,this.centery,RGraph.number_format(this,this.scale[4].toFixed(j),h,i),"center","center",!0,!1,f),g=!0),e.indexOf("w")>-1&&(RGraph.Text(d,b,c,this.centerx-a*.2,this.centery,RGraph.number_format(this,this.scale[0].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx-a*.4,this.centery,RGraph.number_format(this,this.scale[1].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx-a*.6,this.centery,RGraph.number_format(this,this.scale[2].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx-a*.8,this.centery,RGraph.number_format(this,this.scale[3].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx-a,this.centery,RGraph.number_format(this,this.scale[4].toFixed(j),h,i),"center","center",!0,!1,f),RGraph.Text(d,b,c,this.centerx-a,this.centery,RGraph.number_format(this,this.scale[4].toFixed(j),h,i),"center","center",!0,!1,f),g=!0),g&&RGraph.Text(d,b,c,this.centerx,this.centery,RGraph.number_format(this,0..toFixed(j),h,i),"center","center",!0,!1,f)},RGraph.Radar.prototype.DrawSpecificAxisLabels=function(){var a=this.Get("chart.labels.specific"),b=this.context,c=this.Get("chart.text.font"),d=this.Get("chart.text.size"),e=this.Get("chart.labels.axes").toLowerCase(),f=this.radius*2/(a.length*2);for(var g=0;g<a.length;++g)e.indexOf("n")>-1&&RGraph.Text(b,c,d,this.gutterLeft+this.radius,this.gutterTop+g*f,a[g],"center","center",!0,!1,"rgba(255,255,255,0.8)"),e.indexOf("s")>-1&&RGraph.Text(b,c,d,this.gutterLeft+this.radius,this.gutterTop+this.radius+g*f+f,RGraph.array_reverse(a)[g],"center","center",!0,!1,"rgba(255,255,255,0.8)"),e.indexOf("w")>-1&&RGraph.Text(b,c,d,this.gutterLeft+g*f,this.gutterTop+this.radius,a[g],"center","center",!0,!1,"rgba(255,255,255,0.8)"),e.indexOf("e")>-1&&RGraph.Text(b,c,d,this.gutterLeft+g*f+f+this.radius,this.gutterTop+this.radius,RGraph.array_reverse(a)[g],"center","center",!0,!1,"rgba(255,255,255,0.8)")},RGraph.Radar.prototype.getShape=RGraph.Radar.prototype.getPoint=function(a){var b=this.canvas,c=this.context;for(var d=0;d<this.coords.length;++d){var e=this.coords[d][0],f=this.coords[d][1],g=this.Get("chart.tooltips"),h=Number(d),i=RGraph.getMouseXY(a),j=i[0],k=i[1];if(j<e+5&&j>e-5&&k>f-5&&k<f+5){var l=RGraph.parseTooltipText(this.Get("chart.tooltips"),h);return{0:this,object:this,1:e,x:e,2:f,y:f,3:null,dataset:null,4:h,index:d,tooltip:l}}}},RGraph.Radar.prototype.Highlight=function(a){RGraph.Highlight.Point(this,a)},RGraph.Radar.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+this.radius)return this},RGraph.Radar.prototype.positionTooltip=function(a,b,c,d,e){var f=d.__dataset__,g=d.__index__,h=a.coords[g][0],i=a.coords[g][1],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth;d.style.left=0,d.style.top=parseInt(d.style.top)-9+"px",d.style.overflow="";var n=new Image;n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",n.style.position="absolute",n.id="__rgraph_tooltip_pointer__",n.style.top=d.offsetHeight-2+"px",d.appendChild(n),j[0]+h-m/2<10?(d.style.left=j[0]+h-m*.1+"px",n.style.left=m*.1-8.5+"px"):j[0]+h+m/2>document.body.offsetWidth?(d.style.left=j[0]+h-m*.9+"px",n.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+h-m*.5+"px",n.style.left=m*.5-8.5+"px")},RGraph.Radar.prototype.DrawHighlights=function(){if(this.Get("chart.highlights")){var a=0,b=0,c=0,d=this.Get("chart.highlights.radius");for(var b=0;b<this.data.length;++b)for(var c=0;c<this.data[b].length;++c)this.context.beginPath(),this.context.strokeStyle=this.Get("chart.highlights.stroke"),this.context.fillStyle=this.Get("chart.highlights.fill")?this.Get("chart.highlights.fill"):typeof this.Get("chart.strokestyle")=="object"&&this.Get("chart.strokestyle")[b]?this.Get("chart.strokestyle")[b]:this.Get("chart.strokestyle"),this.context.arc(this.coords[a][0],this.coords[a][1],d,0,TWOPI,!1),this.context.stroke(),this.context.fill(),++a}},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Rose=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.data=b,this.canvas.__object__=this,this.type="rose",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.angles=[],this.properties={"chart.background.axes":!0,"chart.background.axes.color":"black","chart.background.grid.spokes":null,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.colors":["rgba(255,0,0,0.5)","rgba(255,255,0,0.5)","rgba(0,255,255,0.5)","rgb(0,255,0)","gray","blue","rgb(255,128,255)","green","pink","gray","aqua"],"chart.colors.sequential":!1,"chart.colors.alpha":null,"chart.margin":0,"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.labels.offset":0,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.variant":"stacked","chart.animation.roundrobin.factor":1,"chart.animation.roundrobin.radius":!0,"chart.exploded":0,"chart.events.mousemove":null,"chart.events.click":null,"chart.animation.grow.multiplier":1},RGraph.Register(this)},RGraph.Rose.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Rose.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Rose.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.radius=Math.min(this.canvas.width-this.gutterLeft-this.gutterRight,this.canvas.height-this.gutterTop-this.gutterBottom)/2,this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.angles=[],this.total=0,this.startRadians=0,this.Get("chart.key")&&this.Get("chart.key").length>0&&this.Get("chart.key").length>=3&&(this.centerx=this.centerx-this.Get("chart.gutter.right")+5),typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius")),this.DrawBackground(),this.DrawRose(),this.DrawLabels(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),this.Get("chart.adjustable")&&RGraph.AllowAdjusting(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Rose.prototype.DrawBackground=function(){this.context.lineWidth=1,this.context.beginPath(),this.context.strokeStyle="#ccc";for(var a=15;a<this.radius-(RGraph.isOld()?5:0);a+=15)this.context.arc(this.centerx,this.centery,a,0,TWOPI,0);this.context.stroke(),this.context.beginPath();if(typeof this.Get("chart.background.grid.spokes")=="number"){var b=360/this.Get("chart.background.grid.spokes");for(var a=b;a<360;a+=b)this.context.arc(this.centerx,this.centery,this.radius,a/(180/PI),(a+1e-4)/(180/PI),0),this.context.lineTo(this.centerx,this.centery)}else for(var a=15;a<360;a+=15)this.context.arc(this.centerx,this.centery,this.radius,a/(180/PI),(a+1e-4)/(180/PI),0),this.context.lineTo(this.centerx,this.centery);this.context.stroke();if(this.Get("chart.background.axes")){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.background.axes.color"),this.context.moveTo(this.centerx-this.radius,AA(this,this.centery)),this.context.lineTo(this.centerx+this.radius,AA(this,this.centery)),this.context.moveTo(AA(this,this.centerx-this.radius),this.centery-5),this.context.lineTo(AA(this,this.centerx-this.radius),this.centery+5),this.context.moveTo(AA(this,this.centerx+this.radius),this.centery-5),this.context.lineTo(AA(this,this.centerx+this.radius),this.centery+5);for(var a=this.centerx-this.radius;a<this.centerx+this.radius;a+=20)this.context.moveTo(AA(this,a),this.centery-3),this.context.lineTo(AA(this,a),this.centery+3.5);for(var a=this.centery-this.radius;a<this.centery+this.radius;a+=20)this.context.moveTo(this.centerx-3,AA(this,a)),this.context.lineTo(this.centerx+3,AA(this,a));this.context.moveTo(AA(this,this.centerx),this.centery-this.radius),this.context.lineTo(AA(this,this.centerx),this.centery+this.radius),this.context.moveTo(this.centerx-5,AA(this,this.centery-this.radius)),this.context.lineTo(this.centerx+5,AA(this,this.centery-this.radius)),this.context.moveTo(this.centerx-5,AA(this,this.centery+this.radius)),this.context.lineTo(this.centerx+5,AA(this,this.centery+this.radius)),this.context.closePath(),this.context.stroke()}},RGraph.Rose.prototype.DrawRose=function(){var a=0,b=this.data,c=RGraph.degrees2Radians(this.Get("chart.margin"));if(!this.Get("chart.ymax")){for(var d=0;d<b.length;++d)typeof b[d]=="number"?a=Math.max(a,b[d]):typeof b[d]=="object"&&this.Get("chart.variant")=="non-equi-angular"?a=Math.max(a,b[d][0]):a=Math.max(a,RGraph.array_sum(b[d]));this.scale=RGraph.getScale(a,this),this.max=this.scale[4]}else{var e=this.Get("chart.ymax"),f=this.Get("chart.ymin");this.scale=[(e-f)*.2+f,(e-f)*.4+f,(e-f)*.6+f,(e-f)*.8+f,(e-f)*1+f],this.max=this.scale[4]}this.sum=RGraph.array_sum(b),this.context.moveTo(this.centerx,this.centery),this.context.stroke(),this.Get("chart.colors.alpha")&&(this.context.globalAlpha=this.Get("chart.colors.alpha"));if(typeof this.Get("chart.variant")=="string"&&this.Get("chart.variant")=="non-equi-angular"){var g=0;for(var d=0;d<b.length;++d)g+=b[d][1];for(var d=0;d<this.data.length;++d){var h=this.data[d][1]/g*TWOPI,i=(this.data[d][0]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin"))*(this.radius-10);i=i*this.properties["chart.animation.grow.multiplier"],this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[0],this.Get("chart.colors.sequential")&&(this.context.fillStyle=this.Get("chart.colors")[d]),this.context.beginPath();var j=this.startRadians*this.Get("chart.animation.roundrobin.factor")-HALFPI+c,k=(this.startRadians+h)*this.Get("chart.animation.roundrobin.factor")-HALFPI-c,l=this.getexploded(d,j,k,this.Get("chart.exploded")),m=l[0],n=l[1];this.context.arc(this.centerx+m,this.centery+n,this.Get("chart.animation.roundrobin.radius")?i*this.Get("chart.animation.roundrobin.factor"):i,j,k,0),this.context.lineTo(this.centerx+m,this.centery+n),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles.push(gg=[j,k,0,i,this.centerx+m,this.centery+n]),this.startRadians+=h}}else for(var d=0;d<this.data.length;++d){this.context.strokeStyle=this.Get("chart.strokestyle"),this.context.fillStyle=this.Get("chart.colors")[0],this.Get("chart.colors.sequential")&&(this.context.fillStyle=this.Get("chart.colors")[d]);var h=1/this.data.length*TWOPI;if(typeof this.data[d]=="number"){this.context.beginPath();var i=(this.data[d]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin"))*(this.radius-10);i=i*this.properties["chart.animation.grow.multiplier"];var j=this.startRadians*this.Get("chart.animation.roundrobin.factor")-HALFPI+c,k=this.startRadians*this.Get("chart.animation.roundrobin.factor")+h*this.Get("chart.animation.roundrobin.factor")-HALFPI-c,l=this.getexploded(d,j,k,this.Get("chart.exploded")),m=l[0],n=l[1];this.context.arc(this.centerx+m,this.centery+n,this.Get("chart.animation.roundrobin.radius")?i*this.Get("chart.animation.roundrobin.factor"):i,j,k,0),this.context.lineTo(this.centerx+m,this.centery+n),this.context.closePath(),this.context.stroke(),this.context.fill(),k!=0,this.angles.push([j,k,0,i*this.Get("chart.animation.roundrobin.factor"),this.centerx+m,this.centery+n])}else if(typeof this.data[d]=="object"){var c=this.Get("chart.margin")/(180/PI);for(var o=0;o<this.data[d].length;++o){var j=this.startRadians*this.Get("chart.animation.roundrobin.factor")-HALFPI+c,k=this.startRadians*this.Get("chart.animation.roundrobin.factor")+h*this.Get("chart.animation.roundrobin.factor")-HALFPI-c,l=this.getexploded(d,j,k,this.Get("chart.exploded")),m=l[0],n=l[1];this.context.fillStyle=this.Get("chart.colors")[o];if(o==0){this.context.beginPath();var p=0,q=(this.data[d][o]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin"))*(this.radius-10);q=q*this.properties["chart.animation.grow.multiplier"],this.context.arc(this.centerx+m,this.centery+n,this.Get("chart.animation.roundrobin.radius")?q*this.Get("chart.animation.roundrobin.factor"):q,j,k,0),this.context.lineTo(this.centerx+m,this.centery+n),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles.push([j,k,0,q*this.Get("chart.animation.roundrobin.factor"),this.centerx+m,this.centery+n])}else{this.context.beginPath();var p=q,q=(this.data[d][o]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin"))*(this.radius-10)+p;q=q*this.properties["chart.animation.grow.multiplier"],this.context.arc(this.centerx+m,this.centery+n,p*this.Get("chart.animation.roundrobin.factor"),j,k,0),this.context.arc(this.centerx+m,this.centery+n,q*this.Get("chart.animation.roundrobin.factor"),k,j,!0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles.push([j,k,p*this.Get("chart.animation.roundrobin.factor"),q*this.Get("chart.animation.roundrobin.factor"),this.centerx+m,this.centery+n])}}}this.startRadians+=h}this.Get("chart.colors.alpha")&&(this.context.globalAlpha=1),this.Get("chart.title")&&RGraph.DrawTitle(this,this.Get("chart.title"),this.canvas.height/2-this.radius,this.centerx,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2)},RGraph.Rose.prototype.DrawLabels=function(){this.context.lineWidth=1;var a=this.Get("chart.key");a&&a.length&&RGraph.DrawKey(this,a,this.Get("chart.colors")),this.context.fillStyle=this.properties["chart.text.color"],this.context.strokeStyle="black";var b=this.radius-10,c=this.Get("chart.text.font"),d=this.Get("chart.text.size"),e=this.context,f=this.Get("chart.labels.axes").toLowerCase(),g=this.Get("chart.scale.decimals"),h=this.Get("chart.units.pre"),i=this.Get("chart.units.post");typeof this.Get("chart.labels")=="object"&&this.Get("chart.labels")&&this.DrawCircularLabels(e,this.Get("chart.labels"),c,d,b+10);var j="rgba(255,255,255,0.8)";f.indexOf("n")>-1&&(RGraph.Text(e,c,d,this.centerx,this.centery-b*.2,RGraph.number_format(this,Number(this.scale[0]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery-b*.4,RGraph.number_format(this,Number(this.scale[1]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery-b*.6,RGraph.number_format(this,Number(this.scale[2]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery-b*.8,RGraph.number_format(this,Number(this.scale[3]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery-b,RGraph.number_format(this,Number(this.scale[4]).toFixed(g),h,i),"center","center",!0,!1,j)),f.indexOf("s")>-1&&(RGraph.Text(e,c,d,this.centerx,this.centery+b*.2,RGraph.number_format(this,Number(this.scale[0]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery+b*.4,RGraph.number_format(this,Number(this.scale[1]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery+b*.6,RGraph.number_format(this,Number(this.scale[2]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery+b*.8,RGraph.number_format(this,Number(this.scale[3]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx,this.centery+b,RGraph.number_format(this,Number(this.scale[4]).toFixed(g),h,i),"center","center",!0,!1,j)),f.indexOf("e")>-1&&(RGraph.Text(e,c,d,this.centerx+b*.2,this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx+b*.4,this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx+b*.6,this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx+b*.8,this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx+b,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(g),h,i),"center","center",!0,!1,j)),f.indexOf("w")>-1&&(RGraph.Text(e,c,d,this.centerx-b*.2,this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx-b*.4,this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx-b*.6,this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx-b*.8,this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(g),h,i),"center","center",!0,!1,j),RGraph.Text(e,c,d,this.centerx-b,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(g),h,i),"center","center",!0,!1,j)),f.length>0&&RGraph.Text(e,c,d,this.centerx,this.centery,typeof this.Get("chart.ymin")=="number"?RGraph.number_format(this,Number(this.Get("chart.ymin")).toFixed(this.Get("chart.scale.decimals")),h,i):"0","center","center",!0,!1,j)},RGraph.Rose.prototype.DrawCircularLabels=function(a,b,c,d,e){var f=this.Get("chart.variant"),g=this.Get("chart.labels.position"),e=e+10+this.Get("chart.labels.offset");for(var h=0;h<this.angles.length;++h)if(typeof f=="string"&&f=="non-equi-angular"){var i=Number(this.angles[h][0])+(this.angles[h][1]-this.angles[h][0])/2,j="center",k=Math.cos(i)*(e+10),l=Math.sin(i)*(e+10);RGraph.Text(a,c,d,this.centerx+k,this.centery+l,String(b[h]),"center",j)}else{var i=TWOPI/b.length*(h+1)-TWOPI/(b.length*2),i=i-HALFPI+(this.Get("chart.labels.position")=="edge"?TWOPI/b.length/2:0),j="center",k=Math.cos(i)*(e+10),l=Math.sin(i)*(e+10);RGraph.Text(a,c,d,this.centerx+k,this.centery+l,String(b[h]),"center",j)}},RGraph.Rose.prototype.getShape=RGraph.Rose.prototype.getSegment=function(a){RGraph.FixEventObject(a);var b=this.canvas,c=this.context,d=this.angles,e=[];for(var f=0;f<d.length;++f){var g=d[f][0],h=d[f][1],i=d[f][2],j=d[f][3],k=d[f][4],l=d[f][5],m=RGraph.getMouseXY(a),n=m[0]-k,o=m[1]-l,p=RGraph.getAngleByXY(0,0,n,o);p>PI+HALFPI&&(p-=TWOPI);if(p>=g&&p<=h){var q=o/Math.sin(p)||Math.abs(n);if(q>=i&&q<=j){d[f][6]=f;var r=RGraph.parseTooltipText(this.Get("chart.tooltips"),d[f][6]);return d[f].object=this,d[f].x=d[f][4],d[f].y=d[f][5],d[f]["angle.start"]=d[f][0],d[f]["angle.end"]=d[f][1],d[f]["radius.start"]=d[f][2],d[f]["radius.end"]=d[f][3],d[f].index=d[f][6],d[f].tooltip=r,d[f]}}}return null},RGraph.Rose.prototype.getexploded=function(a,b,c,d){var e,f;return typeof d=="object"&&typeof d[a]=="number"?(e=Math.cos((c-b)/2+b)*d[a],f=Math.sin((c-b)/2+b)*d[a]):typeof d=="number"?(e=Math.cos((c-b)/2+b)*d,f=Math.sin((c-b)/2+b)*d):(e=0,f=0),[e,f]},RGraph.Rose.prototype.AllowTooltips=function(){RGraph.PreLoadTooltipImages(this),RGraph.InstallWindowMousedownTooltipListener(this),RGraph.InstallCanvasMousemoveTooltipListener(this),RGraph.InstallCanvasMouseupTooltipListener(this)},RGraph.Rose.prototype.Highlight=function(a){this.Get("chart.tooltips.highlight")&&(this.context.beginPath(),this.context.strokeStyle=this.Get("chart.highlight.stroke"),this.context.fillStyle=this.Get("chart.highlight.fill"),this.context.arc(a.x,a.y,a["radius.end"],a["angle.start"],a["angle.end"],!1),a["radius.start"]>0?this.context.arc(a.x,a.y,a["radius.start"],a["angle.end"],a["angle.start"],!0):this.context.lineTo(a.x,a.y),this.context.closePath(),this.context.stroke(),this.context.fill())},RGraph.Rose.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a),c=RGraph.getHypLength(this.centerx,this.centery,b[0],b[1]);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+this.radius&&c<=this.radius)return this},RGraph.Rose.prototype.positionTooltip=function(a,b,c,d,e){var f=a.angles[e][4],g=a.angles[e][5],h=a.angles[e][0],i=a.angles[e][1],j=(a.angles[e][3]-a.angles[e][2])/2+a.angles[e][2],k=(i-h)/2+h,l=RGraph.getCanvasXY(a.canvas),m=a.Get("chart.gutter.left"),n=a.Get("chart.gutter.top"),o=d.offsetWidth,p=d.offsetHeight;d.style.overflow="";var q=new Image;q.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",q.style.position="absolute",q.id="__rgraph_tooltip_pointer__",q.style.top=d.offsetHeight-2+"px",d.appendChild(q),l[0]+f+Math.cos(k)*j-o/2<10?(d.style.left=l[0]+f+Math.cos(k)*j-o*.1+"px",d.style.top=l[1]+g+Math.sin(k)*j-p-5+"px",q.style.left=o*.1-8.5+"px"):l[0]+f+Math.cos(k)*j+o/2>document.body.offsetWidth-10?(d.style.left=l[0]+f+Math.cos(k)*j-o*.9+"px",d.style.top=l[1]+g+Math.sin(k)*j-p-5+"px",q.style.left=o*.9-8.5+"px"):(d.style.left=l[0]+f+Math.cos(k)*j-o/2+"px",d.style.top=l[1]+g+Math.sin(k)*j-p-5+"px",q.style.left=o*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Rscatter=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.data=b,this.canvas.__object__=this,this.type="rscatter",this.hasTooltips=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.properties={"chart.radius":null,"chart.colors":[],"chart.colors.default":"black","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.hotspot":3,"chart.tooltips.coords.page":!1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.ymax":null,"chart.ymin":0,"chart.tickmarks":"cross","chart.ticksize":3,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.scale.round":!1,"chart.units.pre":"","chart.units.post":"","chart.events.mousemove":null,"chart.events.click":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.point.radius":3},RGraph.Register(this)},RGraph.Rscatter.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Rscatter.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Rscatter.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.radius=Math.min(RGraph.GetWidth(this)-this.gutterLeft-this.gutterRight,RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/2,this.centerx=(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.coords=[],typeof this.Get("chart.centerx")=="number"&&(this.centerx=this.Get("chart.centerx")),typeof this.Get("chart.centery")=="number"&&(this.centery=this.Get("chart.centery")),typeof this.Get("chart.radius")=="number"&&(this.radius=this.Get("chart.radius"));var a=this.Get("chart.ymax"),b=this.Get("chart.ymin");if(typeof a=="number")this.max=a,this.scale=[(a-b)*.2+b,(a-b)*.4+b,(a-b)*.6+b,(a-b)*.8+b,(a-b)*1+b];else{for(var c=0;c<this.data.length;++c)this.max=Math.max(this.max,this.data[c][1]);this.scale=RGraph.getScale(this.max,this),this.max=this.scale[4];if(String(this.scale[0]).indexOf("e")==-1){var d=this.Get("chart.scale.decimals");this.scale[0]=Number(this.scale[0]).toFixed(d),this.scale[1]=Number(this.scale[1]).toFixed(d),this.scale[2]=Number(this.scale[2]).toFixed(d),this.scale[3]=Number(this.scale[3]).toFixed(d),this.scale[4]=Number(this.scale[4]).toFixed(d)}}this.Get("chart.key")&&this.Get("chart.key").length>0&&this.Get("chart.key").length>=3&&(this.centerx=this.centerx-this.Get("chart.gutter.right")+5);if(typeof this.Get("chart.key")=="object"&&RGraph.is_array(this.Get("chart.key"))&&this.Get("chart.key")[0])for(var c=0;c<this.data.length;++c)this.data[c][2]&&typeof this.data[c][2]=="string"&&this.Get("chart.colors").push(this.data[c][2]);for(var c=0;c<this.data.length;++c)RGraph.is_null(this.data[c][3])||(RGraph.is_null(this.Get("chart.tooltips"))&&this.Set("chart.tooltips",[]),this.Get("chart.tooltips").push(this.data[c][3]));this.context.beginPath(),this.DrawBackground(),this.DrawRscatter(),this.DrawLabels(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.title")&&RGraph.DrawTitle(this,this.Get("chart.title"),this.centery-this.radius-10,this.centerx,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Rscatter.prototype.DrawBackground=function(){this.context.lineWidth=1,this.context.strokeStyle="#ccc";for(var a=15;a<this.radius-(document.all?5:0);a+=15)this.context.arc(this.centerx,this.centery,a,0,TWOPI,0);this.context.stroke(),this.context.beginPath();for(var a=15;a<360;a+=15)this.context.arc(this.centerx,this.centery,this.radius,a/57.3,(a+.01)/57.3,0),this.context.lineTo(this.centerx,this.centery);this.context.stroke(),this.context.beginPath(),this.context.strokeStyle="black",this.context.moveTo(this.centerx-this.radius,AA(this,this.centery)),this.context.lineTo(this.centerx+this.radius,AA(this,this.centery)),this.context.moveTo(AA(this,this.centerx-this.radius),this.centery-5),this.context.lineTo(AA(this,this.centerx-this.radius),this.centery+5),this.context.moveTo(AA(this,this.centerx+this.radius),this.centery-5),this.context.lineTo(AA(this,this.centerx+this.radius),this.centery+5);for(var a=this.centerx-this.radius;a<this.centerx+this.radius;a+=20)this.context.moveTo(AA(this,a),this.centery-3),this.context.lineTo(AA(this,a),this.centery+3);for(var a=this.centery-this.radius;a<this.centery+this.radius;a+=20)this.context.moveTo(this.centerx-3,AA(this,a)),this.context.lineTo(this.centerx+3,AA(this,a));this.context.moveTo(AA(this,this.centerx),this.centery-this.radius),this.context.lineTo(AA(this,this.centerx),this.centery+this.radius),this.context.moveTo(this.centerx-5,AA(this,this.centery-this.radius)),this.context.lineTo(this.centerx+5,AA(this,this.centery-this.radius)),this.context.moveTo(this.centerx-5,AA(this,this.centery+this.radius)),this.context.lineTo(this.centerx+5,AA(this,this.centery+this.radius)),this.context.closePath(),this.context.stroke()},RGraph.Rscatter.prototype.DrawRscatter=function(){var a=this.data;for(var b=0;b<a.length;++b){var c=a[b][0],d=a[b][1],e=c/(180/PI),f=(d-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin"))*this.radius,g=Math.sin(e)*f,h=Math.cos(e)*f,i=a[b][2]?a[b][2]:this.Get("chart.colors.default"),j=a[b][3]?a[b][3]:null;j&&String(j).length&&(this.hasTooltips=!0
),g=g+this.centerx,h=this.centery-h,this.DrawTick(g,h,i),this.coords.push([g,h,i,j])}},RGraph.Rscatter.prototype.DrawLabels=function(){this.context.lineWidth=1;var a=this.Get("chart.key");this.context.fillStyle="black",this.context.strokeStyle="black";var b=this.radius,c=this.Get("chart.text.color"),d=this.Get("chart.text.font"),e=this.Get("chart.text.size"),f=this.context,g=this.Get("chart.labels.axes").toLowerCase(),h=this.Get("chart.units.pre"),i=this.Get("chart.units.post"),j=this.Get("chart.scale.decimals");this.context.fillStyle=this.Get("chart.text.color"),typeof this.Get("chart.labels")=="object"&&this.Get("chart.labels")&&this.DrawCircularLabels(f,this.Get("chart.labels"),d,e,b);var c="rgba(255,255,255,0.8)";g.indexOf("n")>-1&&(RGraph.Text(f,d,e,this.centerx,this.centery-b*.2,RGraph.number_format(this,Number(this.scale[0]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery-b*.4,RGraph.number_format(this,Number(this.scale[1]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery-b*.6,RGraph.number_format(this,Number(this.scale[2]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery-b*.8,RGraph.number_format(this,Number(this.scale[3]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery-b,RGraph.number_format(this,Number(this.scale[4]).toFixed(j),h,i),"center","center",!0,!1,c)),g.indexOf("s")>-1&&(RGraph.Text(f,d,e,this.centerx,this.centery+b*.2,RGraph.number_format(this,Number(this.scale[0]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery+b*.4,RGraph.number_format(this,Number(this.scale[1]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery+b*.6,RGraph.number_format(this,Number(this.scale[2]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery+b*.8,RGraph.number_format(this,Number(this.scale[3]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx,this.centery+b,RGraph.number_format(this,Number(this.scale[4]).toFixed(j),h,i),"center","center",!0,!1,c)),g.indexOf("e")>-1&&(RGraph.Text(f,d,e,this.centerx+b*.2,this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx+b*.4,this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx+b*.6,this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx+b*.8,this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx+b,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(j),h,i),"center","center",!0,!1,c)),g.indexOf("w")>-1&&(RGraph.Text(f,d,e,this.centerx-b*.2,this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx-b*.4,this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx-b*.6,this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx-b*.8,this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(j),h,i),"center","center",!0,!1,c),RGraph.Text(f,d,e,this.centerx-b,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(j),h,i),"center","center",!0,!1,c)),this.Get("chart.labels.axes").length>0&&RGraph.Text(f,d,e,this.centerx,this.centery,RGraph.number_format(this,Number(this.Get("chart.ymin")).toFixed(this.Get("chart.scale.decimals")),h,i),"center","center",!0,!1,c),a&&a.length&&RGraph.DrawKey(this,a,this.Get("chart.colors"))},RGraph.Rscatter.prototype.DrawCircularLabels=function(a,b,c,d,e){var f=this.Get("chart.labels.position"),e=e+10;for(var g=0;g<b.length;++g){var h=360/b.length*(g+1)-360/(b.length*2),h=h-90+(this.Get("chart.labels.position")=="edge"?360/b.length/2:0),i=Math.cos(h/57.29577866666)*(e+10),j=Math.sin(h/57.29577866666)*(e+10);RGraph.Text(a,c,d,this.centerx+i,this.centery+j,String(b[g]),"center","center")}},RGraph.Rscatter.prototype.DrawTick=function(a,b,c){var d=this.Get("chart.tickmarks"),e=this.Get("chart.ticksize");this.context.strokeStyle=c,this.context.fillStyle=c,d=="cross"?(this.context.beginPath(),this.context.moveTo(a+e,b+e),this.context.lineTo(a-e,b-e),this.context.stroke(),this.context.beginPath(),this.context.moveTo(a-e,b+e),this.context.lineTo(a+e,b-e),this.context.stroke()):d=="circle"?(this.context.beginPath(),this.context.arc(a,b,e,0,6.283,!1),this.context.fill()):d=="square"?(this.context.beginPath(),this.context.fillRect(a-e,b-e,2*e,2*e),this.context.fill()):d=="diamond"?(this.context.beginPath(),this.context.moveTo(a,b-e),this.context.lineTo(a+e,b),this.context.lineTo(a,b+e),this.context.lineTo(a-e,b),this.context.closePath(),this.context.fill()):d=="plus"&&(this.context.lineWidth=1,this.context.beginPath(),this.context.moveTo(a,b-e),this.context.lineTo(a,b+e),this.context.moveTo(a-e,b),this.context.lineTo(a+e,b),this.context.stroke())},RGraph.Rscatter.prototype.getShape=RGraph.Rscatter.prototype.getPoint=function(a){var b=a.target,c=this.context,d=RGraph.getMouseXY(a),e=d[0],f=d[1],g=!1,h=this.Get("chart.tooltips.hotspot");for(var i=0;i<this.coords.length;++i){var j=this.coords[i][0],k=this.coords[i][1],l=this.coords[i][3];if(e<j+h&&e>j-h&&f<k+h&&f>k-h){var l=RGraph.parseTooltipText(this.Get("chart.tooltips"),i);return{0:this,1:j,2:k,3:i,object:this,x:j,y:k,index:i,tooltip:l}}}},RGraph.Rscatter.prototype.AllowTooltips=function(){RGraph.PreLoadTooltipImages(this),RGraph.InstallWindowMousedownTooltipListener(this),RGraph.InstallCanvasMousemoveTooltipListener(this),RGraph.InstallCanvasMouseupTooltipListener(this)},RGraph.Rscatter.prototype.Highlight=function(a){RGraph.Highlight.Point(this,a)},RGraph.Rscatter.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.centerx-this.radius&&b[0]<this.centerx+this.radius&&b[1]>this.centery-this.radius&&b[1]<this.centery+this.radius)return this},RGraph.Rscatter.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=RGraph.getCanvasXY(a.canvas),i=a.Get("chart.gutter.left"),j=a.Get("chart.gutter.top"),k=d.offsetWidth;d.style.left=0,d.style.top=parseInt(d.style.top)-7+"px",d.style.overflow="";var l=new Image;l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",l.style.position="absolute",l.id="__rgraph_tooltip_pointer__",l.style.top=d.offsetHeight-2+"px",d.appendChild(l),h[0]+f-k/2<10?(d.style.left=h[0]+f-k*.1+"px",l.style.left=k*.1-8.5+"px"):h[0]+f+k/2>document.body.offsetWidth?(d.style.left=h[0]+f-k*.9+"px",l.style.left=k*.9-8.5+"px"):(d.style.left=h[0]+f-k*.5+"px",l.style.left=k*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Scatter=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.canvas.__object__=this,this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.max=0,this.coords=[],this.data=[],this.type="scatter",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.width":1,"chart.background.grid.color":"#ddd","chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.hbars":null,"chart.background.vbars":null,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.tooltips":[],"chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.hotspot":3,"chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.units.pre":"","chart.units.post":"","chart.numyticks":10,"chart.tickmarks":"cross","chart.ticksize":5,"chart.xticks":!0,"chart.xaxis":!0,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.xmin":0,"chart.xmax":0,"chart.ymax":null,"chart.ymin":null,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.labels":[],"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.labels.above.decimals":0,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.invert":!1,"chart.ylabels.specific":null,"chart.ylabels.inside":!1,"chart.contextmenu":null,"chart.defaultcolor":"black","chart.xaxispos":"bottom","chart.yaxispos":"left","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.linewidth":1,"chart.crosshairs.coords":!1,"chart.crosshairs.coords.fixed":!0,"chart.crosshairs.coords.fadeout":!1,"chart.crosshairs.coords.labels.x":"X","chart.crosshairs.coords.labels.y":"Y","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.line":!1,"chart.line.linewidth":1,"chart.line.colors":["green","red"],"chart.line.shadow.color":"rgba(0,0,0,0)","chart.line.shadow.blur":2,"chart.line.shadow.offsetx":3,"chart.line.shadow.offsety":3,"chart.line.stepped":!1,"chart.line.visible":!0,"chart.noaxes":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.boxplot.width":1,"chart.boxplot.capped":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.xmin":0,"chart.labels.specific.align":"left","chart.xscale":!1,"chart.xscale.units.pre":"","chart.xscale.units.post":"","chart.xscale.numlabels":10,"chart.xscale.formatter":null,"chart.xscale.decimals":null,"chart.noendxtick":!1,"chart.noendytick":!0,"chart.events.mousemove":null,"chart.events.click":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)"};if(arguments[1][0]&&arguments[1][0][0]&&typeof arguments[1][0][0][0]=="number")for(var c=0;c<arguments[1].length;++c)this.data[c]=arguments[1][c];else for(var c=1;c<arguments.length;++c)this.data[c-1]=arguments[c];this.data_arr=[];for(var c=0;c<this.data.length;++c)for(var d=0;d<this.data[c].length;++d)this.data_arr.push(this.data[c][d]);if(!this.canvas){alert("[SCATTER] No canvas support");return}RGraph.Register(this)},RGraph.Scatter.prototype.Set=function(a,b){a=="chart.line.colors"&&(this.properties["chart.colors"]=b),a=="chart.tooltip.hotspot"&&(a="chart.tooltips.hotspot"),a=="chart.yaxispos"&&b!="left"&&b!="right"&&(alert("[SCATTER] chart.yaxispos should be left or right. You've set it to: '"+b+"' Changing it to left"),b="left"),a=="chart.xaxispos"&&b!="bottom"&&b!="center"&&(alert("[SCATTER] ("+this.id+") chart.xaxispos should be center or bottom. Tried to set it to: "+b+" Changing it to center"),b="center"),this.properties[a.toLowerCase()]=b},RGraph.Scatter.prototype.Get=function(a){return this.properties[a]},RGraph.Scatter.prototype.Draw=function(){typeof this.Get("chart.background.image")=="string"&&RGraph.DrawBackgroundImage(this),RGraph.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.hasTooltips=!1;var a=!1;this.coords=[];if(!RGraph.isOld()){this.Set("chart.tooltips",[]);for(var b=0;b<this.data.length;++b)for(var c=0;c<this.data[b].length;++c)this.data[b][c]&&this.data[b][c][3]?(this.Get("chart.tooltips").push(this.data[b][c][3]),this.hasTooltips=!0):this.Get("chart.tooltips").push(null)}this.max=0;if(typeof this.Get("chart.ymax")=="number"){this.scale=[],this.max=this.Get("chart.ymax"),this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0,this.scale[0]=(this.max-this.min)*.2+this.min,this.scale[1]=(this.max-this.min)*.4+this.min,this.scale[2]=(this.max-this.min)*.6+this.min,this.scale[3]=(this.max-this.min)*.8+this.min,this.scale[4]=(this.max-this.min)*1+this.min;var d=this.Get("chart.scale.decimals");this.scale=[Number(this.scale[0]).toFixed(d),Number(this.scale[1]).toFixed(d),Number(this.scale[2]).toFixed(d),Number(this.scale[3]).toFixed(d),Number(this.scale[4]).toFixed(d)]}else{var b=0,c=0;for(b=0;b<this.data.length;++b)for(c=0;c<this.data[b].length;++c)this.max=Math.max(this.max,typeof this.data[b][c][1]=="object"?RGraph.array_max(this.data[b][c][1]):Math.abs(this.data[b][c][1]));this.scale=RGraph.getScale(this.max,this),this.max=this.scale[4],this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0,this.min&&(this.scale[0]=(this.max-this.min)*.2+this.min,this.scale[1]=(this.max-this.min)*.4+this.min,this.scale[2]=(this.max-this.min)*.6+this.min,this.scale[3]=(this.max-this.min)*.8+this.min,this.scale[4]=(this.max-this.min)*1+this.min);if(typeof this.Get("chart.scale.decimals")=="number"){var d=this.Get("chart.scale.decimals");this.scale=[Number(this.scale[0]).toFixed(d),Number(this.scale[1]).toFixed(d),Number(this.scale[2]).toFixed(d),Number(this.scale[3]).toFixed(d),Number(this.scale[4]).toFixed(d)]}}this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom,RGraph.background.Draw(this),this.Get("chart.background.hbars")&&this.Get("chart.background.hbars").length&&RGraph.DrawBars(this),this.Get("chart.background.vbars")&&this.Get("chart.background.vbars").length&&this.DrawVBars(),this.Get("chart.noaxes")||this.DrawAxes(),this.DrawLabels(),b=0;for(b=0;b<this.data.length;++b)this.DrawMarks(b),this.context.shadowColor=this.Get("chart.line.shadow.color"),this.context.shadowOffsetX=this.Get("chart.line.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.line.shadow.offsety"),this.context.shadowBlur=this.Get("chart.line.shadow.blur"),this.DrawLine(b),RGraph.NoShadow(this);if(this.Get("chart.line"))for(var b=0;b<this.data.length;++b)this.DrawMarks(b);this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.line.colors")),this.Get("chart.labels.above")&&this.DrawAboveLabels(),this.DrawInGraphLabels(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Scatter.prototype.DrawAxes=function(){var a=this.canvas,b=this.context,c=this.canvas.height-this.gutterTop-this.gutterBottom;b.beginPath(),b.strokeStyle=this.Get("chart.axis.color"),b.lineWidth=1,this.Get("chart.yaxispos")=="left"?(b.moveTo(AA(this,this.gutterLeft),this.gutterTop),b.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom)):(b.moveTo(AA(this,RGraph.GetWidth(this)-this.gutterRight),this.gutterTop),b.lineTo(AA(this,RGraph.GetWidth(this)-this.gutterRight),RGraph.GetHeight(this)-this.gutterBottom)),this.Get("chart.xaxis")&&(this.Get("chart.xaxispos")=="center"?(b.moveTo(this.gutterLeft,AA(this,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/2)),b.lineTo(this.canvas.width-this.gutterRight,AA(this,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)/2))):(b.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),b.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom))));var d=this.Get("chart.numyticks");for(i=0;i<d;++i){var e=(this.canvas.height-this.gutterTop-this.gutterBottom)/d*i;e=e+this.gutterTop;if(this.Get("chart.xaxispos")=="center"&&i==d/2)continue;this.Get("chart.yaxispos")=="left"?(b.moveTo(this.gutterLeft,AA(this,e)),b.lineTo(this.gutterLeft-3,AA(this,e))):(b.moveTo(this.canvas.width-this.gutterRight+3,AA(this,e)),b.lineTo(this.canvas.width-this.gutterRight,AA(this,e)))}this.Get("chart.xaxispos")=="center"&&this.Get("chart.yaxispos")=="left"?(b.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),b.lineTo(this.gutterLeft-3,AA(this,this.canvas.height-this.gutterBottom))):this.Get("chart.xaxispos")=="center"&&(b.moveTo(this.canvas.width-this.gutterRight+3,AA(this,this.canvas.height-this.gutterBottom)),b.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom))),this.Get("chart.xaxis")==!1&&this.Get("chart.yaxispos")=="left"?(this.context.moveTo(this.gutterLeft+1,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.gutterLeft-3,AA(this,this.canvas.height-this.gutterBottom))):this.Get("chart.xaxis")==!1&&this.Get("chart.yaxispos")=="right"&&(this.context.moveTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight+3,AA(this,this.canvas.height-this.gutterBottom)));if(this.Get("chart.xticks")&&this.Get("chart.xaxis")){var f=0,e=this.Get("chart.xaxispos")=="center"?this.gutterTop+this.grapharea/2:this.canvas.height-this.gutterBottom;this.xTickGap=this.Get("chart.labels")&&this.Get("chart.labels").length?(this.canvas.width-this.gutterLeft-this.gutterRight)/this.Get("chart.labels").length:(this.canvas.width-this.gutterLeft-this.gutterRight)/10;for(f=this.gutterLeft+(this.Get("chart.yaxispos")=="left"?this.xTickGap:0);f<=this.canvas.width-this.gutterRight-(this.Get("chart.yaxispos")=="left"?-1:1);f+=this.xTickGap){if(this.Get("chart.yaxispos")=="left"&&this.Get("chart.noendxtick")==!0&&f==this.canvas.width-this.gutterRight)continue;if(this.Get("chart.yaxispos")=="right"&&this.Get("chart.noendxtick")==!0&&f==this.gutterLeft)continue;b.moveTo(AA(this,f),e-(this.Get("chart.xaxispos")=="center"?3:0)),b.lineTo(AA(this,f),e+3)}}b.stroke()},RGraph.Scatter.prototype.DrawLabels=function(){this.context.fillStyle=this.Get("chart.text.color");var a=this.Get("chart.text.font"),b=this.Get("chart.xmin"),c=this.Get("chart.xmax"),d=this.scale[4],e=this.Get("chart.ymin")?this.Get("chart.ymin"):0,f=this.Get("chart.text.size"),g=this.Get("chart.units.pre"),h=this.Get("chart.units.post"),i=this.Get("chart.ylabels.count"),j=this.Get("chart.ylabels.invert"),k=this.Get("chart.ylabels.inside"),l=this.context,m=this.canvas,n=!1;this.halfTextHeight=f/2,this.halfGraphHeight=(this.canvas.height-this.gutterTop-this.gutterBottom)/2;if(this.Get("chart.ylabels")){var o=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:RGraph.GetWidth(this)-this.gutterRight+5,p=this.Get("chart.yaxispos")=="right"?"left":"right";k&&(this.Get("chart.yaxispos")=="left"?(o=this.Get("chart.gutter.left")+5,p="left",n=!0):(o=this.canvas.width-this.Get("chart.gutter.right")-5,p="right",n=!0));if(this.Get("chart.xaxispos")=="center"){if(typeof this.Get("chart.ylabels.specific")=="object"&&this.Get("chart.ylabels.specific")!=null&&this.Get("chart.ylabels.specific").length){var q=this.Get("chart.ylabels.specific");if(this.Get("chart.ymin")>0){q=[];for(var r=0;r<this.Get("chart.ylabels.specific").length-1;++r)q.push(this.Get("chart.ylabels.specific")[r])}for(var r=0;r<q.length;++r){var s=this.gutterTop+r*(this.grapharea/(q.length*2));RGraph.Text(l,a,f,o,s,q[r],"center",p,n)}var t=RGraph.array_reverse(q);for(var r=0;r<t.length;++r){var s=this.gutterTop+this.grapharea/2+(r+1)*(this.grapharea/(q.length*2));RGraph.Text(l,a,f,o,s,t[r],"center",p,n)}this.Get("chart.ymin")>0&&RGraph.Text(l,a,f,o,this.grapharea/2+this.Get("chart.gutter.top"),this.Get("chart.ylabels.specific")[this.Get("chart.ylabels.specific").length-1],"center",p,n);return}if(i==1||i==3||i==5)RGraph.Text(l,a,f,o,this.gutterTop,RGraph.number_format(this,j?e:this.scale[4],g,h),"center",p,n),i>=5&&(RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.1,RGraph.number_format(this,j?this.max-this.scale[3]+this.min:this.scale[3],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.3,RGraph.number_format(this,j?this.max-this.scale[1]+this.min:this.scale[1],g,h),"center",p,n)),i>=3&&(RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.2,RGraph.number_format(this,j?this.max-this.scale[2]+this.min:this.scale[2],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.4,RGraph.number_format(this,j?this.max-this.scale[0]+this.min:this.scale[0],g,h),"center",p,n)),i>=3&&(RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.1+this.halfGraphHeight,"-"+RGraph.number_format(this,j?this.max-this.scale[0]+this.min:this.scale[0],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.3+this.halfGraphHeight,"-"+RGraph.number_format(this,j?this.max-this.scale[2]+this.min:this.scale[2],g,h),"center",p,n)),i==5&&(RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.2+this.halfGraphHeight,"-"+RGraph.number_format(this,j?this.max-this.scale[1]+this.min:this.scale[1],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*.4+this.halfGraphHeight,"-"+RGraph.number_format(this,j?this.max-this.scale[3]+this.min:this.scale[3],g,h),"center",p,n)),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.5+this.halfGraphHeight,"-"+RGraph.number_format(this,j?e:d,g,h),"center",p,n),j&&RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)/2,"-"+RGraph.number_format(this,d,g,h),"center",p,n),!j&&e>0&&RGraph.Text(l,a,f,o,this.gutterTop+this.halfGraphHeight,RGraph.number_format(this,e,g,h),"center",p,n);else if(i==10){var u=this.grapharea/i/2;for(var r=0;r<i;++r)RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*(r/20),RGraph.number_format(this,(this.max-this.max*(r/10)).toFixed(this.Get("chart.scale.decimals")),g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*(r/20)+this.grapharea/2+this.grapharea/20,"-"+RGraph.number_format(this,(this.max*(r/10)+this.max*.1).toFixed(this.Get("chart.scale.decimals")),g,h),"center",p,n)}else alert("[SCATTER SCALE] Number of Y labels can be 1/3/5/10 only")}else{var o=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,p=this.Get("chart.yaxispos")=="right"?"left":"right";k&&(this.Get("chart.yaxispos")=="left"?(o=this.Get("chart.gutter.left")+5,p="left",n=!0):(o=this.canvas.width-this.Get("chart.gutter.right")-5,p="right",n=!0));if(typeof this.Get("chart.ylabels.specific")=="object"&&this.Get("chart.ylabels.specific")){var q=this.Get("chart.ylabels.specific");if(this.Get("chart.ymin")>0){q=[];for(var r=0;r<this.Get("chart.ylabels.specific").length-1;++r)q.push(this.Get("chart.ylabels.specific")[r])}for(var r=0;r<q.length;++r){var s=this.gutterTop+r*(this.grapharea/q.length);RGraph.Text(l,a,f,o,s,q[r],"center",p,n)}this.Get("chart.ymin")>0&&RGraph.Text(l,a,f,o,this.canvas.height-this.Get("chart.gutter.bottom"),this.Get("chart.ylabels.specific")[this.Get("chart.ylabels.specific").length-1],"center",p,n)}else{if(i==1||i==3||i==5)j?(RGraph.Text(l,a,f,o,this.gutterTop,RGraph.number_format(this,Number(this.Get("chart.ymin")),g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)*1,RGraph.number_format(this,this.scale[4],g,h),"center",p,n),i>=5&&(RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.4,RGraph.number_format(this,this.scale[1],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.8,RGraph.number_format(this,this.scale[3],g,h),"center",p,n)),i>=3&&(RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.6,RGraph.number_format(this,this.scale[2],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.2,RGraph.number_format(this,this.scale[0],g,h),"center",p,n)),this.Get("chart.xaxis")||RGraph.Text(l,a,f,o,this.canvas.height-this.gutterBottom,RGraph.number_format(this,"0",g,h),"center",p,n)):(RGraph.Text(l,a,f,o,this.gutterTop,RGraph.number_format(this,this.scale[4],g,h),"center",p,n),i>=5&&(RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.2,RGraph.number_format(this,this.scale[3],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.6,RGraph.number_format(this,this.scale[1],g,h),"center",p,n)),i>=3&&(RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.4,RGraph.number_format(this,this.scale[2],g,h),"center",p,n),RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*.8,RGraph.number_format(this,this.scale[0],g,h),"center",p,n)),this.Get("chart.xaxis")||RGraph.Text(l,a,f,o,this.canvas.height-this.gutterBottom,RGraph.number_format(this,"0",g,h),"center",p,n));else if(i==10){var u=this.grapharea/i/2;if(j)for(var r=i;r>=0;--r)RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*((10-r)/10),RGraph.number_format(this,(this.max-this.max*(r/10)).toFixed(this.Get("chart.scale.decimals")),g,h),"center",p,n);else for(var r=0;r<i;++r)RGraph.Text(l,a,f,o,this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)*(r/10),RGraph.number_format(this,(this.max-(this.max-this.min)*(r/10)).toFixed(this.Get("chart.scale.decimals")),g,h),"center",p,n)}else alert("[SCATTER SCALE] Number of Y labels can be 1/3/5/10 only");this.Get("chart.ymin")&&!j&&RGraph.Text(l,a,f,o,this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.Get("chart.ymin").toFixed(this.Get("chart.scale.decimals")),g,h),"center",p,n)}}}if(this.Get("chart.xscale")){var v=this.Get("chart.xscale.numlabels"),u=(this.canvas.width-this.gutterLeft-this.gutterRight)/v,s=this.canvas.height-this.gutterBottom+5+f/2,w=this.Get("chart.xscale.units.pre"),x=this.Get("chart.xscale.units.post"),y=typeof this.Get("chart.xscale.decimals")=="number"?this.Get("chart.xscale.decimals"):this.Get("chart.scale.decimals");if(!this.Get("chart.xmax")){var z=0;for(var A=0;A<this.data.length;++A)for(var B=0;B<this.data[A].length;++B)z=Math.max(z,this.data[A][B][0]);this.Set("chart.xmax",RGraph.getScale(z)[4])}for(var r=0;r<v;++r){var C=(this.Get("chart.xmax")-this.Get("chart.xmin"))*((r+1)/v)+this.Get("chart.xmin"),D=this.gutterLeft+(r+1)*u;if(typeof this.Get("chart.xscale.formatter")=="function")var E=this.Get("chart.xscale.formatter")(this,C);else var E=RGraph.number_format(this,C.toFixed(y),w,x);RGraph.Text(l,a,f,D,s,E,"center","center")}this.Get("chart.yaxispos")=="right"&&RGraph.Text(l,a,f,this.gutterLeft,s,String(this.Get("chart.xmin")),"center","center")}else{var F=this.canvas.width-this.gutterLeft-this.gutterRight,G=F/this.Get("chart.labels").length,o=this.gutterLeft,H=this.canvas.height-this.gutterBottom+15,q=this.Get("chart.labels"),I=0,J=null,K="center";this.Get("chart.text.angle")>0&&(I=-1*this.Get("chart.text.angle"),J="center",K="right",H-=10);for(r=0;r<q.length;++r){if(typeof q[r]=="object"){if(this.Get("chart.labels.specific.align")=="center"){var L=0;q[r+1]&&q[r+1][1]?L=q[r+1][1]:L=this.Get("chart.xmax");var M=(L-q[r][1])/2}else var M=0;RGraph.Text(l,a,this.Get("chart.text.size"),this.gutterLeft+F*((q[r][1]-b+M)/(this.Get("chart.xmax")-b))+5,H,String(q[r][0]),J,I!=0?"right":this.Get("chart.labels.specific.align")=="center"?"center":"left",null,I),this.context.beginPath(),this.context.strokeStyle="#bbb",this.context.moveTo(AA(this,this.gutterLeft+F*((q[r][1]-b)/(this.Get("chart.xmax")-b))),RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(AA(this,this.gutterLeft+F*((q[r][1]-b)/(this.Get("chart.xmax")-b))),RGraph.GetHeight(this)-this.gutterBottom+20),this.context.stroke()}else RGraph.Text(l,a,this.Get("chart.text.size"),o+G/2,H,String(q[r]),J,K,null,I);o+=G}typeof q[0]=="object"&&(this.context.beginPath(),this.context.strokeStyle="#bbb",this.context.moveTo(this.gutterLeft+F,RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(this.gutterLeft+F,RGraph.GetHeight(this)-this.gutterBottom+20),this.context.stroke())}},RGraph.Scatter.prototype.DrawMarks=function(a){this.coords[a]=[];var b=this.Get("chart.xmax"),c=this.Get("chart.defaultcolor");for(var d=0;d<this.data[a].length;++d){var e=this.data[a],f=e[d][0],g=e[d][1],h=e[d][2]?e[d][2]:c,i=e[d]&&e[d][3]?e[d][3]:null;this.DrawMark(a,f,g,b,this.scale[4],h,i,this.coords[a],e)}},RGraph.Scatter.prototype.DrawMark=function(a,b,c,d,e,f,g,h,i){var j=this.Get("chart.tickmarks"),k=this.Get("chart.ticksize"),l=this.Get("chart.xmin"),b=(b-l)/(d-l)*(this.canvas.width-this.gutterLeft-this.gutterRight),m=b,n=c;j&&typeof j=="object"&&(j=j[a]);if(typeof k=="object")var k=k[a],o=k/2;else var o=k/2;if(typeof c=="object"&&typeof c[0]=="number"&&typeof c[1]=="number"&&typeof c[2]=="number"&&typeof c[3]=="number"&&typeof c[4]=="number"){this.Set("chart.boxplot",!0);var p=this.getYCoord(c[0]),q=this.getYCoord(c[1]),r=this.getYCoord(c[2]),s=this.getYCoord(c[3]),t=this.getYCoord(c[4]),u=c[5],v=c[6],w=typeof c[7]=="number"?c[7]:this.Get("chart.boxplot.width")}else var x=this.getYCoord(c);b+=this.gutterLeft,this.context.beginPath(),this.context.strokeStyle=f;if(this.Get("chart.boxplot")&&typeof p=="number"&&typeof q=="number"&&typeof r=="number"&&typeof s=="number"&&typeof t=="number"){w=w/this.Get("chart.xmax")*(this.canvas.width-this.gutterLeft-this.gutterRight);var y=w/2;this.properties["chart.line.visible"]&&(this.context.beginPath(),this.context.strokeRect(b-y,q,w,s-q),u&&(this.context.fillStyle=u,this.context.fillRect(b-y,q,w,r-q)),v&&(this.context.fillStyle=v,this.context.fillRect(b-y,r,w,s-r)),this.context.stroke(),this.context.beginPath(),this.Get("chart.boxplot.capped")&&(this.context.moveTo(b-y,AA(this,p)),this.context.lineTo(b+y,AA(this,p))),this.context.moveTo(AA(this,b),p),this.context.lineTo(AA(this,b),q),this.Get("chart.boxplot.capped")&&(this.context.moveTo(b-y,AA(this,t)),this.context.lineTo(b+y,AA(this,t))),this.context.moveTo(AA(this,b),t),this.context.lineTo(AA(this,b),s),this.context.stroke())}if(this.properties["chart.line.visible"]&&!p&&!q&&!r&&!s&&!t)if(j=="circle")this.context.arc(b,x,o,0,6.28,0),this.context.fillStyle=f,this.context.fill();else if(j=="plus")this.context.moveTo(b,x-o),this.context.lineTo(b,x+o),this.context.moveTo(b-o,x),this.context.lineTo(b+o,x),this.context.stroke();else if(j=="square")this.context.strokeStyle=f,this.context.fillStyle=f,this.context.fillRect(b-o,x-o,k,k);else if(j=="cross")this.context.moveTo(b-o,x-o),this.context.lineTo(b+o,x+o),this.context.moveTo(b+o,x-o),this.context.lineTo(b-o,x+o),this.context.stroke();else if(j=="diamond")this.context.fillStyle=this.context.strokeStyle,this.context.moveTo(b,x-o),this.context.lineTo(b+o,x),this.context.lineTo(b,x+o),this.context.lineTo(b-o,x),this.context.lineTo(b,x-o),this.context.fill(),this.context.stroke();else if(typeof j=="function"){var z=this.canvas.width-this.gutterLeft-this.gutterRight,A=(b-this.gutterLeft)/z*d,B=(this.graphheight-(c-this.gutterTop))/this.graphheight*
e;j(this,i,b,c,A,B,d,e,f)}else j!=null&&alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+j);this.Get("chart.boxplot")&&typeof p=="number"&&typeof q=="number"&&typeof r=="number"&&typeof s=="number"&&typeof t=="number"&&(b=[b-y,b+y],x=[p,q,r,s,t]),h.push([b,x,g])},RGraph.Scatter.prototype.DrawLine=function(a){if(typeof this.Get("chart.line.visible")=="boolean"&&this.Get("chart.line.visible")==!1)return;if(this.Get("chart.line")&&this.coords[a].length>=2){this.context.lineCap="round",this.context.lineJoin="round",this.context.lineWidth=this.GetLineWidth(a),this.context.strokeStyle=this.Get("chart.line.colors")[a],this.context.beginPath();var b=this.coords[a].length;for(var c=0;c<this.coords[a].length;++c){var d=this.coords[a][c][0],e=this.coords[a][c][1];if(c==0)this.context.moveTo(d,e);else{var f=this.Get("chart.line.stepped");(typeof f=="boolean"&&f||typeof f=="object"&&f[a])&&this.context.lineTo(this.coords[a][c][0],this.coords[a][c-1][1]),this.context.lineTo(d,e)}}this.context.stroke()}this.context.lineWidth=1},RGraph.Scatter.prototype.GetLineWidth=function(a){var b=this.Get("chart.line.linewidth");if(typeof b=="number")return b;if(typeof b=="object")return b[a]?b[a]:b[0]},RGraph.Scatter.prototype.DrawVBars=function(){var a=this.canvas,b=this.context,c=this.Get("chart.background.vbars"),d=RGraph.GetWidth(this)-this.gutterLeft-this.gutterRight;if(c){var e=this.Get("chart.xmax");for(var f=0;f<c.length;++f){var g=c[f][0]/e*d+this.gutterLeft,h=c[f][1]/e*d;b.beginPath(),b.fillStyle=c[f][2],b.fillRect(g,this.gutterTop,h,RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom),b.fill()}}},RGraph.Scatter.prototype.DrawInGraphLabels=function(a){var b=a.canvas,c=a.context,d=a.Get("chart.labels.ingraph"),e=[],f="black",g="white",h=1;if(!d)return;for(var i=0;i<d.length;++i)if(typeof d[i]=="number")for(var j=0;j<d[i];++j)e.push(null);else typeof d[i]=="string"||typeof d[i]=="object"?e.push(d[i]):e.push("");RGraph.NoShadow(a);if(e&&e.length>0){var i=0;for(var k=0;k<a.coords.length;++k)for(var l=0;l<a.coords[k].length;++l){if(e[i]){var m=a.coords[k][l][0],n=a.coords[k][l][1],o=typeof e[i][4]=="number"?e[i][4]:25,p=m,q=n-5-o;c.moveTo(m,n-5),c.lineTo(m,n-5-o),c.stroke(),c.beginPath(),c.moveTo(m,n-5),c.lineTo(m-3,n-10),c.lineTo(m+3,n-10),c.closePath(),c.beginPath(),c.fillStyle=typeof e[i]=="object"&&typeof e[i][1]=="string"?e[i][1]:"black",RGraph.Text(c,a.Get("chart.text.font"),a.Get("chart.text.size"),p,q,typeof e[i]=="object"&&typeof e[i][0]=="string"?e[i][0]:e[i],"bottom","center",!0,null,typeof e[i]=="object"&&typeof e[i][2]=="string"?e[i][2]:"white"),c.fill()}i++}}},RGraph.Scatter.prototype.getShape=RGraph.Scatter.prototype.getPoint=function(a){var b=a.target,c=this.context,d=RGraph.getMouseXY(a),e=d[0],f=d[1],g=!1,h=this.Get("chart.tooltips.hotspot");for(var i=0;i<this.coords.length;++i)for(var j=0;j<this.coords[i].length;++j){var k=this.coords[i][j][0],l=this.coords[i][j][1],m=this.data[i][j][3];if(typeof l=="number"){if(e<=k+h&&e>=k-h&&f<=l+h&&f>=l-h){var m=RGraph.parseTooltipText(this.data[i][j][3],0),n=j;for(var o=i-1;o>=0;--o)n+=this.data[o].length;return{0:this,1:k,2:l,3:i,4:j,5:this.data[i][j][3],object:this,x:k,y:l,dataset:i,index:j,tooltip:m,index_adjusted:n}}}else{var p=this.data[i][j],q=this.Get("chart.boxplot.width");typeof p[1][7]=="number"&&(q=p[1][7]);if(typeof k=="object"&&e>k[0]&&e<k[1]&&f>l[1]&&f<l[3]){var m=RGraph.parseTooltipText(this.data[i][j][3],0);return{0:this,1:k[0],2:k[1]-k[0],3:l[1],4:l[3]-l[1],5:i,6:j,7:this.data[i][j][3],object:this,x:k[0],y:l[1],width:k[1]-k[0],height:l[3]-l[1],dataset:i,index:j,tooltip:m}}}}},RGraph.Scatter.prototype.DrawAboveLabels=function(){var a=this.context,b=this.Get("chart.labels.above.size"),c=this.Get("chart.text.font"),d=this.Get("chart.units.pre"),e=this.Get("chart.units.post");for(var f=0;f<this.coords.length;++f)for(var g=0;g<this.coords[f].length;++g){var h=this.data[f][g][0],i=this.data[f][g][1],j=this.coords[f][g][0],k=this.coords[f][g][1];RGraph.Text(a,c,b,j,k-5-b,h.toFixed(this.Get("chart.labels.above.decimals"))+", "+i.toFixed(this.Get("chart.labels.above.decimals")),"center","center",!0,null,"rgba(255, 255, 255, 0.7)")}},RGraph.Scatter.prototype.getYValue=RGraph.Scatter.prototype.getValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];var e=this;if(c<e.Get("chart.gutter.top")||c>e.canvas.height-e.Get("chart.gutter.bottom")||b<e.Get("chart.gutter.left")||b>e.canvas.width-e.Get("chart.gutter.right"))return null;if(e.Get("chart.xaxispos")=="center"){var f=(e.grapharea/2-(c-e.Get("chart.gutter.top")))/e.grapharea*(e.max-e.min);f*=2,f>=0?f+=e.min:f-=e.min}else{var f=(e.grapharea-(c-e.Get("chart.gutter.top")))/e.grapharea*(e.max-e.min);f+=e.min}return f},RGraph.Scatter.prototype.getXValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];var e=this;if(c<e.Get("chart.gutter.top")||c>e.canvas.height-e.Get("chart.gutter.bottom")||b<e.Get("chart.gutter.left")||b>e.canvas.width-e.Get("chart.gutter.right"))return null;var f=e.canvas.width-e.gutterLeft-e.gutterRight,g=(b-e.gutterLeft)/f*(e.Get("chart.xmax")-e.Get("chart.xmin"));return g+=e.Get("chart.xmin"),g},RGraph.Scatter.prototype.Highlight=function(a){a.height?RGraph.Highlight.Rect(this,a):RGraph.Highlight.Point(this,a)},RGraph.Scatter.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")-3&&b[0]<this.canvas.width-this.Get("chart.gutter.right")+3&&b[1]>this.Get("chart.gutter.top")-3&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom")+3)return this},RGraph.Scatter.prototype.getXCoord=function(a){if(typeof a!="number")return null;var b=this.Get("chart.xmin"),c=this.Get("chart.xmax"),d;a<b&&(a=b),a>c&&(a=c);var e=this.Get("chart.gutter.right"),f=this.Get("chart.gutter.left");return this.Get("chart.yaxispos")=="right"?(d=(a-b)/(c-b)*(this.canvas.width-f-e),d=this.canvas.width-e-d):(d=(a-b)/(c-b)*(this.canvas.width-f-e),d=d+f),d},RGraph.Scatter.prototype.positionTooltip=function(a,b,c,d,e){var f=RGraph.Registry.Get("chart.tooltip.shape"),g=f.dataset,h=f.index,i=a.coords[g][h][0],j=a.coords[g][h][1],k=RGraph.getCanvasXY(a.canvas),l=a.Get("chart.gutter.left"),m=a.Get("chart.gutter.top"),n=d.offsetWidth,o=d.offsetHeight;d.style.left=0,d.style.top=0;var p=typeof j=="object"?!0:!1;d.style.overflow="";var q=new Image;q.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",q.style.position="absolute",q.id="__rgraph_tooltip_pointer__",q.style.top=d.offsetHeight-2+"px",d.appendChild(q),k[0]+(i[0]||i)-n/2<10?p?(d.style.left=k[0]+i[0]+(i[1]-i[0])/2-n*.1+"px",d.style.top=k[1]+j[0]-o-5+"px",q.style.left=n*.1-8.5+"px"):(d.style.left=k[0]+i-n*.1+"px",d.style.top=k[1]+j-o-9+"px",q.style.left=n*.1-8.5+"px"):k[0]+(i[0]||i)+n/2>document.body.offsetWidth?p?(d.style.left=k[0]+i[0]+(i[1]-i[0])/2-n*.9+"px",d.style.top=k[1]+j[0]-o-5+"px",q.style.left=n*.9-8.5+"px"):(d.style.left=k[0]+i-n*.9+"px",d.style.top=k[1]+j-o-9+"px",q.style.left=n*.9-8.5+"px"):p?(d.style.left=k[0]+i[0]+(i[1]-i[0])/2-n/2+"px",d.style.top=k[1]+j[0]-o-5+"px",q.style.left=n*.5-8.5+"px"):(d.style.left=k[0]+i-n*.5+"px",d.style.top=k[1]+j-o-9+"px",q.style.left=n*.5-8.5+"px")},RGraph.Scatter.prototype.getYCoord=RGraph.Scatter.prototype.getYCoordFromValue=function(a){if(typeof a!="number")return null;var b=this.canvas,c=this.Get("chart.ylabels.invert"),d=this.Get("chart.xaxispos"),e=b.height-this.gutterTop-this.gutterBottom,f=e/2,g=this.max,h=this.Get("chart.ymin"),i=0;return d=="center"?(i=(Math.abs(a)-h)/(g-h)*f,c&&(i=f-i),a<0?(i+=this.gutterTop,i+=f):(i=f-i,i+=this.gutterTop)):(i=(a-h)/(g-h)*e,c&&(i=e-i),i=e-i,i=this.gutterTop+i),i},RGraph.Scatter.Bubble=function(a,b,c,d,e){this.scatter=a,this.min=b,this.max=c,this.width=d,this.data=e,this.Set=function(a,b){this.scatter.Set(a,b)},this.Get=function(a){this.scatter.Get(a)}},RGraph.Scatter.Bubble.prototype.Draw=function(){var a=this.min,b=this.max,c=this.data,d=this.width;this.scatter.ondraw=function(e){for(var f=0;f<e.coords[0].length;++f){c[f]=Math.max(c[f],a),c[f]=Math.min(c[f],b);var g=(c[f]-a)/(b-a)*d;e.context.beginPath(),e.context.fillStyle=RGraph.RadialGradient(e,e.coords[0][f][0]+5,e.coords[0][f][1]-5,0,e.coords[0][f][0]+5,e.coords[0][f][1]-5,50,"white",e.data[0][f][2]?e.data[0][f][2]:e.properties["chart.defaultcolor"]),e.context.arc(e.coords[0][f][0],e.coords[0][f][1],g,0,TWOPI,!1),e.context.fill()}},this.scatter.Draw()},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Skeleton=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="skeleton",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.colors":["red","blue"],"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!1,"chart.background.grid.autofit.align":!1,"chart.background.grid.autofit.numhlines":7,"chart.background.grid.autofit.numvlines":20,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.contextmenu":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.decimals":0,"chart.labels.above.size":null,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.units.pre":"","chart.units.post":"","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.yaxis.position":"left","chart.text.color":"black","chart.text.size":10,"chart.text.angle":0,"chart.text.font":"Arial","chart.resizable":!1,"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.hmargin":5,"chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.events.click":null,"chart.events.mousemove":null};if(!this.canvas){alert("[SKELETON] No canvas support");return}this.data=b,this.coords=[],RGraph.Register(this)},RGraph.Skeleton.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Skeleton.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Skeleton.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),RGraph.DrawBackgroundImage(this),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.labels.ingraph")&&RGraph.DrawInGraphLabels(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),this.Get("chart.adjustable")&&RGraph.AllowAdjusting(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Skeleton.prototype.getShape=function(a){},RGraph.Skeleton.prototype.Highlight=function(a){},RGraph.Skeleton.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Skeleton.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=RGraph.getCanvasXY(a.canvas),i=a.Get("chart.gutter.left"),j=a.Get("chart.gutter.top"),k=d.offsetWidth;d.style.left=0,d.style.top=parseInt(d.style.top)-9+"px",d.style.overflow="";var l=new Image;l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",l.style.position="absolute",l.id="__rgraph_tooltip_pointer__",l.style.top=d.offsetHeight-2+"px",d.appendChild(l),h[0]+f-k/2<10?(d.style.left=h[0]+f-k*.1+"px",l.style.left=k*.1-8.5+"px"):h[0]+f+k/2>document.body.offsetWidth?(d.style.left=h[0]+f-k*.9+"px",l.style.left=k*.9-8.5+"px"):(d.style.left=h[0]+f-k*.5+"px",l.style.left=k*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Thermometer=function(a,b,c,d){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.type="thermometer",this.isRGraph=!0,this.min=b,this.max=c,this.value=d,this.coords=[],this.graphArea=[],this.currentValue=null,RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":["red"],"chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.ticksize":5,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.units.pre":"","chart.units.post":"","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.title":"","chart.title.hpos":.5,"chart.title.side":"","chart.title.side.bold":!0,"chart.title.side.font":null,"chart.shadow":!0,"chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15,"chart.shadow.color":"gray","chart.resizable":!1,"chart.contextmenu":null,"chart.adjustable":!1,"chart.value.label":!0,"chart.scale.visible":!1,"chart.scale.decimals":0,"chart.ylabels.count":5,"chart.annotatable":!1,"chart.annotate.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.effect":"fade","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)"};var e=this.context.createLinearGradient(15,0,this.canvas.width-this.Get("chart.gutter.right"),0);e.addColorStop(0,"red"),e.addColorStop(.5,"#f99"),e.addColorStop(1,"red"),this.Set("chart.colors",[e]);if(!this.canvas){alert("[THERMOMETER] No canvas support");return}RGraph.Register(this)},RGraph.Thermometer.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Thermometer.prototype.Get=function(a){return this.properties[a]},RGraph.Thermometer.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.DrawBackground(),this.DrawBar(),this.DrawTickMarks(),this.DrawLabels(),this.Get("chart.title")&&this.DrawTitle(),this.Get("chart.title.side")&&this.DrawSideTitle(),this.Get("chart.resizable")&&RGraph.AllowResizing(this),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Thermometer.prototype.DrawBackground=function(){var a=this.canvas,b=this.context,c=(this.canvas.width-this.gutterLeft-this.gutterRight)/2;this.bulbRadius=c,b.beginPath(),b.fillStyle="black",this.Get("chart.shadow")&&RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")),b.fillRect(this.gutterLeft+12,this.gutterTop+c,this.canvas.width-this.gutterLeft-this.gutterRight-24,this.canvas.height-this.gutterTop-this.gutterBottom-c-c),b.arc(this.gutterLeft+c,this.canvas.height-this.gutterBottom-c,c,0,TWOPI,0),b.arc(this.gutterLeft+c,this.gutterTop+c,(this.canvas.width-this.gutterLeft-this.gutterRight-24)/2,0,TWOPI,0),b.fill(),RGraph.NoShadow(this),b.beginPath(),b.fillStyle="white",b.fillRect(this.gutterLeft+12+1,this.gutterTop+c,this.canvas.width-this.gutterLeft-this.gutterRight-24-2,this.canvas.height-this.gutterTop-this.gutterBottom-c-c),b.arc(this.gutterLeft+c,this.canvas.height-this.gutterBottom-c,c-1,0,TWOPI,0),b.arc(this.gutterLeft+c,this.gutterTop+c,(this.canvas.width-this.gutterLeft-this.gutterRight-24)/2-1,0,TWOPI,0),b.fill(),b.beginPath(),b.fillStyle=this.Get("chart.colors")[0],b.arc(this.gutterLeft+c,this.canvas.height-this.gutterBottom-c,c-1,0,TWOPI,0),b.fillRect(this.gutterLeft+12+1,this.canvas.height-this.gutterBottom-c-c,this.canvas.width-this.gutterLeft-this.gutterRight-24-2,c),b.fill(),this.graphArea[0]=this.gutterLeft+12+1,this.graphArea[1]=this.gutterTop+c,this.graphArea[2]=this.canvas.width-this.gutterLeft-this.gutterRight-24-2,this.graphArea[3]=this.canvas.height-this.gutterBottom-c-c-this.graphArea[1]},RGraph.Thermometer.prototype.DrawBar=function(){var a=(this.value-this.min)/(this.max-this.min)*this.graphArea[3],b=this.context;b.beginPath(),b.fillStyle=this.Get("chart.colors")[0],b.fillRect(this.graphArea[0],this.graphArea[1]+this.graphArea[3]-a,this.graphArea[2],a),b.fill(),this.coords[0]=[this.graphArea[0],this.graphArea[1]+this.graphArea[3]-a,this.graphArea[2],a]},RGraph.Thermometer.prototype.DrawTickMarks=function(){this.context.strokeStyle="black";var a=this.Get("chart.ticksize");this.context.beginPath();for(var b=this.graphArea[1];b<=this.graphArea[1]+this.graphArea[3];b+=this.graphArea[3]/10)this.context.moveTo(this.gutterLeft+12,AA(this,b)),this.context.lineTo(this.gutterLeft+12+a,AA(this,b));this.context.stroke(),this.context.beginPath();for(var b=this.graphArea[1];b<=this.graphArea[1]+this.graphArea[3];b+=this.graphArea[3]/10)this.context.moveTo(this.canvas.width-(this.gutterRight+12),AA(this,b)),this.context.lineTo(this.canvas.width-(this.gutterRight+12+a),AA(this,b));this.context.stroke()},RGraph.Thermometer.prototype.DrawLabels=function(){if(this.Get("chart.value.label")){this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color");var a=this.Get("chart.scale.visible")?RGraph.number_format(this,this.value.toFixed(this.Get("chart.scale.decimals"))):RGraph.number_format(this,this.value.toFixed(this.Get("chart.scale.decimals")),this.Get("chart.units.pre"),this.Get("chart.units.post"));RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),this.gutterLeft+this.bulbRadius,this.coords[0][1]-this.Get("chart.text.size")-2,a,"center","center",!0,null,"white"),this.context.fill()}this.Get("chart.scale.visible")&&this.DrawScale()},RGraph.Thermometer.prototype.DrawTitle=function(){this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color"),RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size")+2,this.gutterLeft+(this.canvas.width-this.gutterLeft-this.gutterRight)/2,this.gutterTop,String(this.Get("chart.title")),"center","center",null,null,null,!0),this.context.fill()},RGraph.Thermometer.prototype.DrawSideTitle=function(){var a=this.Get("chart.title.side.font")?this.Get("chart.title.side.font"):this.Get("chart.text.font"),b=this.Get("chart.title.side.size")?this.Get("chart.title.side.size"):this.Get("chart.text.size")+2;this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color"),RGraph.Text(this.context,a,b,this.gutterLeft*this.Get("chart.title.hpos"),this.canvas.height/2,String(this.Get("chart.title.side")),"center","center",null,270,null,!0),this.context.fill()},RGraph.Thermometer.prototype.DrawScale=function(){var a=this.Get("chart.ylabels.count"),b=(this.max-this.min)/a;this.context.fillStyle=this.Get("chart.text.color");var c=this.Get("chart.text.font"),d=this.Get("chart.text.size"),e=this.Get("chart.units.pre"),f=this.Get("chart.units.post"),g=this.Get("chart.scale.decimals");this.context.beginPath();for(var h=1;h<=a;++h){var i=this.canvas.width-this.gutterRight,j=this.canvas.height-this.gutterBottom-2*this.bulbRadius-this.graphArea[3]/a*h,k=RGraph.number_format(this,String((this.min+h*b).toFixed(g)),e,f);RGraph.Text(this.context,c,d,i-6,j,k,"center")}RGraph.Text(this.context,c,d,i-6,this.canvas.height-this.gutterBottom-2*this.bulbRadius,RGraph.number_format(this,this.min.toFixed(g),e,f),"center"),this.context.fill()},RGraph.Thermometer.prototype.getShape=RGraph.Thermometer.prototype.getBar=function(a){for(var b=0;b<this.coords.length;b++){var c=RGraph.getMouseXY(a),d=c[0],e=c[1],f=this.coords[b][0],g=this.coords[b][1],h=this.coords[b][2],i=this.coords[b][3];if(d>=f&&d<=f+h&&e>=g&&e<=g+i){var j=RGraph.parseTooltipText(this.Get("chart.tooltips"),b);return{0:this,object:this,1:f,x:f,2:g,y:g,3:h,width:h,4:i,height:i,5:b,index:b,tooltip:j}}}return null},RGraph.Thermometer.prototype.getValue=function(a){if(a.length==2)var b=a[0],c=a[1];else var d=RGraph.getMouseXY(a),b=d[0],c=d[1];var e=this.canvas,f=this.context,g=this.graphArea[3]-(c-this.graphArea[1]);return g=g/this.graphArea[3]*(this.max-this.min),g=g+this.min,g=Math.max(g,this.min),g=Math.min(g,this.max),g},RGraph.Thermometer.prototype.Highlight=function(a){this.Get("chart.tooltips.highlight")&&RGraph.Highlight.Rect(this,a)},RGraph.Thermometer.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>=this.Get("chart.gutter.top")&&b[1]<=this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Thermometer.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=RGraph.getMouseXY(a),c=this.getValue(a);typeof c=="number"&&(RGraph.FireCustomEvent(this,"onadjust"),this.value=Number(c.toFixed(this.Get("chart.scale.decimals"))),RGraph.Redraw())}},RGraph.Thermometer.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.VProgress=function(a,b,c){this.id=a,this.max=c,this.value=b,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="vprogress",this.coords=[],this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":[RGraph.LinearGradient(this,0,25,0,this.canvas.height-25,"#0c0","white"),"red","green","mauve","yellow","pink","cyan","black","white","gray"],"chart.strokestyle.inner":"#999","chart.strokestyle.outer":"#999","chart.tickmarks":!0,"chart.tickmarks.zerostart":!1,"chart.tickmarks.color":"black","chart.tickmarks.inner":!1,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.numticks":10,"chart.numticks.inner":50,"chart.background.color":"#eee","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.size":null,"chart.title.color":"black","chart.title.side":null,"chart.title.side.font":"Arial","chart.title.side.size":12,"chart.title.side.color":"black","chart.title.side.bold":!0,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.arrows":!1,"chart.margin":0,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.label.inner":!1,"chart.labels.count":10,"chart.labels.position":"right","chart.adjustable":!1,"chart.min":0,"chart.scale.decimals":0,"chart.scale.thousand":",","chart.scale.point":".","chart.scale.visible":!0,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.events.click":null,"chart.events.mousemove":null,"chart.border.inner":!0};if(!this.canvas){alert("[PROGRESS] No canvas support");return}RGraph.Register(this)},RGraph.VProgress.prototype.Set=function(a,b){if(a=="chart.strokestyle"){this.Set("chart.strokestyle.inner",b),this.Set("chart.strokestyle.outer",b);return}this.properties[a.toLowerCase()]=b},RGraph.VProgress.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.VProgress.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.width=this.canvas.width-this.gutterLeft-this.gutterRight,this.height=this.canvas.height-this.gutterTop-this.gutterBottom,this.coords=[],this.Drawbar(),this.DrawTickMarks(),this.DrawLabels(),this.context.stroke(),this.context.fill(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),RGraph.InstallEventListeners(this),this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors")),this.Get("chart.resizable")&&RGraph.AllowResizing(this),this.AllowAdjusting(),RGraph.FireCustomEvent(this,"ondraw")},RGraph.VProgress.prototype.Drawbar=function(){this.Get("chart.shadow")&&RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")),RGraph.isOld()&&this.Get("chart.shadow")&&(this.context.fillStyle=this.Get("chart.shadow.color"),this.context.fillRect(this.gutterLeft+this.Get("chart.shadow.offsetx"),this.gutterTop+this.Get("chart.shadow.offsety"),this.width,this.height)),this.context.fillStyle=this.Get("chart.background.color"),this.context.strokeStyle=this.Get("chart.strokestyle.outer"),this.context.strokeRect(this.gutterLeft,this.gutterTop,this.width,this.height),this.context.fillRect(this.gutterLeft,this.gutterTop,this.width,this.height),RGraph.NoShadow(this),this.context.strokeStyle=this.Get("chart.strokestyle.outer"),this.context.fillStyle=this.Get("chart.colors")[0];var a=this.Get("chart.margin"),b=RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom;if(typeof this.value=="number")this.context.lineWidth=1,this.context.strokeStyle=this.Get("chart.strokestyle.inner");else if(typeof this.value=="object"){this.context.beginPath(),this.context.strokeStyle=this.Get("chart.strokestyle.inner");var c=this.canvas.height-this.gutterBottom;for(var d=0;d<this.value.length;++d){var e=(this.value[d]-this.Get("chart.min"))/(this.max-this.Get("chart.min"))*b;this.context.fillStyle=this.Get("chart.colors")[d],this.Get("chart.border.inner")&&this.context.strokeRect(this.gutterLeft+a,c-e,this.width-a-a,e),this.context.fillRect(this.gutterLeft+a,c-e,this.width-a-a,e),this.coords.push([this.gutterLeft+a,c-e,this.width-a-a,e]),c-=e}this.context.stroke(),this.context.fill()}if(this.Get("chart.tickmarks.inner")){var f=(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/this.Get("chart.numticks.inner");this.context.lineWidth=1,this.context.strokeStyle=this.Get("chart.strokestyle.outer"),this.context.beginPath();for(var g=this.gutterTop;g<RGraph.GetHeight(this)-this.gutterBottom;g+=f)this.context.moveTo(this.gutterLeft,AA(this,g)),this.context.lineTo(this.gutterLeft+3,AA(this,g)),this.context.moveTo(RGraph.GetWidth(this)-this.gutterRight,AA(this,g)),this.context.lineTo(RGraph.GetWidth(this)-this.gutterRight-3,AA(this,g));this.context.stroke()}var b=Math.min(this.height,(this.value-this.Get("chart.min"))/(this.max-this.Get("chart.min"))*this.height);this.context.beginPath(),this.context.strokeStyle=this.Get("chart.strokestyle.inner"),typeof this.value=="number"&&(this.Get("chart.border.inner")&&this.context.strokeRect(this.gutterLeft+a,this.gutterTop+this.height-b,this.width-a-a,b),this.context.fillRect(this.gutterLeft+a,this.gutterTop+this.height-b,this.width-a-a,b));if(this.Get("chart.arrows")){var h=this.gutterLeft-4,g=RGraph.GetHeight(this)-this.gutterBottom-b;this.context.lineWidth=1,this.context.fillStyle="black",this.context.strokeStyle="black",this.context.beginPath(),this.context.moveTo(h,g),this.context.lineTo(h-4,g-2),this.context.lineTo(h-4,g+2),this.context.closePath(),this.context.stroke(),this.context.fill(),h+=this.width+8,this.context.beginPath(),this.context.moveTo(h,g),this.context.lineTo(h+4,g-2),this.context.lineTo(h+4,g+2),this.context.closePath(),this.context.stroke(),this.context.fill()}this.Get("chart.label.inner")&&(this.context.beginPath(),this.context.fillStyle="black",RGraph.Text(this.context,this.Get("chart.text.font"),this.Get("chart.text.size"),(this.canvas.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.canvas.height-this.gutterBottom-b-5,RGraph.number_format(this,this.value.toFixed(this.Get("chart.scale.decimals"))),"bottom","center",!0,null,"white"),this.context.fill()),this.coords.push([this.gutterLeft+a,this.gutterTop+this.height-b,this.width-a-a,b])},RGraph.VProgress.prototype.DrawTickMarks=function(){this.context.strokeStyle=this.Get("chart.tickmarks.color");if(this.Get("chart.tickmarks")){this.context.beginPath();for(var a=0;this.Get("chart.tickmarks.zerostart")?a<=this.Get("chart.numticks"):a<this.Get("chart.numticks");a++){var b=this.Get("chart.labels.position")=="left"?this.gutterLeft:this.canvas.width-this.Get("chart.gutter.right"),c=this.Get("chart.labels.position")=="left"?b-4:b+4,d=this.height*(a/this.Get("chart.numticks"))+this.gutterTop;this.context.moveTo(b,AA(this,d)),this.context.lineTo(c,AA(this,d))}this.context.stroke()}},RGraph.VProgress.prototype.DrawLabels=function(){if(!RGraph.is_null(this.Get("chart.labels.specific")))return this.DrawSpecificLabels();this.context.fillStyle=this.Get("chart.text.color");var a=this.
context,b=this.Get("chart.labels.position"),c=b=="left"?"right":"left",d="center",e=this.Get("chart.labels.count"),f=this.Get("chart.units.pre"),g=this.Get("chart.units.post"),h=this.Get("chart.text.size"),i=this.Get("chart.text.font"),j=this.Get("chart.scale.decimals");if(this.Get("chart.tickmarks")){for(var k=0;k<e;++k){var l=String(((this.max-this.Get("chart.min"))/e*(e-k)+this.Get("chart.min")).toFixed(j));RGraph.Text(a,i,h,b=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,(this.canvas.height-this.gutterTop-this.gutterBottom)/e*k+this.gutterTop,RGraph.number_format(this,l,f,g),d,c)}this.Get("chart.tickmarks.zerostart")&&this.Get("chart.min")==0&&RGraph.Text(a,i,h,b=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.Get("chart.min").toFixed(j),f,g),d,c),this.Get("chart.min")!=0&&RGraph.Text(a,i,h,b=="left"?this.gutterLeft-5:RGraph.GetWidth(this)-this.gutterRight+5,this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.Get("chart.min").toFixed(j),f,g),d,c)}if(this.Get("chart.title")){this.context.fillStyle=this.Get("chart.title.color");var m=this.Get("chart.title.size")?this.Get("chart.title.size"):h+2;RGraph.Text(a,this.Get("chart.title.font")?this.Get("chart.title.font"):i,m,this.gutterLeft+(this.canvas.width-this.gutterLeft-this.gutterRight)/2,this.gutterTop-m,this.Get("chart.title"),null,"center",null,null,null,this.Get("chart.title.bold"))}typeof this.Get("chart.title.side")=="string"&&(this.context.fillStyle=this.Get("chart.title.side.color"),RGraph.Text(a,this.Get("chart.title.side.font"),this.Get("chart.title.side.size"),this.Get("chart.labels.position")=="right"?this.gutterLeft-10:this.canvas.width-this.gutterRight+10,this.Get("chart.gutter.top")+this.height/2,this.Get("chart.title.side"),"bottom","center",null,this.Get("chart.labels.position")=="right"?270:90,null,this.Get("chart.title.side.bold")))},RGraph.VProgress.prototype.getShape=RGraph.VProgress.prototype.getBar=function(a){var b=RGraph.getMouseXY(a);for(var c=0;c<this.coords.length;c++){var b=RGraph.getMouseXY(a),d=b[0],e=b[1],f=this.coords[c][0],g=this.coords[c][1],h=this.coords[c][2],i=this.coords[c][3],j=c;if(d>=f&&d<=f+h&&e>=g&&e<=g+i){var k=RGraph.parseTooltipText(this.Get("chart.tooltips"),c);return{0:this,object:this,1:f,x:f,2:g,y:g,3:h,width:h,4:i,height:i,5:c,index:c,tooltip:k}}}},RGraph.VProgress.prototype.getValue=function(a){var b=RGraph.getMouseXY(a),c=b[0],d=b[1],e=this.canvas,f=this.context,g=(this.height-(d-this.gutterTop))/this.height;return g*=this.max-this.Get("chart.min"),g+=this.Get("chart.min"),d>this.canvas.height-this.gutterBottom&&(g=this.Get("chart.min")),d<this.gutterTop&&(this.value=this.max),g},RGraph.VProgress.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.VProgress.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>=this.Get("chart.gutter.top")&&b[1]<=this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.VProgress.prototype.AllowAdjusting=function(){return},RGraph.VProgress.prototype.Adjusting_mousemove=function(a){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var b=RGraph.getMouseXY(a),c=this.getValue(a);typeof c=="number"&&(RGraph.FireCustomEvent(this,"onadjust"),this.value=Number(c.toFixed(this.Get("chart.scale.decimals"))),RGraph.Redraw())}},RGraph.VProgress.prototype.DrawSpecificLabels=function(){var a=this.Get("chart.labels.specific");if(a){var b=this.Get("chart.text.font"),c=this.Get("chart.text.size"),d=this.Get("chart.labels.position")=="right"?"left":"right",e=this.height/(a.length-1);this.context.beginPath(),this.context.fillStyle=this.Get("chart.text.color");for(var f=0;f<a.length;++f)RGraph.Text(this.context,b,c,this.Get("chart.labels.position")=="right"?this.canvas.width-this.gutterRight+7:this.gutterLeft-7,this.height+this.gutterTop-e*f,a[f],"center",d);this.context.fill()}},RGraph.VProgress.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f+h/2-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+h/2+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},typeof RGraph=="undefined"&&(RGraph={}),RGraph.Waterfall=function(a,b){this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="waterfall",this.max=0,this.isRGraph=!0,this.coords=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.autofit.align":!1,"chart.background.image":null,"chart.background.hbars":null,"chart.xaxispos":"bottom","chart.numyticks":10,"chart.hmargin":5,"chart.strokestyle":"#666","chart.axis.color":"black","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.labels":[],"chart.ylabels":!0,"chart.text.color":"black","chart.text.size":10,"chart.text.angle":0,"chart.text.font":"Arial","chart.ymax":null,"chart.title":"","chart.title.color":"black","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.yaxis.align":"left","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.colors":["green","red","blue"],"chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.tooltips.override":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.noaxes":!1,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.axis.color":"black","chart.total":!0,"chart.multiplier.x":1,"chart.multiplier.w":1,"chart.events.click":null,"chart.events.mousemove":null};if(!this.canvas){alert("[WATERFALL] No canvas support");return}this.data=b,RGraph.Register(this)},RGraph.Waterfall.prototype.Set=function(a,b){this.properties[a.toLowerCase()]=b},RGraph.Waterfall.prototype.Get=function(a){return this.properties[a.toLowerCase()]},RGraph.Waterfall.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),RGraph.DrawBackgroundImage(this),this.gutterLeft=this.Get("chart.gutter.left"),this.gutterRight=this.Get("chart.gutter.right"),this.gutterTop=this.Get("chart.gutter.top"),this.gutterBottom=this.Get("chart.gutter.bottom"),this.coords=[],this.centery=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.max=0,this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom,this.graphwidth=this.canvas.width-this.gutterLeft-this.gutterRight,this.halfTextHeight=this.Get("chart.text.size")/2,this.max=this.getMax(this.data),this.scale=RGraph.getScale(typeof this.Get("chart.ymax")=="number"?this.Get("chart.ymax"):this.max,this),this.max=this.scale[4];var a=this.Get("chart.scale.decimals");this.Get("chart.ymax")>0&&(this.max=this.Get("chart.ymax")),this.scale=[(this.max*.2).toFixed(a),(this.max*.4).toFixed(a),(this.max*.6).toFixed(a),(this.max*.8).toFixed(a),typeof this.max=="number"?this.max.toFixed(a):this.max],RGraph.background.Draw(this),this.DrawAxes(),this.Drawbars(),this.DrawLabels(),this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},RGraph.Waterfall.prototype.DrawAxes=function(){if(this.Get("chart.noaxes"))return;this.context.beginPath(),this.context.strokeStyle=this.Get("chart.axis.color"),this.context.lineWidth=1,this.Get("chart.noyaxis")==!1&&(this.context.moveTo(AA(this,this.gutterLeft),this.gutterTop),this.context.lineTo(AA(this,this.gutterLeft),RGraph.GetHeight(this)-this.gutterBottom)),this.Get("chart.noxaxis")==!1&&(this.Get("chart.xaxispos")=="center"?(this.context.moveTo(this.gutterLeft,AA(this,(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop))):(this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom))));var a=this.Get("chart.numyticks");if(this.Get("chart.noyaxis")==!1){var b=(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/a;for(y=this.gutterTop;y<this.canvas.height-this.gutterBottom;y+=b)if(this.Get("chart.xaxispos")=="bottom"||y!=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop)this.context.moveTo(this.gutterLeft,AA(this,y)),this.context.lineTo(this.gutterLeft-3,AA(this,y));if(this.Get("chart.noxaxis")||this.Get("chart.xaxispos")=="center")this.context.moveTo(this.gutterLeft-3,AA(this,this.canvas.height-this.gutterBottom)),this.context.lineTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom))}if(this.Get("chart.noxaxis")==!1){xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.data.length+(this.Get("chart.total")?1:0)),this.Get("chart.xaxispos")=="center"?(yStart=(this.canvas.height-this.gutterBottom-this.gutterTop)/2+this.gutterTop-3,yEnd=(this.canvas.height-this.gutterBottom-this.gutterTop)/2+this.gutterTop+3):(yStart=this.canvas.height-this.gutterBottom,yEnd=this.canvas.height-this.gutterBottom+3);for(x=this.gutterLeft+xTickGap;x<=RGraph.GetWidth(this)-this.gutterRight+1;x+=xTickGap)this.context.moveTo(AA(this,x),yStart),this.context.lineTo(AA(this,x),yEnd);this.Get("chart.noyaxis")&&(this.context.moveTo(AA(this,this.gutterLeft),yStart),this.context.lineTo(AA(this,this.gutterLeft),yEnd))}this.Get("chart.noyaxis")&&this.Get("chart.noxaxis")==!1&&(this.context.moveTo(AA(this,this.gutterLeft),RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(AA(this,this.gutterLeft),RGraph.GetHeight(this)-this.gutterBottom+3)),this.context.stroke()},RGraph.Waterfall.prototype.DrawLabels=function(){var a=this.context,b=5,c=this.grapharea/b,d=this.Get("chart.text.font"),e=this.Get("chart.text.size"),f=this.Get("chart.text.color"),g=this.Get("chart.units.pre"),h=this.Get("chart.units.post");this.context.beginPath(),this.context.fillStyle=f;if(this.Get("chart.ylabels"))if(this.Get("chart.xaxispos")=="center"){var i=c/2,j=(this.canvas.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop;for(var k=0;k<b;++k)RGraph.Text(a,d,e,this.gutterLeft-5,this.gutterTop+k*i,RGraph.number_format(this,this.scale[4-k],g,h),"center","right");for(var k=0;k<b;++k)RGraph.Text(a,d,e,this.gutterLeft-5,j+k*i+i,"-"+RGraph.number_format(this,this.scale[k],g,h),"center","right")}else for(var k=1;k<=b;++k)RGraph.Text(a,d,e,this.gutterLeft-5,this.canvas.height-this.gutterBottom-k*c,RGraph.number_format(this,this.scale[k-1],g,h),"center","right");if(this.Get("chart.labels").length>0){c=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.Get("chart.labels").length;var l="center",m=this.Get("chart.text.angle");m&&(l="right",m*=-1);var n=this.Get("chart.labels");for(var k=0;k<n.length;++k)RGraph.Text(a,d,e,this.gutterLeft+k*c+c/2,this.canvas.height-this.gutterBottom+5+this.halfTextHeight,n[k],"center",l,null,m)}this.context.stroke(),this.context.fill()},RGraph.Waterfall.prototype.Drawbars=function(){var a=this.context,b=this.canvas,c=this.Get("chart.hmargin"),d=0;for(var e=0;e<this.data.length;++e){a.beginPath(),a.strokeStyle=this.Get("chart.strokestyle");var f=this.gutterLeft+c+this.graphwidth/(this.data.length+(this.Get("chart.total")?1:0))*e*this.Get("chart.multiplier.x"),g=this.gutterTop+this.grapharea-(e==0?this.data[0]/this.max*this.grapharea:this.data[e]>0?(d+this.data[e])/this.max*this.grapharea:d/this.max*this.grapharea),h=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.data.length+(this.Get("chart.total")?1:0))-2*this.Get("chart.hmargin");h=h*this.Get("chart.multiplier.w");var i=Math.abs(this.data[e])/this.max*this.grapharea;this.Get("chart.xaxispos")=="center"&&(i/=2,g=e==0?this.data[0]/this.max*this.grapharea:this.data[e]>0?(d+this.data[e])/this.max*this.grapharea:d/this.max*this.grapharea,g=this.gutterTop+this.grapharea/2-g/2),a.fillStyle=this.data[e]>=0?this.Get("chart.colors")[0]:this.Get("chart.colors")[1],this.Get("chart.shadow")?RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur")):RGraph.NoShadow(this),a.strokeRect(f,g,h,i),a.fillRect(f,g,h,i),this.coords.push([f,g,h,i]),d+=this.data[e],a.stroke(),a.fill()}this.Get("chart.total")&&(i=d/this.max*(this.grapharea/(this.Get("chart.xaxispos")=="center"?2:1)),this.Get("chart.xaxispos")=="center"?g=d>0?this.centery-i:this.centery-i:g=this.canvas.height-this.gutterBottom-i,f=f+this.Get("chart.hmargin")*2+h,this.context.fillStyle=this.Get("chart.colors")[2],this.context.beginPath(),this.context.strokeRect(f,g,h,i),this.context.fillRect(f,g,h,i),this.context.stroke(),this.context.fill(),this.coords.push([f,g-(d>0?0:Math.abs(i)),h,Math.abs(i)])),RGraph.NoShadow(this);for(var e=1;e<this.coords.length;++e)a.strokeStyle="gray",a.beginPath(),this.data[e-1]>0?(a.moveTo(this.coords[e-1][0]+this.coords[e-1][2],AA(this,this.coords[e-1][1])),a.lineTo(this.coords[e-1][0]+this.coords[e-1][2]+2*c,AA(this,this.coords[e-1][1]))):(a.moveTo(this.coords[e-1][0]+this.coords[e-1][2],AA(this,this.coords[e-1][1]+this.coords[e-1][3])),a.lineTo(this.coords[e-1][0]+this.coords[e-1][2]+2*c,AA(this,this.coords[e-1][1]+this.coords[e-1][3]))),a.stroke()},RGraph.Waterfall.prototype.getShape=RGraph.Waterfall.prototype.getBar=function(a){for(var b=0;b<this.coords.length;b++){var c=RGraph.getMouseXY(a),d=c[0],e=c[1],f=this.coords[b][0],g=this.coords[b][1],h=this.coords[b][2],i=this.coords[b][3];if(d>=f&&d<=f+h&&e>=g&&e<=g+i){var j=RGraph.parseTooltipText(this.Get("chart.tooltips"),b);return{0:this,object:this,1:f,x:f,2:g,y:g,3:h,width:h,4:i,height:i,5:b,index:b,tooltip:j}}}return null},RGraph.Waterfall.prototype.getMax=function(a){var b=0,c=0;for(var d=0;d<a.length;++d)b+=a[d],c=Math.max(c,Math.abs(b));return c},RGraph.Waterfall.prototype.AllowTooltips=function(){RGraph.PreLoadTooltipImages(this),RGraph.InstallWindowMousedownTooltipListener(this),RGraph.InstallCanvasMousemoveTooltipListener(this),RGraph.InstallCanvasMouseupTooltipListener(this)},RGraph.Waterfall.prototype.Highlight=function(a){RGraph.Highlight.Rect(this,a)},RGraph.Waterfall.prototype.getObjectByXY=function(a){var b=RGraph.getMouseXY(a);if(b[0]>this.Get("chart.gutter.left")&&b[0]<this.canvas.width-this.Get("chart.gutter.right")&&b[1]>this.Get("chart.gutter.top")&&b[1]<this.canvas.height-this.Get("chart.gutter.bottom"))return this},RGraph.Waterfall.prototype.positionTooltip=function(a,b,c,d,e){var f=a.coords[d.__index__][0],g=a.coords[d.__index__][1],h=a.coords[d.__index__][2],i=a.coords[d.__index__][3],j=RGraph.getCanvasXY(a.canvas),k=a.Get("chart.gutter.left"),l=a.Get("chart.gutter.top"),m=d.offsetWidth,n=d.offsetHeight;d.style.left=0,d.style.top=j[1]+g-n-7+i/2+"px",d.style.overflow="";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.id="__rgraph_tooltip_pointer__",o.style.position="absolute",o.style.top=d.offsetHeight-2+"px",d.appendChild(o),j[0]+f-m/2<10?(d.style.left=j[0]+f-m*.1+h/2+"px",o.style.left=m*.1-8.5+"px"):j[0]+f+m/2>document.body.offsetWidth?(d.style.left=j[0]+f-m*.9+h/2+"px",o.style.left=m*.9-8.5+"px"):(d.style.left=j[0]+f+h/2-m*.5+"px",o.style.left=m*.5-8.5+"px")},function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),!function(a){var b=function(b,d){this.element=a(b),this.format=c.parseFormat(d.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=a(c.template).appendTo("body").on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:a.proxy(this.show,this),blur:a.proxy(this.hide,this),keyup:a.proxy(this.update,this)}):this.component?this.component.on("click",a.proxy(this.show,this)):this.element.on("click",a.proxy(this.show,this)),this.viewMode=0,this.weekStart=d.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=this.weekStart==0?6:this.weekStart-1,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};b.prototype={constructor:b,show:function(b){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),a(window).on("resize",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault()),this.isInput||a(document).on("mousedown",a.proxy(this.hide,this)),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),a(window).off("resize",this.place),this.viewMode=0,this.showMode(),this.isInput||a(document).off("mousedown",this.hide),this.setValue(),this.element.trigger({type:"hide",date:this.date})},setValue:function(){var a=c.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",a),this.element.data("date",a))},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(){this.date=c.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date),this.fill()},fillDow:function(){var a=this.weekStart,b="<tr>";while(a<this.weekStart+7)b+='<th class="dow">'+c.dates.daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){var a="",b=0;while(b<12)a+='<span class="month">'+c.dates.monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),b=a.getFullYear(),d=a.getMonth(),e=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(c.dates.months[d]+" "+b);var f=new Date(b,d-1,28,0,0,0,0),g=c.getDaysInMonth(f.getFullYear(),f.getMonth());f.setDate(g),f.setDate(g-(f.getDay()-this.weekStart+7)%7);var h=new Date(f);h.setDate(h.getDate()+42),h=h.valueOf(),html=[];var i;while(f.valueOf()<h)f.getDay()==this.weekStart&&html.push("<tr>"),i="",f.getMonth()<d?i+=" old":f.getMonth()>d&&(i+=" new"),f.valueOf()==e&&(i+=" active"),html.push('<td class="day'+i+'">'+f.getDate()+"</td>"),f.getDay()==this.weekEnd&&html.push("</tr>"),f.setDate(f.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var j=this.date.getFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");j==b&&k.eq(this.date.getMonth()).addClass("active"),html="",b=parseInt(b/10,10)*10;var l=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(var m=-1;m<11;m++)html+='<span class="year'+(m==-1||m==10?" old":"")+(j==b?" active":"")+'">'+b+"</span>",b+=1;l.html(html)},click:function(b){b.stopPropagation(),b.preventDefault();var d=a(b.target).closest("span, td, th");if(d.length==1)switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+c.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+c.modes[this.viewMode].navFnc].call(this.viewDate)+c.modes[this.viewMode].navStep*(d[0].className=="prev"?-1:1)),this.fill()}break;case"span":if(d.is(".month")){var e=d.parent().find("span").index(d);this.viewDate.setMonth(e)}else{var f=parseInt(d.text(),10)||0;this.viewDate.setFullYear(f)}this.showMode(-1),this.fill();break;case"td":if(d.is(".day")){var g=parseInt(d.text(),10)||1,e=this.viewDate.getMonth();d.is(".old")?e-=1:d.is(".new")&&(e+=1);var f=this.viewDate.getFullYear();this.date=new Date(f,e,g,0,0,0,0),this.viewDate=new Date(f,e,g,0,0,0,0),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date})}}},mousedown:function(a){a.stopPropagation(),a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show()}},a.fn.datepicker=function(c){return this.each(function(){var d=a(this),e=d.data("datepicker"),f=typeof c=="object"&&c;e||d.data("datepicker",e=new b(this,a.extend({},a.fn.datepicker.defaults,f))),typeof c=="string"&&e[c]()})},a.fn.datepicker.defaults={},a.fn.datepicker.Constructor=b;var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"],daysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,c.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/-].*?/),c=a.split(/\W+/);if(!b||!c||c.length==0)throw new Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(a,b){var c=a.split(b.separator),a=new Date(1970,1,1,0,0,0),d;if(c.length==b.parts.length)for(var e=0,f=b.parts.length;e<f;e++){d=parseInt(c[e],10)||1;switch(b.parts[e]){case"dd":case"d":a.setDate(d);break;case"mm":case"m":a.setMonth(d-1);break;case"yy":a.setFullYear(2e3+d);break;case"yyyy":a.setFullYear(d)}}return a},formatDate:function(a,b){var c={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};c.dd=(c.d<10?"0":"")+c.d,c.mm=(c.m<10?"0":"")+c.m;var a=[];for(var d=0,e=b.parts.length;d<e;d++)a.push(c[b.parts[d]]);return a.join(b.separator)},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery),function(a){a.fn.bootstrapTransfer=function(b){var c=a.extend({},a.fn.bootstrapTransfer.defaults,b),d;return this.populate=function(a){d.populate(a)},this.set_values=function(a){d.set_values(a)},this.get_values=function(){return d.get_values()},this.each(function(){return d=a(this),d.append(a.fn.bootstrapTransfer.defaults.template),d.addClass("bootstrap-transfer-container"),d.$filter_input=d.find(".filter-input"),d.$remaining_select=d.find("select.remaining"),d.$target_select=d.find("select.target"),d.$add_btn=d.find(".selector-add"),d.$remove_btn=d.find(".selector-remove"),d.$choose_all_btn=d.find(".selector-chooseall"),d.$clear_all_btn=d.find(".selector-clearall"),d._remaining_list=[],d._target_list=[],c.target_id!=""&&d.$target_select.attr("id",c.target_id),d.find("select.filtered").css("height",c.height),d.$add_btn.click(function(){d.move_elems(d.$remaining_select.val(),!1,!0)}),d.$remove_btn.click(function(){d.move_elems(d.$target_select.val(),!0,!1)}),d.$choose_all_btn.click(function(){d.move_all(!1,!0)}),d.$clear_all_btn.click(function(){d.move_all(!0,!1)}),d.$filter_input.keyup(function(){d.update_lists(!0)}),d.populate=function(a){d.$filter_input.val("");for(var b in a){var c=a[b];d._remaining_list.push([{value:c.value,content:c.content},!0]),d._target_list.push([{value:c.value,content:c.content},!1])}d.update_lists(!0)},d.set_values=function(a){d.move_elems(a,!1,!0)},d.get_values=function(){return d.get_internal(d.$target_select)},d.get_internal=function(b){var c=[];return b.find("option").each(function(){c.push(a(this).val())}),c},d.to_dict=function(a){var b={};for(var c in a)b[a[c]]=!0;return b},d.update_lists=function(b){var e;b||(e=[d.to_dict(d.get_internal(d.$remaining_select)),d.to_dict(d.get_internal(d.$target_select))]),d.$remaining_select.empty(),d.$target_select.empty();var f=[d._remaining_list,d._target_list],g=[d.$remaining_select,d.$target_select];for(var h in f)for(var i in f[h]){var j=f[h][i];if(j[1]){var k="";!b&&c.hilite_selection&&!e[h].hasOwnProperty(j[0].value)&&(k='selected="selected"'),g[h].append("<option "+k+"value="+j[0].value+">"+j[0].content+"</option>")}}d.$remaining_select.find("option").each(function(){var b=d.$filter_input.val().toLowerCase(),c=a(this).html().toLowerCase();c.indexOf(b)==-1&&a(this).remove()})},d.move_elems=function(a,b,c){for(var e in a){val=a[e];for(var f in d._remaining_list){var g=d._remaining_list[f];g[0].value==val&&(g[1]=b,d._target_list[f][1]=c)}}d.update_lists(!1)},d.move_all=function(a,b){for(var c in d._remaining_list)d._remaining_list[c][1]=a,d._target_list[c][1]=b;d.update_lists(!1)},d.data("bootstrapTransfer",d),d})},a.fn.bootstrapTransfer.defaults={template:'<table width="100%" cellspacing="0" cellpadding="0">                <tr>                    <td width="50%">                        <div class="selector-available">                            <h2>Available</h2>                            <div class="selector-filter">                                <table width="100%" border="0">                                    <tr>                                        <td style="width:14px;">                                            <i class="icon-search"></i>                                        </td>                                        <td>                                            <div style="padding-left:10px;">                                                <input type="text" class="filter-input">                                            </div>                                        </td>                                    </tr>                                </table>                            </div>                            <select multiple="multiple" class="filtered remaining">                            </select>                            <a href="#" class="selector-chooseall">Choose all</a>                        </div>                    </td>                    <td>                        <div class="selector-chooser">                            <a href="#" class="selector-add">add</a>                            <a href="#" class="selector-remove">rem</a>                        </div>                    </td>                    <td width="50%">                        <div class="selector-chosen">                            <h2>Chosen</h2>                            <div class="selector-filter right">                                <p>Select then click</p><span class="illustration"></span>                            </div>                            <select multiple="multiple" class="filtered target">                            </select>                            <a href="#" class="selector-clearall">Clear all</a>                        </div>                    </td>                </tr>            </table>',height:"10em",hilite_selection:!0,target_id:""}}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){jQuery(function(){return $("#correo_maildata").wysihtml5()})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),dragtable={dragRadius2:100,setMinDragDistance:function(a){dragtable.dragRadius2=a*a},cookieDays:365,setCookieDays:function(a){dragtable.cookieDays=a},Browser:function(){var a,b,c;this.isIE=!1,this.isNS=!1,this.version=null,a=navigator.userAgent,b="MSIE";if((c=a.indexOf(b))>=0){this.isIE=!0,this.version=parseFloat(a.substr(c+b.length));return}b="Netscape6/";if((c=a.indexOf(b))>=0){this.isNS=!0,this.version=parseFloat(a.substr(c+b.length));return}b="Gecko";if((c=a.indexOf(b))>=0){this.isNS=!0,this.version=6.1;return}},browser:null,init:function(){if(arguments.callee.done)return;arguments.callee.done=!0,_dgtimer&&clearInterval(_dgtimer);if(!document.createElement||!document.getElementsByTagName)return;dragtable.dragObj.zIndex=0,dragtable.browser=new dragtable.Browser,forEach(document.getElementsByTagName("table"),function(a){a.className.search(/\bdraggable\b/)!=-1&&dragtable.makeDraggable(a)})},makeDraggable:function(a){a.getElementsByTagName("thead").length==0&&(the=document.createElement("thead"),the.appendChild(a.rows[0]),a.insertBefore(the,a.firstChild)),a.tHead==null&&(a.tHead=a.getElementsByTagName("thead")[0]);var b=a.tHead.rows[0].cells;for(var c=0;c<b.length;c++)b[c].onmousedown=dragtable.dragStart;dragtable.cookiesEnabled()&&a.id&&a.className.search(/\bforget-ordering\b/)==-1&&dragtable.replayDrags(a)},dragObj:new Object,findUp:function(a,b){do if(a.nodeName&&a.nodeName.search(b)!=-1)return a;while(a=a.parentNode);return null},fullCopy:function(a,b){var c=a.cloneNode(b);return c.className=a.className,forEach(a.style,function(b,d,e){if(b==null)return;if(typeof b=="string"&&b.length==0)return;c.style[d]=a.style[d]}),c},eventPosition:function(a){var b,c;return dragtable.browser.isIE?(b=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,c=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop,{x:b,y:c}):{x:a.pageX,y:a.pageY}},absolutePosition:function(a,b){var c=0,d=0;do{var e=dragtable.browser.isIE?a.currentStyle:window.getComputedStyle(a,""),f=!(dragtable.browser.isIE&&dragtable.browser.version<7);if(b&&e.position=="relative")break;if(f&&e.position=="fixed"){c+=parseInt(e.left,10),d+=parseInt(e.top,10),c+=document.body.scrollLeft,d+=document.body.scrollTop;break}c+=a.offsetLeft,d+=a.offsetTop}while(a=a.offsetParent);return{x:c,y:d}},dragStart:function(a,b){var c,d,e,f=dragtable.dragObj,g=dragtable.browser;g.isIE?f.origNode=window.event.srcElement:f.origNode=a.target;var h=dragtable.eventPosition(a);f.origNode=dragtable.findUp(f.origNode,/T[DH]/);var i=dragtable.findUp(f.origNode,"TABLE");f.table=
i,f.startCol=dragtable.findColumn(i,h.x);if(f.startCol==-1)return;var j=dragtable.fullCopy(i,!1);j.style.margin="0";var k=function(a,b){var c=dragtable.fullCopy(a,!1);return forEach(a.rows,function(a){var d=a.cells[b],e=dragtable.fullCopy(a,!1);a.offsetHeight&&(e.style.height=a.offsetHeight+"px");var f=dragtable.fullCopy(d,!0);d.offsetWidth&&(f.style.width=d.offsetWidth+"px"),e.appendChild(f),c.appendChild(e)}),c};i.tHead&&j.appendChild(k(i.tHead,f.startCol)),forEach(i.tBodies,function(a){j.appendChild(k(a,f.startCol))}),i.tFoot&&j.appendChild(k(i.tFoot,f.startCol));var l=dragtable.absolutePosition(f.origNode,!0);j.style.position="absolute",j.style.left=l.x+"px",j.style.top=l.y+"px",j.style.width=f.origNode.offsetWidth+"px",j.style.height=f.origNode.offsetHeight+"px",j.style.opacity=.7,f.addedNode=!1,f.tableContainer=f.table.parentNode||document.body,f.elNode=j,f.cursorStartX=h.x,f.cursorStartY=h.y,f.elStartLeft=parseInt(f.elNode.style.left,10),f.elStartTop=parseInt(f.elNode.style.top,10),isNaN(f.elStartLeft)&&(f.elStartLeft=0),isNaN(f.elStartTop)&&(f.elStartTop=0),f.elNode.style.zIndex=++f.zIndex,g.isIE?(document.attachEvent("onmousemove",dragtable.dragMove),document.attachEvent("onmouseup",dragtable.dragEnd),window.event.cancelBubble=!0,window.event.returnValue=!1):(document.addEventListener("mousemove",dragtable.dragMove,!0),document.addEventListener("mouseup",dragtable.dragEnd,!0),a.preventDefault())},dragMove:function(a){var b,c,d=dragtable.dragObj,e=dragtable.eventPosition(a),f=d.cursorStartX-e.x,g=d.cursorStartY-e.y;!d.addedNode&&f*f+g*g>dragtable.dragRadius2&&(d.tableContainer.insertBefore(d.elNode,d.table),d.addedNode=!0);var h=d.elNode.style;h.left=d.elStartLeft+e.x-d.cursorStartX+"px",h.top=d.elStartTop+e.y-d.cursorStartY+"px",dragtable.browser.isIE?(window.event.cancelBubble=!0,window.event.returnValue=!1):a.preventDefault()},dragEnd:function(a){dragtable.browser.isIE?(document.detachEvent("onmousemove",dragtable.dragMove),document.detachEvent("onmouseup",dragtable.dragEnd)):(document.removeEventListener("mousemove",dragtable.dragMove,!0),document.removeEventListener("mouseup",dragtable.dragEnd,!0));var b=dragtable.dragObj;if(!b.addedNode)return;b.tableContainer.removeChild(b.elNode);var c=dragtable.eventPosition(a),d=dragtable.absolutePosition(b.table);if(c.y<d.y||c.y>d.y+b.table.offsetHeight)return;var e=dragtable.findColumn(b.table,c.x);e!=-1&&e!=b.startCol&&(dragtable.moveColumn(b.table,b.startCol,e),b.table.id&&dragtable.cookiesEnabled()&&b.table.className.search(/\bforget-ordering\b/)==-1&&dragtable.rememberDrag(b.table.id,b.startCol,e))},findColumn:function(a,b){var c=a.tHead.rows[0].cells;for(var d=0;d<c.length;d++){var e=dragtable.absolutePosition(c[d]);if(e.x<=b&&b<=e.x+c[d].offsetWidth)return d}return-1},moveColumn:function(a,b,c){var d,e,f=a.rows.length;while(f--){d=a.rows[f];var g=d.removeChild(d.cells[b]);c<d.cells.length?d.insertBefore(g,d.cells[c]):d.appendChild(g)}var h=a.tHead.rows[0].cells;for(var f=0;f<h.length;f++)h[f].sorttable_columnindex=f},cookiesEnabled:function(){return window.location.protocol!="file:"&&navigator.cookieEnabled},rememberDrag:function(a,b,c){var d="dragtable-"+a,e=dragtable.readCookie(d),f="";e&&(f=e+","),f+=b+"/"+c,dragtable.createCookie(d,f,dragtable.cookieDays)},replayDrags:function(a){if(!dragtable.cookiesEnabled())return;var b=dragtable.readCookie("dragtable-"+a.id);if(!b)return;var c=b.split(",");for(var d=0;d<c.length;d++){var e=c[d].split("/");if(e.length!=2)continue;var f=parseInt(e[0]),g=parseInt(e[1]);if(isNaN(f)||isNaN(g))continue;dragtable.moveColumn(a,f,g)}},cookiesEnabled:function(){return window.location.protocol!="file:"&&navigator.cookieEnabled},createCookie:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";var f=document.location.pathname;document.cookie=a+"="+b+e+"; path="+f},readCookie:function(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null},eraseCookie:function(a){dragtable.createCookie(a,"",-1)}};var dgListenOnLoad=!1;document.addEventListener&&(dgListenOnLoad=!0,document.addEventListener("DOMContentLoaded",dragtable.init,!1));if(/WebKit/i.test(navigator.userAgent)){dgListenOnLoad=!0;var _dgtimer=setInterval(function(){/loaded|complete/.test(document.readyState)&&dragtable.init()},10)}dgListenOnLoad||(window.onload=dragtable.init),Array.forEach||(Array.forEach=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)}),Function.prototype.forEach=function(a,b,c){for(var d in a)typeof this.prototype[d]=="undefined"&&b.call(c,a[d],d,a)},String.forEach=function(a,b,c){Array.forEach(a.split(""),function(d,e){b.call(c,d,e,a)})};var forEach=function(a,b,c){if(a){var d=Object;if(a instanceof Function)d=Function;else{if(a.forEach instanceof Function){a.forEach(b,c);return}typeof a=="string"?d=String:typeof a.length=="number"&&(d=Array)}d.forEach(a,b,c)}};(function(){}).call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);var qq=qq||{};qq.extend=function(a,b){for(var c in b)a[c]=b[c]},qq.indexOf=function(a,b,c){if(a.indexOf)return a.indexOf(b,c);c=c||0;var d=a.length;c<0&&(c+=d);for(;c<d;c++)if(c in a&&a[c]===b)return c;return-1},qq.getUniqueId=function(){var a=0;return function(){return a++}}(),qq.attach=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},qq.detach=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.attachEvent&&a.detachEvent("on"+b,c)},qq.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)},qq.remove=function(a){a.parentNode.removeChild(a)},qq.contains=function(a,b){return a==b?!0:a.contains?a.contains(b):!!(b.compareDocumentPosition(a)&8)},qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c),c}}(),qq.css=function(a,b){b.opacity!=null&&typeof a.style.opacity!="string"&&typeof a.filters!="undefined"&&(b.filter="alpha(opacity="+Math.round(100*b.opacity)+")"),qq.extend(a.style,b)},qq.hasClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");return c.test(a.className)},qq.addClass=function(a,b){qq.hasClass(a,b)||(a.className+=" "+b)},qq.removeClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");a.className=a.className.replace(c," ").replace(/^\s+|\s+$/g,"")},qq.setText=function(a,b){a.innerText=b,a.textContent=b},qq.children=function(a){var b=[],c=a.firstChild;while(c)c.nodeType==1&&b.push(c),c=c.nextSibling;return b},qq.getByClass=function(a,b){if(a.querySelectorAll)return a.querySelectorAll("."+b);var c=[],d=a.getElementsByTagName("*"),e=d.length;for(var f=0;f<e;f++)qq.hasClass(d[f],b)&&c.push(d[f]);return c},qq.obj2url=function(a,b,c){var d=[],e="&",f=function(a,c){var e=b?/\[\]$/.test(b)?b:b+"["+c+"]":c;e!="undefined"&&c!="undefined"&&d.push(typeof a=="object"?qq.obj2url(a,e,!0):Object.prototype.toString.call(a)==="[object Function]"?encodeURIComponent(e)+"="+encodeURIComponent(a()):encodeURIComponent(e)+"="+encodeURIComponent(a))};if(!c&&b)e=/\?/.test(b)?/\?$/.test(b)?"":"&":"?",d.push(b),d.push(qq.obj2url(a));else if(Object.prototype.toString.call(a)==="[object Array]"&&typeof a!="undefined")for(var g=0,h=a.length;g<h;++g)f(a[g],g);else if(typeof a!="undefined"&&a!==null&&typeof a=="object")for(var g in a)f(a[g],g);else d.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return d.join(e).replace(/^&/,"").replace(/%20/g,"+")};var qq=qq||{};qq.FileUploaderBasic=function(a){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(a,b){},onProgress:function(a,b,c,d){},onComplete:function(a,b,c){},onCancel:function(a,b){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(a){alert(a)}},qq.extend(this._options,a),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(a){this._options.params=a},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(a){var b=this;return new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(a){b._onInputChange(a)}})},_createUploadHandler:function(){var a=this,b;qq.UploadHandlerXhr.isSupported()?b="UploadHandlerXhr":b="UploadHandlerForm";var c=new qq[b]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(b,c,d,e){a._onProgress(b,c,d,e),a._options.onProgress(b,c,d,e)},onComplete:function(b,c,d){a._onComplete(b,c,d),a._options.onComplete(b,c,d)},onCancel:function(b,c){a._onCancel(b,c),a._options.onCancel(b,c)}});return c},_preventLeaveInProgress:function(){var a=this;qq.attach(window,"beforeunload",function(b){if(!a._filesInProgress)return;var b=b||window.event;return b.returnValue=a._options.messages.onLeave,a._options.messages.onLeave})},_onSubmit:function(a,b){this._filesInProgress++},_onProgress:function(a,b,c,d){},_onComplete:function(a,b,c){this._filesInProgress--,c.error&&this._options.showMessage(c.error)},_onCancel:function(a,b){this._filesInProgress--},_onInputChange:function(a){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(a.files):this._validateFile(a)&&this._uploadFile(a),this._button.reset()},_uploadFileList:function(a){for(var b=0;b<a.length;b++)if(!this._validateFile(a[b]))return;for(var b=0;b<a.length;b++)this._uploadFile(a[b])},_uploadFile:function(a){var b=this._handler.add(a),c=this._handler.getName(b);this._options.onSubmit(b,c)!==!1&&(this._onSubmit(b,c),this._handler.upload(b,this._options.params))},_validateFile:function(a){var b,c;return a.value?b=a.value.replace(/.*(\/|\\)/,""):(b=a.fileName!=null?a.fileName:a.name,c=a.fileSize!=null?a.fileSize:a.size),this._isAllowedExtension(b)?c===0?(this._error("emptyError",b),!1):c&&this._options.sizeLimit&&c>this._options.sizeLimit?(this._error("sizeError",b),!1):c&&c<this._options.minSizeLimit?(this._error("minSizeError",b),!1):!0:(this._error("typeError",b),!1)},_error:function(a,b){function d(a,b){c=c.replace(a,b)}var c=this._options.messages[a];d("{file}",this._formatFileName(b)),d("{extensions}",this._options.allowedExtensions.join(", ")),d("{sizeLimit}",this._formatSize(this._options.sizeLimit)),d("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),this._options.showMessage(c)},_formatFileName:function(a){return a.length>33&&(a=a.slice(0,19)+"..."+a.slice(-13)),a},_isAllowedExtension:function(a){var b=-1!==a.indexOf(".")?a.replace(/.*[.]/,"").toLowerCase():"",c=this._options.allowedExtensions;if(!c.length)return!0;for(var d=0;d<c.length;d++)if(c[d].toLowerCase()==b)return!0;return!1},_formatSize:function(a){var b=-1;do a=a/1024,b++;while(a>99);return Math.max(a,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][b]}},qq.FileUploader=function(a){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">Upload a file</div><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,a),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(a,b){var c=qq.getByClass(a,this._options.classes[b])[0];if(!c)throw new Error("element not found "+b);return c},_setupDragDrop:function(){var a=this,b=this._find(this._element,"drop"),c=new qq.UploadDropZone({element:b,onEnter:function(c){qq.addClass(b,a._classes.dropActive),c.stopPropagation()},onLeave:function(a){a.stopPropagation()},onLeaveNotDescendants:function(c){qq.removeClass(b,a._classes.dropActive)},onDrop:function(c){b.style.display="none",qq.removeClass(b,a._classes.dropActive),a._uploadFileList(c.dataTransfer.files)}});b.style.display="none",qq.attach(document,"dragenter",function(a){if(!c._isValidFileDrag(a))return;b.style.display="block"}),qq.attach(document,"dragleave",function(a){if(!c._isValidFileDrag(a))return;var d=document.elementFromPoint(a.clientX,a.clientY);if(!d||d.nodeName=="HTML")b.style.display="none"})},_onSubmit:function(a,b){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(a,b)},_onProgress:function(a,b,c,d){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var e=this._getItemByFileId(a),f=this._find(e,"size");f.style.display="inline";var g;c!=d?g=Math.round(c/d*100)+"% from "+this._formatSize(d):g=this._formatSize(d),qq.setText(f,g)},_onComplete:function(a,b,c){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var d=this._getItemByFileId(a);qq.remove(this._find(d,"cancel")),qq.remove(this._find(d,"spinner")),c.success?qq.addClass(d,this._classes.success):qq.addClass(d,this._classes.fail)},_addToList:function(a,b){var c=qq.toElement(this._options.fileTemplate);c.qqFileId=a;var d=this._find(c,"file");qq.setText(d,this._formatFileName(b)),this._find(c,"size").style.display="none",this._listElement.appendChild(c)},_getItemByFileId:function(a){var b=this._listElement.firstChild;while(b){if(b.qqFileId==a)return b;b=b.nextSibling}},_bindCancelEvent:function(){var a=this,b=this._listElement;qq.attach(b,"click",function(b){b=b||window.event;var c=b.target||b.srcElement;if(qq.hasClass(c,a._classes.cancel)){qq.preventDefault(b);var d=c.parentNode;a._handler.cancel(d.qqFileId),qq.remove(d)}})}}),qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(a){},onLeave:function(a){},onLeaveNotDescendants:function(a){},onDrop:function(a){}},qq.extend(this._options,a),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(a){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var a=this;qq.attach(a._element,"dragover",function(b){if(!a._isValidFileDrag(b))return;var c=b.dataTransfer.effectAllowed;c=="move"||c=="linkMove"?b.dataTransfer.dropEffect="move":b.dataTransfer.dropEffect="copy",b.stopPropagation(),b.preventDefault()}),qq.attach(a._element,"dragenter",function(b){if(!a._isValidFileDrag(b))return;a._options.onEnter(b)}),qq.attach(a._element,"dragleave",function(b){if(!a._isValidFileDrag(b))return;a._options.onLeave(b);var c=document.elementFromPoint(b.clientX,b.clientY);if(qq.contains(this,c))return;a._options.onLeaveNotDescendants(b)}),qq.attach(a._element,"drop",function(b){if(!a._isValidFileDrag(b))return;b.preventDefault(),a._options.onDrop(b)})},_isValidFileDrag:function(a){var b=a.dataTransfer,c=navigator.userAgent.indexOf("AppleWebKit")>-1;return b&&b.effectAllowed!="none"&&(b.files||!c&&b.types.contains&&b.types.contains("Files"))}},qq.UploadButton=function(a){this._options={element:null,multiple:!1,name:"file",onChange:function(a){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,a),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var a=document.createElement("input");this._options.multiple&&a.setAttribute("multiple","multiple"),a.setAttribute("type","file"),a.setAttribute("name",this._options.name),qq.css(a,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(a);var b=this;return qq.attach(a,"change",function(){b._options.onChange(a)}),qq.attach(a,"mouseover",function(){qq.addClass(b._element,b._options.hoverClass)}),qq.attach(a,"mouseout",function(){qq.removeClass(b._element,b._options.hoverClass)}),qq.attach(a,"focus",function(){qq.addClass(b._element,b._options.focusClass)}),qq.attach(a,"blur",function(){qq.removeClass(b._element,b._options.focusClass)}),window.attachEvent&&a.setAttribute("tabIndex","-1"),a}},qq.UploadHandlerAbstract=function(a){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(a,b,c,d){},onComplete:function(a,b,c){},onCancel:function(a,b){}},qq.extend(this._options,a),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(a){this._options.debug&&window.console&&console.log("[uploader] "+a)},add:function(a){},upload:function(a,b){var c=this._queue.push(a),d={};qq.extend(d,b),this._params[a]=d,c<=this._options.maxConnections&&this._upload(a,this._params[a])},cancel:function(a){this._cancel(a),this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++)this._cancel(this._queue[a]);this._queue=[]},getName:function(a){},getSize:function(a){},getQueue:function(){return this._queue},_upload:function(a){},_cancel:function(a){},_dequeue:function(a){var b=qq.indexOf(this._queue,a);this._queue.splice(b,1);var c=this._options.maxConnections;if(this._queue.length>=c&&b<c){var d=this._queue[c-1];this._upload(d,this._params[d])}}},qq.UploadHandlerForm=function(a){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name","qqfile");var b="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[b]=a,a.parentNode&&qq.remove(a),b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},_cancel:function(a){this._options.onCancel(a,this.getName(a)),delete this._inputs[a];var b=document.getElementById(a);b&&(b.setAttribute("src","javascript:false;"),qq.remove(b))},_upload:function(a,b){var c=this._inputs[a];if(!c)throw new Error("file with passed id was not added, or already uploaded or cancelled");var d=this.getName(a),e=this._createIframe(a),f=this._createForm(e,b);f.appendChild(c);var g=this;return this._attachLoadEvent(e,function(){g.log("iframe loaded");var b=g._getIframeContentJSON(e);g._options.onComplete(a,d,b),g._dequeue(a),delete g._inputs[a],setTimeout(function(){qq.remove(e)},1)}),f.submit(),qq.remove(f),a},_attachLoadEvent:function(a,b){qq.attach(a,"load",function(){if(!a.parentNode)return;if(a.contentDocument&&a.contentDocument.body&&a.contentDocument.body.innerHTML=="false")return;b()})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={}}return response},_createIframe:function(a){var b=qq.toElement('<iframe src="javascript:false;" name="'+a+'" />');return b.setAttribute("id",a),b.style.display="none",document.body.appendChild(b),b},_createForm:function(a,b){var c=qq.toElement('<form method="post" enctype="multipart/form-data"></form>'),d=qq.obj2url(b,this._options.action);return c.setAttribute("action",d),c.setAttribute("target",a.name),c.style.display="none",document.body.appendChild(c),c}}),qq.UploadHandlerXhr=function(a){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");return a.type="file","multiple"in a&&typeof File!="undefined"&&typeof (new XMLHttpRequest).upload!="undefined"},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(a instanceof File)return this._files.push(a)-1;throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)")},getName:function(a){var b=this._files[a];return b.fileName!=null?b.fileName:b.name},getSize:function(a){var b=this._files[a];return b.fileSize!=null?b.fileSize:b.size},getLoaded:function(a){return this._loaded[a]||0},_upload:function(a,b){var c=this._files[a],d=this.getName(a),e=this.getSize(a);this._loaded[a]=0;var f=this._xhrs[a]=new XMLHttpRequest,g=this;f.upload.onprogress=function(b){b.lengthComputable&&(g._loaded[a]=b.loaded,g._options.onProgress(a,d,b.loaded,b.total))},f.onreadystatechange=function(){f.readyState==4&&g._onComplete(a,f)},b=b||{},b.qqfile=d;var h=qq.obj2url(b,this._options.action);f.open("POST",h,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("X-File-Name",encodeURIComponent(d)),f.setRequestHeader("Content-Type","application/octet-stream"),f.send(c)},_onComplete:function(id,xhr){if(!this._files[id])return;var name=this.getName(id),size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)},_cancel:function(a){this._options.onCancel(a,this.getName(a)),this._files[a]=null,this._xhrs[a]&&(this._xhrs[a].abort(),this._xhrs[a]=null)}}),function(){}.call(this),UTC=Date.UTC,data=[[2007,0,1,.7568],[2007,0,2,.7535],[2007,0,3,.7594],[2007,0,4,.7642],[2007,0,5,.7692],[2007,0,8,.7671],[2007,0,9,.7696],[2007,0,10,.773],[2007,0,11,.7757],[2007,0,12,.774],[2007,0,15,.7733],[2007,0,16,.7742],[2007,0,17,.773],[2007,0,18,.7717],[2007,0,19,.7723],[2007,0,22,.7724],[2007,0,23,.768],[2007,0,24,.7715],[2007,0,25,.7732],[2007,0,26,.7743],[2007,0,29,.7716],[2007,0,30,.7714],[2007,0,31,.7679],[2007,1,1,.7685],[2007,1,2,.7715],[2007,1,5,.7733],[2007,1,6,.7702],[2007,1,7,.7679],[2007,1,8,.7672],[2007,1,9,.7688],[2007,1,12,.7718],[2007,1,13,.7676],[2007,1,14,.7612],[2007,1,15,.7614],[2007,1,16,.7612],[2007,1,19,.7605],[2007,1,20,.7607],[2007,1,21,.7612],[2007,1,22,.7621],[2007,1,23,.7596],[2007,1,26,.758],[2007,1,27,.756],[2007,1,28,.756],[2007,2,1,.7596],[2007,2,2,.7582],[2007,2,5,.7642],[2007,2,6,.7613],[2007,2,7,.759],[2007,2,8,.7612],[2007,2,9,.7625],[2007,2,12,.7583],[2007,2,13,.7583],[2007,2,14,.7557],[2007,2,15,.753],[2007,2,16,.7511],[2007,2,19,.7522],[2007,2,20,.7511],[2007,2,21,.7464],[2007,2,22,.7503],[2007,2,26,.7504],[2007,2,27,.7518],[2007,2,28,.7515],[2007,2,29,.7502],[2007,2,30,.7488],[2007,3,2,.7481],[2007,3,3,.7506],[2007,3,4,.7478],[2007,3,5,.745],[2007,3,6,.7472],[2007,3,9,.7489],[2007,3,10,.7447],[2007,3,11,.7443],[2007,3,12,.7416],[2007,3,13,.7394],[2007,3,16,.7393],[2007,3,17,.7369],[2007,3,18,.7345],[2007,3,19,.734],[2007,3,20,.7361],[2007,3,23,.7365],[2007,3,24,.7335],[2007,3,25,.7325],[2007,3,26,.7357],[2007,3,27,.7323],[2007,3,30,.7325],[2007,4,1,.7351],[2007,4,2,.7356],[2007,4,3,.7379],[2007,4,4,.7362],[2007,4,7,.7355],[2007,4,8,.7386],[2007,4,9,.7389],[2007,4,10,.742],[2007,4,11,.7395],[2007,4,14,.7384],[2007,4,15,.7358],[2007,4,16,.7396],[2007,4,17,.741],[2007,4,18,.7404],[2007,4,21,.7429],[2007,4,22,.7436],[2007,4,23,.7432],[2007,4,24,.745],[2007,4,25,.7435],[2007,4,28,.7434],[2007,4,29,.7434],[2007,4,30,.7446],[2007,4,31,.7432],[2007,5,1,.7439],[2007,5,4,.7412],[2007,5,5,.7397],[2007,5,6,.741],[2007,5,7,.7449],[2007,5,8,.748],[2007,5,11,.7491],[2007,5,12,.7518],[2007,5,13,.7515],[2007,5,14,.7515],[2007,5,15,.7476],[2007,5,18,.7454],[2007,5,19,.7449],[2007,5,20,.7463],[2007,5,21,.7469],[2007,5,22,.7427],[2007,5,25,.7427],[2007,5,26,.7435],[2007,5,27,.7433],[2007,5,28,.7444],[2007,5,29,.7384],[2007,6,2,.7342],[2007,6,3,.7349],[2007,6,4,.7343],[2007,6,5,.7356],[2007,6,6,.734],[2007,6,9,.7342],[2007,6,10,.7276],[2007,6,11,.7275],[2007,6,12,.7254],[2007,6,13,.7254],[2007,6,16,.726],[2007,6,17,.725],[2007,6,18,.7243],[2007,6,19,.7248],[2007,6,20,.7229],[2007,6,23,.7247],[2007,6,24,.7235],[2007,6,25,.7288],[2007,6,26,.7272],[2007,6,27,.7335],[2007,6,30,.7289],[2007,6,31,.7314],[2007,7,1,.7318],[2007,7,2,.7298],[2007,7,3,.7256],[2007,7,6,.7242],[2007,7,7,.7273],[2007,7,8,.7246],[2007,7,9,.7319],[2007,7,10,.7303],[2007,7,13,.7349],[2007,7,14,.7391],[2007,7,15,.7447],[2007,7,16,.7446],[2007,7,17,.7423],[2007,7,20,.7423],[2007,7,21,.7426],[2007,7,22,.7382],[2007,7,23,.7374],[2007,7,24,.731],[2007,7,27,.7334],[2007,7,28,.7366],[2007,7,29,.7316],[2007,7,30,.7316],[2007,7,31,.7337],[2007,8,3,.7346],[2007,8,4,.7341],[2007,8,5,.7325],[2007,8,6,.7304],[2007,8,7,.7265],[2007,8,10,.7251],[2007,8,11,.7226],[2007,8,12,.7198],[2007,8,13,.7209],[2007,8,14,.7208],[2007,8,17,.7212],[2007,8,18,.7155],[2007,8,19,.7156],[2007,8,20,.7108],[2007,8,21,.7097],[2007,8,24,.7107],[2007,8,25,.7069],[2007,8,26,.7079],[2007,8,27,.7065],[2007,8,28,.7007],[2007,9,1,.7027],[2007,9,2,.7066],[2007,9,3,.7094],[2007,9,4,.7075],[2007,9,5,.7077],[2007,9,8,.712],[2007,9,9,.7089],[2007,9,10,.7073],[2007,9,11,.7043],[2007,9,12,.7057],[2007,9,15,.7043],[2007,9,16,.7055],[2007,9,17,.704],[2007,9,18,.6998],[2007,9,19,.6993],[2007,9,22,.7054],[2007,9,23,.7015],[2007,9,24,.7012],[2007,9,25,.6981],[2007,9,26,.6949],[2007,9,29,.6936],[2007,9,30,.6926],[2007,9,31,.691],[2007,10,1,.6933],[2007,10,2,.6898],[2007,10,5,.6908],[2007,10,6,.6868],[2007,10,7,.6839],[2007,10,8,.6813],[2007,10,9,.6815],[2007,10,12,.6888],[2007,10,13,.684],[2007,10,14,.6825],[2007,10,15,.6841],[2007,10,16,.6822],[2007,10,19,.6818],[2007,10,20,.6743],[2007,10,21,.6731],[2007,10,22,.6734],[2007,10,23,.674],[2007,10,26,.6724],[2007,10,27,.6741],[2007,10,28,.6739],[2007,10,29,.6776],[2007,10,30,.6834],[2007,11,3,.6817],[2007,11,4,.6774],[2007,11,5,.6852],[2007,11,6,.6823],[2007,11,7,.6824],[2007,11,10,.6799],[2007,11,11,.6822],[2007,11,12,.6797],[2007,11,13,.6837],[2007,11,14,.693],[2007,11,17,.694],[2007,11,18,.6936],[2007,11,19,.6954],[2007,11,20,.6978],[2007,11,21,.6955],[2007,11,24,.6947],[2007,11,25,.6947],[2007,11,26,.6905],[2007,11,27,.6845],[2007,11,28,.6793],[2007,11,31,.6856],[2008,0,1,.6841],[2008,0,2,.6796],[2008,0,3,.6783],[2008,0,4,.6784],[2008,0,7,.6812],[2008,0,8,.68],[2008,0,9,.6822],[2008,0,10,.6757],[2008,0,11,.6769],[2008,0,14,.6727],[2008,0,15,.6757],[2008,0,16,.6821],[2008,0,17,.6832],[2008,0,18,.684],[2008,0,20,.6851],[2008,0,21,.6936],[2008,0,22,.6829],[2008,0,23,.6837],[2008,0,24,.677],[2008,0,25,.6812],[2008,0,27,.6807],[2008,0,28,.6763],[2008,0,29,.6772],[2008,0,30,.6745],[2008,0,31,.6728],[2008,1,1,.6756],[2008,1,3,.6758],[2008,1,4,.6745],[2008,1,5,.6833],[2008,1,6,.6844],[2008,1,7,.6908],[2008,1,8,.6894],[2008,1,10,.6886],[2008,1,11,.6898],[2008,1,12,.6859],[2008,1,13,.6871],[2008,1,14,.6831],[2008,1,15,.6812],[2008,1,17,.6816],[2008,1,18,.6826],[2008,1,19,.679],[2008,1,20,.6793],[2008,1,21,.6751],[2008,1,22,.6745],[2008,1,24,.6741],[2008,1,25,.6743],[2008,1,26,.6668],[2008,1,27,.6616],[2008,1,28,.6582],[2008,1,29,.6588],[2008,2,2,.6576],[2008,2,3,.658],[2008,2,4,.6577],[2008,2,5,.6546],[2008,2,6,.6502],[2008,2,7,.6513],[2008,2,8,.6494],[2008,2,10,.6521],[2008,2,11,.6521],[2008,2,12,.6435],[2008,2,13,.6402],[2008,2,14,.6377],[2008,2,16,.6369],[2008,2,17,.6352],[2008,2,18,.6388],[2008,2,19,.6395],[2008,2,20,.6478],[2008,2,21,.648],[2008,2,24,.648],[2008,2,25,.6406],[2008,2,26,.6321],[2008,2,27,.6325],[2008,2,28,.633],[2008,2,31,.6346],[2008,3,1,.6403],[2008,3,2,.638],[2008,3,3,.6385],[2008,3,4,.6358],[2008,3,7,.6367],[2008,3,8,.6371],[2008,3,9,.6322],[2008,3,10,.6346],[2008,3,11,.6333],[2008,3,14,.6319],[2008,3,15,.6335],[2008,3,16,.6275],[2008,3,17,.6287],[2008,3,18,.6323],[2008,3,21,.6285],[2008,3,22,.6261],[2008,3,23,.6297],[2008,3,24,.638],[2008,3,25,.6398],[2008,3,28,.6388],[2008,3,29,.642],[2008,3,30,.64],[2008,4,1,.6461],[2008,4,2,.6483],[2008,4,5,.6451],[2008,4,6,.6445],[2008,4,7,.6518],[2008,4,8,.6492],[2008,4,9,.6456],[2008,4,12,.6439],[2008,4,13,.6465],[2008,4,14,.6466],[2008,4,15,.647],[2008,4,16,.6421],[2008,4,19,.644],[2008,4,20,.6391],[2008,4,21,.6337],[2008,4,22,.6357],[2008,4,23,.6344],[2008,4,26,.6338],[2008,4,27,.6374],[2008,4,28,.6387],[2008,4,29,.6445],[2008,4,30,.643],[2008,5,2,.6435],[2008,5,3,.6472],[2008,5,4,.648],[2008,5,5,.6412],[2008,5,6,.6337],[2008,5,9,.6391],[2008,5,10,.6469],[2008,5,11,.6428],[2008,5,12,.6474],[2008,5,13,.6502],[2008,5,16,.6466],[2008,5,17,.6445],[2008,5,18,.6433],[2008,5,19,.6453],[2008,5,20,.6406],[2008,5,23,.6443],[2008,5,24,.6421],[2008,5,25,.6384],[2008,5,26,.6345],[2008,5,27,.6335],[2008,5,30,.6345],[2008,6,1,.6334],[2008,6,2,.6298],[2008,6,3,.6376],[2008,6,4,.6367],[2008,6,7,.636],[2008,6,8,.6384],[2008,6,9,.6358],[2008,6,10,.6335],[2008,6,11,.6272],[2008,6,14,.6294],[2008,6,15,.6283],[2008,6,16,.6319],[2008,6,17,.6309],[2008,6,18,.631],[2008,6,21,.6285],[2008,6,22,.6338],[2008,6,23,.6377],[2008,6,24,.6376],[2008,6,25,.6365],[2008,6,28,.6352],[2008,6,29,.6415],[2008,6,30,.6418],[2008,6,31,.6418],[2008,7,1,.6425],[2008,7,4,.6425],[2008,7,5,.6466],[2008,7,6,.6485],[2008,7,7,.6531],[2008,7,8,.6663],[2008,7,11,.6706],[2008,7,12,.6715],[2008,7,13,.6713],[2008,7,14,.6769],[2008,7,15,.6803],[2008,7,18,.6805],[2008,7,19,.676],[2008,7,20,.6779],[2008,7,21,.6717],[2008,7,22,.6764],[2008,7,25,.6791],[2008,7,26,.6828],[2008,7,27,.6782],[2008,7,28,.6801],[2008,7,29,.6816],[2008,8,1,.6858],[2008,8,2,.6903],[2008,8,3,.689],[2008,8,4,.7014],[2008,8,5,.7013],[2008,8,8,.7075],[2008,8,9,.7096],[2008,8,10,.7175],[2008,8,11,.7139],[2008,8,12,.7033],[2008,8,15,.7021],[2008,8,16,.7058],[2008,8,17,.6975],[2008,8,18,.6993],[2008,8,19,.6913],[2008,8,22,.6756],[2008,8,23,.681],[2008,8,24,.6825],[2008,8,25,.6819],[2008,8,26,.6855],[2008,8,29,.6961],[2008,8,30,.7083],[2008,9,1,.7149],[2008,9,2,.7254],[2008,9,3,.7255],[2008,9,6,.74],[2008,9,7,.737],[2008,9,8,.7348],[2008,9,9,.7374],[2008,9,10,.7465],[2008,9,13,.7323],[2008,9,14,.7374],[2008,9,15,.7443],[2008,9,16,.7414],[2008,9,17,.7456],[2008,9,20,.7497],[2008,9,21,.7688],[2008,9,22,.783],[2008,9,23,.7753],[2008,9,24,.7923],[2008,9,27,.8022],[2008,9,28,.7809],[2008,9,29,.7719],[2008,9,30,.7769],[2008,9,31,.7855],[2008,10,3,.7928],[2008,10,4,.7703],[2008,10,5,.7744],[2008,10,6,.7881],[2008,10,7,.7864],[2008,10,10,.7846],[2008,10,11,.7993],[2008,10,12,.8028],[2008,10,13,.7821],[2008,10,14,.7933],[2008,10,17,.7911],[2008,10,18,.7915],[2008,10,19,.7999],[2008,10,20,.8041],[2008,10,21,.7945],[2008,10,24,.7744],[2008,10,25,.7676],[2008,10,26,.7756],[2008,10,27,.7754],[2008,10,28,.7881],[2008,11,1,.794],[2008,11,2,.787],[2008,11,3,.7872],[2008,11,4,.783],[2008,11,5,.7868],[2008,11,8,.7744],[2008,11,9,.7736],[2008,11,10,.7685],[2008,11,11,.7504],[2008,11,12,.7481],[2008,11,15,.7302],[2008,11,16,.711],[2008,11,17,.6942],[2008,11,18,.6996],[2008,11,19,.7189],[2008,11,22,.7166],[2008,11,23,.7177],[2008,11,24,.7142],[2008,11,25,.7136],[2008,11,26,.7129],[2008,11,29,.7127],[2008,11,30,.7073],[2008,11,31,.7156],[2009,0,1,.7143],[2009,0,2,.7184],[2009,0,5,.7334],[2009,0,6,.7406],[2009,0,7,.7346],[2009,0,8,.7301],[2009,0,9,.7421],[2009,0,12,.7487],[2009,0,13,.7576],[2009,0,14,.7569],[2009,0,15,.76],[2009,0,16,.7538],[2009,0,19,.764],[2009,0,20,.7762],[2009,0,21,.7692],[2009,0,22,.7691],[2009,0,23,.7708],[2009,0,26,.7584],[2009,0,27,.7569],[2009,0,28,.7603],[2009,0,29,.7731],[2009,0,30,.7805],[2009,1,2,.7805],[2009,1,3,.7686],[2009,1,4,.778
],[2009,1,5,.7819],[2009,1,6,.7729],[2009,1,9,.7717],[2009,1,10,.7746],[2009,1,11,.7773],[2009,1,12,.7762],[2009,1,13,.7775],[2009,1,16,.7815],[2009,1,17,.7948],[2009,1,18,.7959],[2009,1,19,.7901],[2009,1,20,.7797],[2009,1,23,.7893],[2009,1,24,.777],[2009,1,25,.7864],[2009,1,26,.7865],[2009,1,27,.7896],[2009,2,2,.7962],[2009,2,3,.7982],[2009,2,4,.7916],[2009,2,5,.7972],[2009,2,6,.7904],[2009,2,9,.7925],[2009,2,10,.7865],[2009,2,11,.781],[2009,2,12,.7754],[2009,2,13,.7735],[2009,2,16,.7709],[2009,2,17,.7674],[2009,2,18,.7415],[2009,2,19,.7321],[2009,2,20,.7364],[2009,2,23,.7343],[2009,2,24,.7418],[2009,2,25,.7368],[2009,2,26,.7393],[2009,2,27,.7527],[2009,2,30,.7583],[2009,2,31,.7541],[2009,3,1,.7553],[2009,3,2,.7423],[2009,3,3,.7418],[2009,3,6,.7506],[2009,3,7,.7537],[2009,3,8,.7549],[2009,3,9,.7623],[2009,3,10,.7583],[2009,3,13,.7477],[2009,3,14,.7539],[2009,3,15,.7563],[2009,3,16,.7585],[2009,3,17,.7668],[2009,3,20,.775],[2009,3,21,.773],[2009,3,22,.7688],[2009,3,23,.762],[2009,3,24,.7552],[2009,3,27,.7679],[2009,3,28,.7616],[2009,3,29,.7539],[2009,3,30,.7552],[2009,4,1,.7534],[2009,4,4,.7454],[2009,4,5,.7517],[2009,4,6,.7519],[2009,4,7,.747],[2009,4,8,.7335],[2009,4,11,.7362],[2009,4,12,.7312],[2009,4,13,.7386],[2009,4,14,.7336],[2009,4,15,.7411],[2009,4,18,.738],[2009,4,19,.733],[2009,4,20,.7256],[2009,4,21,.7174],[2009,4,22,.7145],[2009,4,25,.7139],[2009,4,26,.7147],[2009,4,27,.723],[2009,4,28,.7171],[2009,4,29,.7065],[2009,5,1,.7052],[2009,5,2,.6999],[2009,5,3,.7072],[2009,5,4,.7059],[2009,5,5,.7163],[2009,5,8,.718],[2009,5,9,.7112],[2009,5,10,.7151],[2009,5,11,.708],[2009,5,12,.7136],[2009,5,14,.7155],[2009,5,15,.7261],[2009,5,16,.7239],[2009,5,17,.716],[2009,5,18,.7193],[2009,5,19,.7145],[2009,5,22,.7221],[2009,5,23,.7108],[2009,5,24,.7173],[2009,5,26,.7114],[2009,5,29,.7093],[2009,5,30,.7124],[2009,6,1,.707],[2009,6,2,.7164],[2009,6,3,.7161],[2009,6,6,.7147],[2009,6,7,.7196],[2009,6,8,.7214],[2009,6,9,.7138],[2009,6,10,.7178],[2009,6,13,.7141],[2009,6,14,.7154],[2009,6,15,.7096],[2009,6,16,.7076],[2009,6,17,.7095],[2009,6,20,.7038],[2009,6,21,.7044],[2009,6,22,.7041],[2009,6,23,.7062],[2009,6,24,.7041],[2009,6,27,.702],[2009,6,28,.7069],[2009,6,29,.7135],[2009,6,30,.71],[2009,6,31,.7015],[2009,7,3,.6941],[2009,7,4,.6938],[2009,7,5,.694],[2009,7,6,.6959],[2009,7,7,.7048],[2009,7,10,.7078],[2009,7,11,.7067],[2009,7,12,.7034],[2009,7,13,.7006],[2009,7,14,.7041],[2009,7,17,.7089],[2009,7,19,.7019],[2009,7,20,.7016],[2009,7,21,.6983],[2009,7,24,.6997],[2009,7,25,.6999],[2009,7,26,.7024],[2009,7,27,.6958],[2009,7,28,.6994],[2009,7,31,.6975],[2009,8,1,.7039],[2009,8,2,.7008],[2009,8,3,.7015],[2009,8,4,.6996],[2009,8,7,.6976],[2009,8,8,.6896],[2009,8,9,.6874],[2009,8,10,.6858],[2009,8,11,.6866],[2009,8,14,.6832],[2009,8,15,.6817],[2009,8,16,.6799],[2009,8,17,.6788],[2009,8,18,.6796],[2009,8,21,.6811],[2009,8,22,.6753],[2009,8,23,.679],[2009,8,24,.6826],[2009,8,25,.6806],[2009,8,28,.684],[2009,8,29,.6853],[2009,8,30,.6825],[2009,9,1,.689],[2009,9,2,.6863],[2009,9,5,.6823],[2009,9,6,.6793],[2009,9,7,.6797],[2009,9,8,.677],[2009,9,9,.6789],[2009,9,12,.676],[2009,9,13,.6734],[2009,9,14,.6697],[2009,9,15,.6687],[2009,9,16,.6709],[2009,9,19,.6681],[2009,9,20,.6698],[2009,9,21,.6661],[2009,9,22,.665],[2009,9,23,.6668],[2009,9,26,.6731],[2009,9,27,.6749],[2009,9,28,.6796],[2009,9,29,.6739],[2009,9,30,.6789],[2009,10,2,.677],[2009,10,3,.6789],[2009,10,4,.6727],[2009,10,5,.6722],[2009,10,6,.6736],[2009,10,9,.6665],[2009,10,10,.6671],[2009,10,11,.6675],[2009,10,12,.6732],[2009,10,13,.6712],[2009,10,16,.6676],[2009,10,17,.6723],[2009,10,18,.6687],[2009,10,19,.6706],[2009,10,20,.6729],[2009,10,23,.6687],[2009,10,24,.6682],[2009,10,25,.6612],[2009,10,26,.6682],[2009,10,27,.6673],[2009,10,30,.6651],[2009,11,1,.6627],[2009,11,2,.6638],[2009,11,3,.6639],[2009,11,4,.6731],[2009,11,7,.674],[2009,11,8,.6807],[2009,11,9,.6786],[2009,11,10,.6789],[2009,11,11,.6846],[2009,11,14,.6823],[2009,11,15,.6878],[2009,11,16,.6886],[2009,11,17,.6972],[2009,11,18,.6975],[2009,11,21,.7001],[2009,11,22,.7017],[2009,11,23,.6977],[2009,11,24,.6956],[2009,11,25,.6955],[2009,11,28,.6958],[2009,11,29,.6974],[2009,11,30,.6974],[2009,11,31,.6979],[2010,0,1,.6976],[2010,0,4,.6932],[2010,0,5,.6962],[2010,0,6,.6944],[2010,0,7,.6985],[2010,0,8,.694],[2010,0,11,.6893],[2010,0,12,.6908],[2010,0,13,.6886],[2010,0,14,.6897],[2010,0,15,.6951],[2010,0,18,.6943],[2010,0,19,.7003],[2010,0,20,.7086],[2010,0,21,.7093],[2010,0,22,.7074],[2010,0,25,.7069],[2010,0,26,.7101],[2010,0,27,.7128],[2010,0,28,.7162],[2010,0,29,.7214],[2010,1,1,.7184],[2010,1,2,.7156],[2010,1,3,.7195],[2010,1,4,.7278],[2010,1,5,.7312],[2010,1,8,.7324],[2010,1,9,.7256],[2010,1,10,.7274],[2010,1,11,.7307],[2010,1,12,.7336],[2010,1,15,.7355],[2010,1,16,.7267],[2010,1,17,.7349],[2010,1,18,.7431],[2010,1,19,.7348],[2010,1,22,.735],[2010,1,23,.7395],[2010,1,24,.7386],[2010,1,25,.7388],[2010,1,26,.7337],[2010,2,1,.7375],[2010,2,2,.7343],[2010,2,3,.7299],[2010,2,4,.7363],[2010,2,5,.7341],[2010,2,8,.7345],[2010,2,9,.735],[2010,2,10,.7331],[2010,2,11,.7309],[2010,2,12,.7264],[2010,2,15,.7313],[2010,2,16,.7264],[2010,2,17,.7281],[2010,2,18,.7348],[2010,2,19,.7391],[2010,2,22,.7371],[2010,2,23,.7425],[2010,2,24,.7503],[2010,2,25,.7516],[2010,2,26,.7458],[2010,2,29,.7413],[2010,2,30,.7444],[2010,2,31,.7393],[2010,3,1,.736],[2010,3,2,.7406],[2010,3,5,.7424],[2010,3,6,.7473],[2010,3,7,.7501],[2010,3,8,.7477],[2010,3,9,.7408],[2010,3,12,.7361],[2010,3,13,.7345],[2010,3,14,.7324],[2010,3,15,.7373],[2010,3,16,.7406],[2010,3,19,.7416],[2010,3,20,.745],[2010,3,21,.747],[2010,3,22,.7563],[2010,3,23,.7472],[2010,3,26,.7467],[2010,3,27,.7589],[2010,3,28,.7578],[2010,3,29,.7547],[2010,3,30,.7524],[2010,4,3,.7579],[2010,4,4,.7706],[2010,4,5,.7806],[2010,4,6,.7903],[2010,4,7,.7842],[2010,4,10,.7852],[2010,4,11,.7912],[2010,4,12,.7909],[2010,4,13,.7982],[2010,4,14,.8091],[2010,4,17,.8076],[2010,4,18,.8235],[2010,4,19,.8075],[2010,4,20,.7974],[2010,4,21,.7954],[2010,4,24,.8105],[2010,4,25,.8109],[2010,4,26,.821],[2010,4,27,.8087],[2010,4,28,.8143],[2010,4,31,.8149],[2010,5,1,.8167],[2010,5,2,.8163],[2010,5,3,.8214],[2010,5,4,.8357],[2010,5,7,.8389],[2010,5,8,.8364],[2010,5,9,.8342],[2010,5,10,.8244],[2010,5,11,.8257],[2010,5,14,.819],[2010,5,15,.8121],[2010,5,16,.8131],[2010,5,17,.8074],[2010,5,18,.8072],[2010,5,21,.8116],[2010,5,22,.8148],[2010,5,23,.8129],[2010,5,24,.8107],[2010,5,25,.808],[2010,5,28,.8141],[2010,5,29,.8207],[2010,5,30,.8179],[2010,6,1,.7993],[2010,6,2,.7967],[2010,6,5,.7995],[2010,6,6,.7923],[2010,6,7,.7921],[2010,6,8,.7881],[2010,6,9,.7911],[2010,6,12,.7935],[2010,6,13,.7862],[2010,6,14,.7854],[2010,6,15,.7741],[2010,6,16,.7735],[2010,6,19,.773],[2010,6,20,.7749],[2010,6,21,.7838],[2010,6,22,.7745],[2010,6,23,.775],[2010,6,26,.7703],[2010,6,27,.7699],[2010,6,28,.7694],[2010,6,29,.7653],[2010,6,30,.7663],[2010,7,2,.7592],[2010,7,3,.7564],[2010,7,4,.7603],[2010,7,5,.7588],[2010,7,6,.753],[2010,7,8,.7567],[2010,7,10,.7602],[2010,7,11,.7785],[2010,7,12,.7787],[2010,7,13,.7843],[2010,7,16,.7806],[2010,7,17,.7771],[2010,7,18,.7816],[2010,7,19,.7808],[2010,7,20,.787],[2010,7,23,.7918],[2010,7,24,.7914],[2010,7,25,.7891],[2010,7,26,.7872],[2010,7,27,.7836],[2010,7,30,.7896],[2010,7,31,.7891],[2010,8,1,.7816],[2010,8,2,.7804],[2010,8,3,.7755],[2010,8,6,.7802],[2010,8,7,.788],[2010,8,8,.7859],[2010,8,9,.7888],[2010,8,10,.7892],[2010,8,13,.7774],[2010,8,14,.7695],[2010,8,15,.7686],[2010,8,16,.7654],[2010,8,17,.7662],[2010,8,20,.7656],[2010,8,21,.7528],[2010,8,22,.7467],[2010,8,23,.7523],[2010,8,24,.7415],[2010,8,27,.7447],[2010,8,28,.7368],[2010,8,29,.734],[2010,8,30,.7337],[2010,9,1,.7253],[2010,9,4,.7328],[2010,9,5,.7219],[2010,9,6,.7186],[2010,9,7,.7182],[2010,9,8,.7173],[2010,9,11,.7212],[2010,9,12,.7184],[2010,9,13,.7152],[2010,9,14,.7131],[2010,9,15,.7155],[2010,9,18,.7162],[2010,9,19,.73],[2010,9,20,.7156],[2010,9,21,.7189],[2010,9,22,.7167],[2010,9,25,.7183],[2010,9,26,.7222],[2010,9,27,.725],[2010,9,28,.7172],[2010,9,29,.7171],[2010,10,1,.719],[2010,10,2,.7127],[2010,10,3,.7079],[2010,10,4,.7029],[2010,10,5,.7128],[2010,10,8,.7213],[2010,10,9,.7263],[2010,10,10,.726],[2010,10,11,.7342],[2010,10,12,.7305],[2010,10,15,.7369],[2010,10,16,.7411],[2010,10,17,.7379],[2010,10,18,.7323],[2010,10,19,.7315],[2010,10,22,.7354],[2010,10,23,.747],[2010,10,24,.7487],[2010,10,25,.7496],[2010,10,26,.7553],[2010,10,29,.7634],[2010,10,30,.7695],[2010,11,1,.762],[2010,11,2,.7569],[2010,11,3,.7455],[2010,11,6,.7526],[2010,11,7,.7552],[2010,11,8,.7549],[2010,11,9,.7553],[2010,11,10,.7561],[2010,11,13,.7466],[2010,11,14,.7487],[2010,11,15,.7561],[2010,11,16,.7553],[2010,11,17,.7584],[2010,11,20,.7624],[2010,11,21,.7639],[2010,11,22,.7626],[2010,11,23,.7621],[2010,11,24,.7622],[2010,11,27,.7583],[2010,11,28,.7642],[2010,11,29,.7562],[2010,11,30,.7519],[2010,11,31,.7473]];for(var i=0;i<data.length;++i)data[i]=[UTC(data[i][0],data[i][1],data[i][2]),data[i][3]];var months=["January","February","March","April","May","June","July","August","September","October","November","December"];for(var i=0;i<data.length;++i){var d=new Date(data[i][0]);data[i][3]=String(d.getDate()+" "+months[d.getMonth()]+" "+d.getFullYear()+": $"+data[i][1])}(function(){}).call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]===null||b[c]===undefined)a[c]=b[c];return a}$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version)return;$.extend($.ui,{timepicker:{version:"1.0.1"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(a,b){if($.isFunction(o.beforeShow))return o.beforeShow(a,b,tp_inst)},onChangeMonthYear:function(a,b,c){tp_inst._updateDateTime(c),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],a,b,c,tp_inst)},onClose:function(a,b){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(b),$.isFunction(o.onClose)&&o.onClose.call($input[0],a,b,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(a){return a.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(a){return a.toUpperCase()});if(tp_inst._defaults.timezoneList===null){var timezoneList=[];for(var i=-11;i<=12;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(a){return a=="+0000"?"Z":a.substring(0,3)+":"+a.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")}));if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)tp_inst._defaults.minDate=new Date;if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)tp_inst._defaults.maxDate=new Date;return tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(a){var b=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(b),this._limitMinMaxDateTime(a,!1),this._injectTimePicker()},_parseTime:function(a,b){this.inst||(this.inst=$.datepicker._getInst(this.$input[0]));if(b||!this._defaults.timeOnly){var c=$.datepicker._get(this.inst,"dateFormat");try{var d=parseDateTimeInternal(c,this._defaults.timeFormat,a,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!d.timeObj)return!1;$.extend(this,d.timeObj)}catch(e){return!1}return!0}var f=$.datepicker.parseTime(this._defaults.timeFormat,a,this._defaults);return f?($.extend(this,f),!0):!1},_injectTimePicker:function(){var a=this.inst.dpDiv,b=this._defaults,c=this,d=parseInt(b.hourMax-(b.hourMax-b.hourMin)%b.stepHour,10),e=parseInt(b.minuteMax-(b.minuteMax-b.minuteMin)%b.stepMinute,10),f=parseInt(b.secondMax-(b.secondMax-b.secondMin)%b.stepSecond,10),g=parseInt(b.millisecMax-(b.millisecMax-b.millisecMin)%b.stepMillisec,10),h=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(a.find("div#ui-timepicker-div-"+h).length===0&&b.showTimepicker){var i=' style="display:none;"',j='<div class="ui-timepicker-div" id="ui-timepicker-div-'+h+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+h+'"'+(b.showTime?"":i)+">"+b.timeText+"</dt>"+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+h+'"'+(b.showTime?"":i)+"></dd>"+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+h+'"'+(b.showHour?"":i)+">"+b.hourText+"</dt>",k=0,l=0,m=0,n=0,o=null;j+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+h+'"'+(b.showHour?"":i)+"></div>";if(b.showHour&&b.hourGrid>0){j+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var p=b.hourMin;p<=d;p+=parseInt(b.hourGrid,10)){k++;var q=b.ampm&&p>12?p-12:p;q<10&&(q="0"+q),b.ampm&&(p===0?q="12a":p<12?q+="a":q+="p"),j+="<td>"+q+"</td>"}j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+h+'"'+(b.showMinute?"":i)+">"+b.minuteText+"</dt>"+'<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+h+'"'+(b.showMinute?"":i)+"></div>";if(b.showMinute&&b.minuteGrid>0){j+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var r=b.minuteMin;r<=e;r+=parseInt(b.minuteGrid,10))l++,j+="<td>"+(r<10?"0":"")+r+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+h+'"'+(b.showSecond?"":i)+">"+b.secondText+"</dt>"+'<dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+h+'"'+(b.showSecond?"":i)+"></div>";if(b.showSecond&&b.secondGrid>0){j+='<div style="padding-left: 1px"><table><tr>';for(var s=b.secondMin;s<=f;s+=parseInt(b.secondGrid,10))m++,j+="<td>"+(s<10?"0":"")+s+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+h+'"'+(b.showMillisec?"":i)+">"+b.millisecText+"</dt>"+'<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+h+'"'+(b.showMillisec?"":i)+"></div>";if(b.showMillisec&&b.millisecGrid>0){j+='<div style="padding-left: 1px"><table><tr>';for(var t=b.millisecMin;t<=g;t+=parseInt(b.millisecGrid,10))n++,j+="<td>"+(t<10?"0":"")+t+"</td>";j+="</tr></table></div>"}j+="</dd>",j+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+h+'"'+(b.showTimezone?"":i)+">"+b.timezoneText+"</dt>",j+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+h+'"'+(b.showTimezone?"":i)+"></dd>",j+="</dl></div>";var u=$(j);b.timeOnly===!0&&(u.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+b.timeOnlyTitle+"</div>"+"</div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=u.find("#ui_tpicker_hour_"+h).slider({orientation:"horizontal",value:this.hour,min:b.hourMin,max:d,step:b.stepHour,slide:function(a,b){c.hour_slider.slider("option","value",b.value),c._onTimeChange()}}),this.minute_slider=u.find("#ui_tpicker_minute_"+h).slider({orientation:"horizontal",value:this.minute,min:b.minuteMin,max:e,step:b.stepMinute,slide:function(a,b){c.minute_slider.slider("option","value",b.value),c._onTimeChange()}}),this.second_slider=u.find("#ui_tpicker_second_"+h).slider({orientation:"horizontal",value:this.second,min:b.secondMin,max:f,step:b.stepSecond,slide:function(a,b){c.second_slider.slider("option","value",b.value),c._onTimeChange()}}),this.millisec_slider=u.find("#ui_tpicker_millisec_"+h).slider({orientation:"horizontal",value:this.millisec,min:b.millisecMin,max:g,step:b.stepMillisec,slide:function(a,b){c.millisec_slider.slider("option","value",b.value),c._onTimeChange()}}),this.timezone_select=u.find("#ui_tpicker_timezone_"+h).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(b.timezoneList,function(a,b){return $("<option />").val(typeof a=="object"?a.value:a).text(typeof a=="object"?a.label:a)}));if(typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""){var v=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),w=timeZoneString(v);w==this.timezone?selectLocalTimeZone(c):this.timezone_select.val(this.timezone)}else typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(b.defaultTimezone):selectLocalTimeZone(c);this.timezone_select.change(function(){c._defaults.useLocalTimezone=!1,c._onTimeChange()}),b.showHour&&b.hourGrid>0&&(o=100*k*b.hourGrid/(d-b.hourMin),u.find(".ui_tpicker_hour table").css({width:o+"%",marginLeft:o/(-2*k)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){var a=$(this).html();if(b.ampm){var d=a.substring(2).toLowerCase(),e=parseInt(a.substring(0,2),10);d=="a"?e==12?a=0:a=e:e==12?a=12:a=e+12}c.hour_slider.slider("option","value",a),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/k+"%",textAlign:"center",overflow:"hidden"})})),b.showMinute&&b.minuteGrid>0&&(o=100*l*b.minuteGrid/(e-b.minuteMin),u.find(".ui_tpicker_minute table").css({width:o+"%",marginLeft:o/(-2*l)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.minute_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/l+"%",textAlign:"center",overflow:"hidden"})})),b.showSecond&&b.secondGrid>0&&u.find(".ui_tpicker_second table").css({width:o+"%",marginLeft:o/(-2*m)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.second_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/m+"%",textAlign:"center",overflow:"hidden"})}),b.showMillisec&&b.millisecGrid>0&&u.find(".ui_tpicker_millisec table").css({width:o+"%",marginLeft:o/(-2*n)+"%",borderCollapse:"collapse"}).find("td").each(function(a){$(this).click(function(){c.millisec_slider.slider("option","value",$(this).html()),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/n+"%",textAlign:"center",overflow:"hidden"})});var x=a.find(".ui-datepicker-buttonpane");x.length?x.before(u):a.append(u),this.$timeObj=u.find("#ui_tpicker_time_"+h);if(this.inst!==null){var y=this.timeDefined;this._onTimeChange(),this.timeDefined=y}var z=function(){c._onSelectHandler()};this.hour_slider.bind("slidestop",z),this.minute_slider.bind("slidestop",z),this.second_slider.bind("slidestop",z),this.millisec_slider.bind("slidestop",z);if(this._defaults.addSliderAccess){var A=this._defaults.sliderAccessArgs;setTimeout(function(){if(u.find(".ui-slider-access").length===0){u.find(".ui-slider:visible").sliderAccess(A);var a=u.find(".ui-slider-access:eq(0)").outerWidth(!0);a&&u.find("table:visible").each(function(){var b=$(this),c=b.outerWidth(),d=b.css("marginLeft").toString().replace("%",""),e=c-a,f=d*e/c+"%";b.css({width:e,marginLeft:f})})}},0)}}},_limitMinMaxDateTime:function(a,b){var c=this._defaults,d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(!this._defaults.showTimepicker)return;if($.datepicker._get(a,"minDateTime")!==null&&$.datepicker._get(a,"minDateTime")!==undefined&&d){var e=$.datepicker._get(a,"minDateTime"),f=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=c.hourMin,this.minuteMinOriginal=c.minuteMin,this.secondMinOriginal=c.secondMin,this.millisecMinOriginal=c.millisecMin;a.settings.timeOnly||f.getTime()==d.getTime()?(this._defaults.hourMin=e.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=e.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=e.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=e.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if($.datepicker._get(a,"maxDateTime")!==null&&$.datepicker._get(a,"maxDateTime")!==undefined&&d){var g=$.datepicker._get(a,"maxDateTime"),h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=c.hourMax,this.minuteMaxOriginal=c.minuteMax,this.secondMaxOriginal=c.secondMax,this.millisecMaxOriginal=c.millisecMax;a.settings.timeOnly||h.getTime()==d.getTime()?(this._defaults.hourMax=g.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=g.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=g.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=g.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(b!==undefined&&b===!0){var i=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),j=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),k=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:i}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:j}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:k}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:l}).slider("value",this.millisec)}},_onTimeChange:function(){var a=this.hour_slider?this.hour_slider.slider("value"):!1,b=this.minute_slider?this.minute_slider.slider("value"):!1,c=this.second_slider?this.second_slider.slider("value"):!1,d=this.millisec_slider?this.millisec_slider.slider("value"):!1,e=this.timezone_select?this.timezone_select.val():!1,f=this._defaults;typeof a=="object"&&(a=!1),typeof b=="object"&&(b=!1),typeof c=="object"&&(c=!1),typeof d=="object"&&(d=!1),typeof e=="object"&&(e=!1),a!==!1&&(a=parseInt(a,10)),b!==!1&&(b=parseInt(b,10)),c!==!1&&(c=parseInt(c,10)),d!==!1&&(d=parseInt(d,10));var g=f[a<12?"amNames":"pmNames"][0],h=a!=this.hour||b!=this.minute||c!=this.second||d!=this.millisec||this.ampm.length>0&&a<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||e!=this.timezone;h&&(a!==!1&&(this.hour=a),b!==!1&&(this.minute=b),c!==!1&&(this.second=c),d!==!1&&(this.millisec=d),e!==!1&&(this.timezone=e),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),f.ampm&&(this.ampm=g),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+f.timeSuffix),this.timeDefined=!0,h&&this._updateDateTime()},_onSelectHandler:function(){var a=this._defaults.onSelect,b=this.$input?this.$input[0]:null;a&&b&&a.apply(b,[this.formattedDateTime,this])},_formatTime:function(a,b){a=a||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var c=(b||this._defaults.timeFormat).toString();c=$.datepicker.formatTime(c,a,this._defaults);if(arguments.length)return c;this.formattedTime=c},_updateDateTime:function(a){a=this.inst||a;var b=$.datepicker._daylightSavingAdjust(new Date(a.selectedYear,a.selectedMonth,a.selectedDay)),c=$.datepicker._get(a,"dateFormat"),d=$.datepicker._getFormatConfig(a),e=b!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(c,b===null?new Date:b,d);var f=this.formattedDate;this._defaults.timeOnly===!0?f=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||e)&&(f+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=f,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(f),this.$input.val(f)):this.$input.val(f):this.$input.val(this.formattedDate),this.$input.trigger("change")}}),$.fn.extend({timepicker:function(a){a=a||{};var b=arguments;return typeof a=="object"&&(b[0]=$.extend(a,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),b)})},datetimepicker:function(a){a=a||{};var b=arguments;return typeof a=="string"?a=="getDate"?$.fn.datepicker.apply($(this[0]),b):this.each(function(){var a=$(this);a.datepicker.apply(a,b)}):this.each(function(){var b=$(this);b.datepicker($.timepicker._newInst(b,a)._defaults)})}}),$.datepicker.parseDateTime=function(a,b,c,d,e){var f=parseDateTimeInternal(a,b,c,d,e);if(f.timeObj){var g=f.timeObj;f.date.setHours(g.hour,g.minute,g.second,g.millisec)}return f.date},$.datepicker.parseTime=function(a,b,c){var d=function(a,b){var c=[];return a&&$.merge(c,a),b&&$.merge(c,b),c=$.map(c,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+c.join("|")+")?"},e=function(a){var b=a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),c={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(b)for(var d=0;d<b.length;d++)c[b[d].toString().charAt(0)]==-1&&(c[b[d].toString().charAt(0)]=d+1);return c},f=extendRemove(extendRemove({},$.timepicker._defaults),c||{}),g="^"+a.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,d(f.amNames,f.pmNames)).replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+f.timeSuffix+"$",h=e(a),i="",j;j=b.match(new RegExp(g,"i"));var k={hour:0,minute:0,second:0,millisec:0};if(j){h.t!==-1&&(j[h.t]===undefined||j[h.t].length===0?(i="",k.ampm=""):(i=$.inArray(j[h.t],f.amNames)!==-1?"AM":"PM",k.ampm=f[i=="AM"?"amNames":"pmNames"][0])),h.h!==-1&&(i=="AM"&&j[h.h]=="12"?k.hour=0:i=="PM"&&j[h.h]!="12"?k.hour=parseInt(j[h.h],10)+12:k.hour=Number(j[h.h])),h.m!==-1&&(k.minute=Number(j[h.m])),h.s!==-1&&(k.second=Number(j[h.s])),h.l!==-1&&(k.millisec=Number(j[h.l]));if(h.z!==-1&&j[h.z]!==undefined){var l=j[h.z].toUpperCase();switch(l.length){case 1:l=f.timezoneIso8601?"Z":"+0000";break;case 5:f.timezoneIso8601&&(l=l.substring(1)=="0000"?"Z":l.substring(0,3)+":"+l.substring(3));break;case 6:f.timezoneIso8601?l.substring(1)=="00:00"&&(l="Z"):l=l=="Z"||l.substring(1)=="00:00"?"+0000":l.replace(/:/,"")}k.timezone=l}return k}return!1},$.datepicker.formatTime=function(a,b,c){c=c||{},c=$.extend($.timepicker._defaults,c),b=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},b);var d=a,e=c.amNames[0],f=parseInt(b.hour,10);return c.ampm&&(f>11&&(e=c.pmNames[0],f>12&&(f=f%12)),f===0&&(f=12)),d=d.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(a){switch(a.toLowerCase()){case"hh":return("0"+f).slice(-2);case"h":return f;case"mm":return("0"+b.minute).slice(-2);case"m":return b.minute;case"ss":return("0"+b.second).slice(-2);case"s":return b.second;case"l":return("00"+b.millisec).slice(-3);case"z":return b.timezone;case"t":case"tt":if(c.ampm)return a.length==1&&(e=e.charAt(0)),a.charAt(0)=="T"?e.toUpperCase():e.toLowerCase();return""}}),d=$.trim(d),d},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(a,b){var c=this._getInst($(a)[0]),d=this._get(c,"timepicker");d?(d._limitMinMaxDateTime(c,!0),c.inline=c.stay_open=!0,this._base_selectDate(a,b),c.inline=c.stay_open=!1,this._notifyChange(c),this._updateDatepicker(c)):this._base_selectDate(a,b)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(a){var b=a.input[0];if($.datepicker._curInst&&$.datepicker._curInst!=a&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=b)return;if(typeof a.stay_open!="boolean"||a.stay_open===!1){this._base_updateDatepicker(a);var c=this._get(a,"timepicker");if(c){c._addTimePicker(a);if(c._defaults.useLocalTimezone){var d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay,12);selectLocalTimeZone(c,d),c._onTimeChange()}}}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&$.datepicker._get(b,"constrainInput")){var d=c._defaults.ampm,e=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),f=c._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,d?"APM":"").replace(/Tt/g,d?"AaPpMm":"").replace(/tT/g,d?"AaPpMm":"").replace(/T/g,d?"AP":"").replace(/tt/g,d?"apm":"").replace(/t/g,d?"ap":"")+" "+c._defaults.separator+c._defaults.timeSuffix+(c._defaults.showTimezone?c._defaults.timezoneList.join(""):"")+c._defaults.amNames.join("")+c._defaults.pmNames.join("")+e,g=String.fromCharCode(a.charCode===undefined?a.keyCode:a.charCode);return a.ctrlKey||g<" "||!e||f.indexOf(g)>-1}return $.datepicker._base_doKeyPress(a)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=
function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&c._defaults.timeOnly&&b.input.val()!=b.lastVal)try{$.datepicker._updateDatepicker(b)}catch(d){$.datepicker.log(d)}return $.datepicker._base_doKeyUp(a)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(a){var b=this._getInst($(a)[0]),c=b.dpDiv;this._base_gotoToday(a);var d=this._get(b,"timepicker");selectLocalTimeZone(d);var e=new Date;this._setTime(b,e),$(".ui-datepicker-today",c).click()},$.datepicker._disableTimepickerDatepicker=function(a){var b=this._getInst(a);if(!b)return;var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(c._defaults.showTimepicker=!1,c._updateDateTime(b))},$.datepicker._enableTimepickerDatepicker=function(a){var b=this._getInst(a);if(!b)return;var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(c._defaults.showTimepicker=!0,c._addTimePicker(b),c._updateDateTime(b))},$.datepicker._setTime=function(a,b){var c=this._get(a,"timepicker");if(c){var d=c._defaults,e=b?b.getHours():d.hour,f=b?b.getMinutes():d.minute,g=b?b.getSeconds():d.second,h=b?b.getMilliseconds():d.millisec,i=e===d.hourMin,j=f===d.minuteMin,k=g===d.secondMin,l=!1;e<d.hourMin||e>d.hourMax?l=!0:(f<d.minuteMin||f>d.minuteMax)&&i?l=!0:(g<d.secondMin||g>d.secondMax)&&i&&j?l=!0:(h<d.millisecMin||h>d.millisecMax)&&i&&j&&k&&(l=!0),l&&(e=d.hourMin,f=d.minuteMin,g=d.secondMin,h=d.millisecMin),c.hour=e,c.minute=f,c.second=g,c.millisec=h,c.hour_slider&&c.hour_slider.slider("value",e),c.minute_slider&&c.minute_slider.slider("value",f),c.second_slider&&c.second_slider.slider("value",g),c.millisec_slider&&c.millisec_slider.slider("value",h),c._onTimeChange(),c._updateDateTime(a)}},$.datepicker._setTimeDatepicker=function(a,b,c){var d=this._getInst(a);if(!d)return;var e=this._get(d,"timepicker");if(e){this._setDateFromField(d);var f;b&&(typeof b=="string"?(e._parseTime(b,c),f=new Date,f.setHours(e.hour,e.minute,e.second,e.millisec)):f=new Date(b.getTime()),f.toString()=="Invalid Date"&&(f=undefined),this._setTime(d,f))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(a,b){var c=this._getInst(a);if(!c)return;var d=b instanceof Date?new Date(b.getTime()):b;this._updateDatepicker(c),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(a,d,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(a,b){var c=this._getInst(a);if(!c)return;var d=this._get(c,"timepicker");if(d){this._setDateFromField(c,b);var e=this._getDate(c);return e&&d._parseTime($(a).val(),d.timeOnly)&&e.setHours(d.hour,d.minute,d.second,d.millisec),e}return this._base_getDateDatepicker(a,b)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(a,b,c){var d=splitDateTime(a,b,c);return $.datepicker._base_parseDate(a,d[0],c)},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(a,b,c,d){var e=this._get(a,"timepicker");return e?(e._updateDateTime(a),e.$input.val()):this._base_formatDate(a)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(a,b,c){var d=this._getInst(a);if(!d)return null;var e=this._get(d,"timepicker");if(e){var f=null,g=null,h=null;typeof b=="string"?b==="minDate"||b==="minDateTime"?f=c:b==="maxDate"||b==="maxDateTime"?g=c:b==="onSelect"&&(h=c):typeof b=="object"&&(b.minDate?f=b.minDate:b.minDateTime?f=b.minDateTime:b.maxDate?g=b.maxDate:b.maxDateTime&&(g=b.maxDateTime)),f?(f===0?f=new Date:f=new Date(f),e._defaults.minDate=f,e._defaults.minDateTime=f):g?(g===0?g=new Date:g=new Date(g),e._defaults.maxDate=g,e._defaults.maxDateTime=g):h&&(e._defaults.onSelect=h)}return c===undefined?this._base_optionDatepicker(a,b):this._base_optionDatepicker(a,b,c)};var splitDateTime=function(a,b,c){try{var d=$.datepicker._base_parseDate(a,b,c)}catch(e){if(e.indexOf(":")>=0){var f=b.length-(e.length-e.indexOf(":")-2),g=b.substring(f);return[b.substring(0,f),b.substring(f)]}throw e}return[b,""]},parseDateTimeInternal=function(a,b,c,d,e){var f,g=splitDateTime(a,c,d);f=$.datepicker._base_parseDate(a,g[0],d);if(g[1]!==""){var h=g[1],i=e&&e.separator?e.separator:$.timepicker._defaults.separator;if(h.indexOf(i)!==0)throw"Missing time separator";h=h.substring(i.length);var j=$.datepicker.parseTime(b,h,e);if(j===null)throw"Wrong time format";return{date:f,timeObj:j}}return{date:f}},selectLocalTimeZone=function(a,b){if(a&&a.timezone_select){a._defaults.useLocalTimezone=!0;var c=typeof b!="undefined"?b:new Date,d=timeZoneString(c);a._defaults.timezoneIso8601&&(d=d.substring(0,3)+":"+d.substring(3)),a.timezone_select.val(d)}},timeZoneString=function(a){var b=a.getTimezoneOffset()*-10100/60,c=(b>=0?"+":"-")+Math.abs(b).toString().substr(1);return c};$.timepicker=new Timepicker,$.timepicker.version="1.0.1"}(jQuery),function(a){var b="input.mask",c=window.orientation!=undefined;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},a.fn.extend({caret:function(a,b){if(this.length==0)return;if(typeof a=="number")return b=typeof b=="number"?b:a,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}});if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}},unmask:function(){return this.trigger("unmask")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:"_",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;return a.each(d.split(""),function(a,b){b=="?"?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),j==null&&(j=h.length-1)):h.push(null)}),this.trigger("unmask").each(function(){function n(a){while(++a<=k&&!h[a]);return a}function o(a){while(--a>=0&&!h[a]);return a}function p(a,b){if(a<0)return;for(var c=a,d=n(b);c<k;c++)if(h[c]){if(d<k&&h[c].test(l[d]))l[c]=l[d],l[d]=e.placeholder;else break;d=n(d)}u(),f.caret(Math.max(j,a))}function q(a){for(var b=a,c=e.placeholder;b<k;b++)if(h[b]){var d=n(b),f=l[b];l[b]=c;if(d<k&&h[d].test(f))c=f;else break}}function r(a){var b=a.which;if(b==8||b==46||c&&b==127){var d=f.caret(),e=d.begin,g=d.end;return g-e==0&&(e=b!=46?o(e):g=n(e-1),g=b==46?n(g):g),t(e,g),p(e,g-1),!1}if(b==27)return f.val(m),f.caret(0,v()),!1}function s(a){var b=a.which,c=f.caret();if(a.ctrlKey||a.altKey||a.metaKey||b<32)return!0;if(b){c.end-c.begin!=0&&(t(c.begin,c.end),p(c.begin,c.end-1));var d=n(c.begin-1);if(d<k){var g=String.fromCharCode(b);if(h[d].test(g)){q(d),l[d]=g,u();var i=n(d);f.caret(i),e.completed&&i>=k&&e.completed.call(f)}}return!1}}function t(a,b){for(var c=a;c<b&&c<k;c++)h[c]&&(l[c]=e.placeholder)}function u(){return f.val(l.join("")).val()}function v(a){var b=f.val(),c=-1;for(var d=0,g=0;d<k;d++)if(h[d]){l[d]=e.placeholder;while(g++<b.length){var m=b.charAt(g-1);if(h[d].test(m)){l[d]=m,c=d;break}}if(g>b.length)break}else l[d]==b.charAt(g)&&d!=i&&(g++,c=d);if(!a&&c+1<i)f.val(""),t(0,k);else if(a||c+1>=i)u(),a||f.val(f.val().substring(0,c+1));return i?d:j}var f=a(this),l=a.map(d.split(""),function(a,b){if(a!="?")return g[a]?e.placeholder:a}),m=f.val();f.data(a.mask.dataName,function(){return a.map(l,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join("")}),f.attr("readonly")||f.one("unmask",function(){f.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){m=f.val();var a=v();u();var b=function(){a==d.length?f.caret(0,a):f.caret(a)}}).bind("blur.mask",function(){v(),f.val()!=m&&f.change()}).bind("keydown.mask",r).bind("keypress.mask",s).bind(b,function(){setTimeout(function(){f.caret(v(!0))},0)}),v()})}})}(jQuery),function(a){var b={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(a){return"<li>"+a[this.propertyToSearch]+"</li>"},tokenFormatter:function(a){return"<li><p>"+a[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},c={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},d={BEFORE:0,AFTER:1,END:2},e={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},f={init:function(c,d){var e=a.extend({},b,d||{});return this.each(function(){a(this).data("tokenInputObject",new a.TokenList(this,c,e))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(a){return this.data("tokenInputObject").add(a),this},remove:function(a){return this.data("tokenInputObject").remove(a),this},get:function(){return this.data("tokenInputObject").getTokens()}};a.fn.tokenInput=function(a){return f[a]?f[a].apply(this,Array.prototype.slice.call(arguments,1)):f.init.apply(this,arguments)},a.TokenList=function(b,f,g){function x(){if(g.tokenLimit!==null&&j>=g.tokenLimit){n.hide(),H();return}}function y(){if(m===(m=n.val()))return;var a=m.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");v.html(a),n.width(v.width()+30)}function z(a){return a>=48&&a<=90||a>=96&&a<=111||a>=186&&a<=192||a>=219&&a<=222}function A(b){var c=g.tokenFormatter(b);c=a(c).addClass(g.classes.token).insertBefore(t),a("<span>"+g.deleteText+"</span>").addClass(g.classes.tokenDelete).appendTo(c).click(function(){return F(a(this).parent()),o.change(),!1});var d={id:b.id};return d[g.propertyToSearch]=b[g.propertyToSearch],a.data(c.get(0),"tokeninput",b),i=i.slice(0,q).concat([d]).concat(i.slice(q)),q++,G(i,o),j+=1,g.tokenLimit!==null&&j>=g.tokenLimit&&(n.hide(),H()),c}function B(b){var c=g.onAdd;if(j>0&&g.preventDuplicates){var d=null;s.children().each(function(){var c=a(this),e=a.data(c.get(0),"tokeninput");if(e&&e.id===b.id)return d=c,!1});if(d){C(d),t.insertAfter(d),n.focus();return}}if(g.tokenLimit==null||j<g.tokenLimit)A(b),x();n.val(""),H(),a.isFunction(c)&&c.call(o,b)}function C(a){a.addClass(g.classes.selectedToken),p=a.get(0),n.val(""),H()}function D(a,b){a.removeClass(g.classes.selectedToken),p=null,b===d.BEFORE?(t.insertBefore(a),q--):b===d.AFTER?(t.insertAfter(a),q++):(t.appendTo(s),q=j),n.focus()}function E(b){var c=p;p&&D(a(p),d.END),c===b.get(0)?D(b,d.END):C(b)}function F(b){var c=a.data(b.get(0),"tokeninput"),d=g.onDelete,e=b.prevAll().length;e>q&&e--,b.remove(),p=null,n.focus(),i=i.slice(0,e).concat(i.slice(e+1)),e<q&&q--,G(i,o),j-=1,g.tokenLimit!==null&&n.show().val("").focus(),a.isFunction(d)&&d.call(o,c)}function G(b,c){var d=a.map(b,function(a){return a[g.tokenValue]});c.val(d.join(g.tokenDelimiter))}function H(){u.hide().empty(),r=null}function I(){u.css({position:"absolute",top:a(s).offset().top+a(s).outerHeight(),left:a(s).offset().left,zindex:999}).show()}function J(){g.searchingText&&(u.html("<p>"+g.searchingText+"</p>"),I())}function K(){g.hintText&&(u.html("<p>"+g.hintText+"</p>"),I())}function L(a,b){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function M(a,b,c){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b+")(?![^<>]*>)(?![^&;]+;)","g"),L(b,c))}function N(b,c){if(c&&c.length){u.empty();var d=a("<ul>").appendTo(u).mouseover(function(b){O(a(b.target).closest("li"))}).mousedown(function(b){return B(a(b.target).closest("li").data("tokeninput")),o.change(),!1}).hide();a.each(c,function(c,e){var f=g.resultsFormatter(e);f=M(f,e[g.propertyToSearch],b),f=a(f).appendTo(d),c%2?f.addClass(g.classes.dropdownItem):f.addClass(g.classes.dropdownItem2),c===0&&O(f),a.data(f.get(0),"tokeninput",e)}),I(),g.animateDropdown?d.slideDown("fast"):d.show()}else g.noResultsText&&(u.html("<p>"+g.noResultsText+"</p>"),I())}function O(b){b&&(r&&P(a(r)),b.addClass(g.classes.selectedDropdownItem),r=b.get(0))}function P(a){a.removeClass(g.classes.selectedDropdownItem),r=null}function Q(){var b=n.val().toLowerCase();b&&b.length&&(p&&D(a(p),d.AFTER),b.length>=g.minChars?(J(),clearTimeout(l),l=setTimeout(function(){R(b)},g.searchDelay)):H())}function R(b){var c=b+S(),d=k.get(c);if(d)N(b,d);else if(g.url){var e=S(),f={};f.data={};if(e.indexOf("?")>-1){var h=e.split("?");f.url=h[0];var i=h[1].split("&");a.each(i,function(a,b){var c=b.split("=");f.data[c[0]]=c[1]})}else f.url=e;f.data[g.queryParam]=b,f.type=g.method,f.dataType=g.contentType,g.crossDomain&&(f.dataType="jsonp"),f.success=function(d){a.isFunction(g.onResult)&&(d=g.onResult.call(o,d)),k.add(c,g.jsonContainer?d[g.jsonContainer]:d),n.val().toLowerCase()===b&&N(b,g.jsonContainer?d[g.jsonContainer]:d)},a.ajax(f)}else if(g.local_data){var j=a.grep(g.local_data,function(a){return a[g.propertyToSearch].toLowerCase().indexOf(b.toLowerCase())>-1});a.isFunction(g.onResult)&&(j=g.onResult.call(o,j)),k.add(c,j),N(b,j)}}function S(){var a=g.url;return typeof g.url=="function"&&(a=g.url.call()),a}if(a.type(f)==="string"||a.type(f)==="function"){g.url=f;var h=S();g.crossDomain===undefined&&(h.indexOf("://")===-1?g.crossDomain=!1:g.crossDomain=location.href.split(/\/+/g)[1]!==h.split(/\/+/g)[1])}else typeof f=="object"&&(g.local_data=f);g.classes?g.classes=a.extend({},c,g.classes):g.theme?(g.classes={},a.each(c,function(a,b){g.classes[a]=b+"-"+g.theme})):g.classes=c;var i=[],j=0,k=new a.TokenList.Cache,l,m,n=a('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",g.idPrefix+b.id).focus(function(){(g.tokenLimit===null||g.tokenLimit!==j)&&K()}).blur(function(){H(),a(this).val("")}).bind("keyup keydown blur update",y).keydown(function(b){var c,f;switch(b.keyCode){case e.LEFT:case e.RIGHT:case e.UP:case e.DOWN:if(!a(this).val())c=t.prev(),f=t.next(),c.length&&c.get(0)===p||f.length&&f.get(0)===p?b.keyCode===e.LEFT||b.keyCode===e.UP?D(a(p),d.BEFORE):D(a(p),d.AFTER):b.keyCode!==e.LEFT&&b.keyCode!==e.UP||!c.length?(b.keyCode===e.RIGHT||b.keyCode===e.DOWN)&&f.length&&C(a(f.get(0))):C(a(c.get(0)));else{var g=null;return b.keyCode===e.DOWN||b.keyCode===e.RIGHT?g=a(r).next():g=a(r).prev(),g.length&&O(g),!1}break;case e.BACKSPACE:c=t.prev();if(!a(this).val().length)return p?(F(a(p)),o.change()):c.length&&C(a(c.get(0))),!1;a(this).val().length===1?H():setTimeout(function(){Q()},5);break;case e.TAB:case e.ENTER:case e.NUMPAD_ENTER:case e.COMMA:if(r)return B(a(r).data("tokeninput")),o.change(),!1;break;case e.ESCAPE:return H(),!0;default:String.fromCharCode(b.which)&&setTimeout(function(){Q()},5)}}),o=a(b).hide().val("").focus(function(){n.focus()}).blur(function(){n.blur()}),p=null,q=0,r=null,s=a("<ul />").addClass(g.classes.tokenList).click(function(b){var c=a(b.target).closest("li");c&&c.get(0)&&a.data(c.get(0),"tokeninput")?E(c):(p&&D(a(p),d.END),n.focus())}).mouseover(function(b){var c=a(b.target).closest("li");c&&p!==this&&c.addClass(g.classes.highlightedToken)}).mouseout(function(b){var c=a(b.target).closest("li");c&&p!==this&&c.removeClass(g.classes.highlightedToken)}).insertBefore(o),t=a("<li />").addClass(g.classes.inputToken).appendTo(s).append(n),u=a("<div>").addClass(g.classes.dropdown).appendTo("body").hide(),v=a("<tester/>").insertAfter(n).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"});o.val("");var w=g.prePopulate||o.data("pre");g.processPrePopulate&&a.isFunction(g.onResult)&&(w=g.onResult.call(o,w)),w&&w.length&&a.each(w,function(a,b){A(b),x()}),a.isFunction(g.onReady)&&g.onReady.call(),this.clear=function(){s.children("li").each(function(){a(this).children("input").length===0&&F(a(this))})},this.add=function(a){B(a)},this.remove=function(b){s.children("li").each(function(){if(a(this).children("input").length===0){var c=a(this).data("tokeninput"),d=!0;for(var e in b)if(b[e]!==c[e]){d=!1;break}d&&F(a(this))}})},this.getTokens=function(){return i}},a.TokenList.Cache=function(b){var c=a.extend({max_size:500},b),d={},e=0,f=function(){d={},e=0};this.add=function(a,b){e>c.max_size&&f(),d[a]||(e+=1),d[a]=b},this.get=function(a){return d[a]}}}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);var stIsIE=!1;sorttable={init:function(){if(arguments.callee.done)return;arguments.callee.done=!0,_timer&&clearInterval(_timer);if(!document.createElement||!document.getElementsByTagName)return;sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(a){a.className.search(/\bsortable\b/)!=-1&&sorttable.makeSortable(a)})},makeSortable:function(a){a.getElementsByTagName("thead").length==0&&(the=document.createElement("thead"),the.appendChild(a.rows[0]),a.insertBefore(the,a.firstChild)),a.tHead==null&&(a.tHead=a.getElementsByTagName("thead")[0]);if(a.tHead.rows.length!=1)return;sortbottomrows=[];for(var b=0;b<a.rows.length;b++)a.rows[b].className.search(/\bsortbottom\b/)!=-1&&(sortbottomrows[sortbottomrows.length]=a.rows[b]);if(sortbottomrows){a.tFoot==null&&(tfo=document.createElement("tfoot"),a.appendChild(tfo));for(var b=0;b<sortbottomrows.length;b++)tfo.appendChild(sortbottomrows[b]);delete sortbottomrows}headrow=a.tHead.rows[0].cells;for(var b=0;b<headrow.length;b++)headrow[b].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[b].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&typeof sorttable["sort_"+override]=="function"?headrow[b].sorttable_sortfunction=sorttable["sort_"+override]:headrow[b].sorttable_sortfunction=sorttable.guessType(a,b),headrow[b].sorttable_columnindex=b,headrow[b].sorttable_tbody=a.tBodies[0],dean_addEvent(headrow[b],"click",function(a){if(this.className.search(/\bsorttable_sorted\b/)!=-1){sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",this.appendChild(sortrevind);return}if(this.className.search(/\bsorttable_sorted_reverse\b/)!=-1){sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind);return}theadrow=this.parentNode,forEach(theadrow.childNodes,function(a){a.nodeType==1&&(a.className=a.className.replace("sorttable_sorted_reverse",""),a.className=a.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var b=0;b<rows.length;b++)row_array[row_array.length]=[sorttable.getInnerText(rows[b].cells[col]),rows[b]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(var b=0;b<row_array.length;b++)tb.appendChild(row_array[b][1]);delete row_array}))},guessType:function(a,b){sortfn=sorttable.sort_alpha;for(var c=0;c<a.tBodies[0].rows.length;c++){text=sorttable.getInnerText(a.tBodies[0].rows[c].cells[b]);if(text!=""){if(text.match(/^-?[$]?[\d,.]+%?$/))return sorttable.sort_numeric;possdate=text.match(sorttable.DATE_RE);if(possdate){first=parseInt(possdate[1]),second=parseInt(possdate[2]);if(first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}}return sortfn},getInnerText:function(a){hasInputs=typeof a.getElementsByTagName=="function"&&a.getElementsByTagName("input").length;if(a.getAttribute("sorttable_customkey")!=null)return a.getAttribute("sorttable_customkey");if(typeof a.textContent!="undefined"&&!hasInputs)return a.textContent.replace(/^\s+|\s+$/g,"");if(typeof a.innerText!="undefined"&&!hasInputs)return a.innerText.replace(/^\s+|\s+$/g,"");if(typeof a.text!="undefined"&&!hasInputs)return a.text.replace(/^\s+|\s+$/g,"");switch(a.nodeType){case 3:if(a.nodeName.toLowerCase()=="input")return a.value.replace(/^\s+|\s+$/g,"");case 4:return a.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:var b="";for(var c=0;c<a.childNodes.length;c++)b+=sorttable.getInnerText(a.childNodes[c]);return b.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(a){newrows=[];for(var b=0;b<a.rows.length;b++)newrows[newrows.length]=a.rows[b];for(var b=newrows.length-1;b>=0;b--)a.appendChild(newrows[b]);delete newrows},sort_numeric:function(a,b){return aa=parseFloat(a[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(b[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(a,b){return a[0]==b[0]?0:a[0]<b[0]?-1:1},sort_ddmm:function(a,b){return mtch=a[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dt1=y+m+d,mtch=b[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(a,b){return mtch=a[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dt1=y+m+d,mtch=b[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(a,b){var c=0,d=a.length-1,e=!0;while(e){e=!1;for(var f=c;f<d;++f)if(b(a[f],a[f+1])>0){var g=a[f];a[f]=a[f+1],a[f+1]=g,e=!0}d--;if(!e)break;for(var f=d;f>c;--f)if(b(a[f],a[f-1])<0){var g=a[f];a[f]=a[f-1],a[f-1]=g,e=!0}c++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1);if(/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)}),Function.prototype.forEach=function(a,b,c){for(var d in a)typeof this.prototype[d]=="undefined"&&b.call(c,a[d],d,a)},String.forEach=function(a,b,c){Array.forEach(a.split(""),function(d,e){b.call(c,d,e,a)})};var forEach=function(a,b,c){if(a){var d=Object;if(a instanceof Function)d=Function;else{if(a.forEach instanceof Function){a.forEach(b,c);return}typeof a=="string"?d=String:typeof a.length=="number"&&(d=Array)}d.forEach(a,b,c)}};(function(){}).call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);var anchoredLink,assetsChanged,browserCompatibleDocumentParser,browserIsntBuggy,browserSupportsPushState,cacheCurrentPage,changePage,constrainPageCacheTo,createDocument,crossOriginLink,currentState,executeScriptTags,extractLink,extractTitleAndBody,extractTrackAssets,fetchHistory,fetchReplacement,handleClick,ignoreClick,initializeTurbolinks,initialized,installClickHandlerLast,intersection,loadedAssets,noTurbolink,nonHtmlLink,nonStandardClick,pageCache,recallScrollPosition,referer,reflectNewUrl,reflectRedirectedUrl,rememberCurrentState,rememberCurrentUrl,rememberInitialPage,removeHash,requestMethod,requestMethodIsSafe,resetScrollPosition,targetLink,triggerEvent,visit,xhr,_ref,__hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};initialized=!1,currentState=null,referer=document.location.href,loadedAssets=null,pageCache={},createDocument=null,requestMethod=((_ref=document.cookie.match(/request_method=(\w+)/))!=null?_ref[1].toUpperCase():void 0)||"",xhr=null,visit=function(a){return browserSupportsPushState?(cacheCurrentPage(),reflectNewUrl(a),fetchReplacement(a)):document.location.href=a},fetchReplacement=function(a){var b,c=this;return triggerEvent("page:fetch"),b=removeHash(a),xhr&&xhr.abort(),xhr=new XMLHttpRequest,xhr.open("GET",b,!0),xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),xhr.setRequestHeader("X-XHR-Referer",referer),xhr.onabort=function(){return xhr=null},xhr.onload=function(){var a;return a=createDocument(xhr.responseText),assetsChanged(a)?document.location.reload():(changePage.apply(null,extractTitleAndBody(a)),reflectRedirectedUrl(xhr),document.location.hash?document.location.href=document.location.href:resetScrollPosition(),triggerEvent("page:load")),xhr=null},xhr.onerror=function(){return document.location.href=a,xhr=null},xhr.send()},fetchHistory=function(a){var b;return cacheCurrentPage(),(b=pageCache[a.position])?(changePage(b.title,b.body),recallScrollPosition(b),triggerEvent("page:restore")):fetchReplacement(document.location.href)},cacheCurrentPage=function(){return rememberInitialPage(),pageCache[currentState.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},constrainPageCacheTo(10)},constrainPageCacheTo=function(a){var b,c,d;d=[];for(b in pageCache){if(!__hasProp.call(pageCache,b))continue;c=pageCache[b],b<=currentState.position-a?d.push(pageCache[b]=null):d.push(void 0)}return d},changePage=function(a,b,c){return document.title=a,document.documentElement.replaceChild(b,document.body),c&&executeScriptTags(),currentState=window.history.state,triggerEvent("page:change")},executeScriptTags=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;j=document.body.getElementsByTagName("script"),m=[];for(f=0,h=j.length;f<h;f++){e=j[f];if((k=e.type)!==""&&k!=="text/javascript")continue;b=document.createElement("script"),l=e.attributes;for(g=0,i=l.length;g<i;g++)a=l[g],b.setAttribute(a.name,a.value);b.appendChild(document.createTextNode(e.innerHTML)),d=e.parentNode,c=e.nextSibling,d.removeChild(e),m.push(d.insertBefore(b,c))}return m},reflectNewUrl=function(a){if(a!==document.location.href)return referer=document.location.href,window.history.pushState({turbolinks:!0,position:currentState.position+1},"",a)},reflectRedirectedUrl=function(a){var b;if((b=a.getResponseHeader("X-XHR-Current-Location"))&&b!==document.location.pathname+document.location.search)return window.history.replaceState(currentState,"",b+document.location.hash)},rememberCurrentUrl=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},rememberCurrentState=function(){return currentState=window.history.state},rememberInitialPage=function(){if(!initialized)return rememberCurrentUrl(),rememberCurrentState(),createDocument=browserCompatibleDocumentParser(),initialized=!0},recallScrollPosition=function(a){return window.scrollTo(a.positionX,a.positionY)},resetScrollPosition=function(){return window.scrollTo(0,0)},removeHash=function(a){var b;return b=a,a.href==null&&(b=document.createElement("A"),b.href=a),b.href.replace(b.hash,"")},triggerEvent=function(a){var b;return b=document.createEvent("Events"),b.initEvent(a,!0,!0),document.dispatchEvent(b)},extractTrackAssets=function(a){var b,c,d,e,f;e=a.head.childNodes,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],(typeof b.getAttribute=="function"?b.getAttribute("data-turbolinks-track"):void 0)!=null&&f.push(b.src||b.href);return f},assetsChanged=function(a){var b;return loadedAssets||(loadedAssets=extractTrackAssets(document)),b=extractTrackAssets(a),b.length!==loadedAssets.length||intersection(b,loadedAssets).length!==loadedAssets.length},intersection=function(a,b){var c,d,e,f,g;a.length>b.length&&(f=[b,a],a=f[0],b=f[1]),g=[];for(d=0,e=a.length;d<e;d++)c=a[d],__indexOf.call(b,c)>=0&&g.push(c);return g},extractTitleAndBody=function(a){var b;return b=a.querySelector("title"),[b!=null?b.textContent:void 0,a.body,"runScripts"]},browserCompatibleDocumentParser=function(){var a,b,c,d;return a=function(a){return(new DOMParser).parseFromString(a,"text/html")},b=function(a){var b;return b=document.implementation.createHTMLDocument(""),b.open("replace"),b.write(a),b.close(),b},window.DOMParser&&(c=a("<html><body><p>test")),(c!=null?(d=c.body)!=null?d.childNodes.length:void 0:void 0)===1?a:b},installClickHandlerLast=function(a){if(!a.defaultPrevented)return document.removeEventListener("click",handleClick),document.addEventListener("click",handleClick)},handleClick=function(a){var b;if(!a.defaultPrevented){b=extractLink(a);if(b.nodeName==="A"&&!ignoreClick(a,b))return visit(b.href),a.preventDefault()}},extractLink=function(a){var b;b=a.target;while(!!b.parentNode&&b.nodeName!=="A")b=b.parentNode;return b},crossOriginLink=function(a){return location.protocol!==a.protocol||location.host!==a.host},anchoredLink=function(a){return(a.hash&&removeHash(a))===removeHash(location)||a.href===location.href+"#"},nonHtmlLink=function(a){return a.href.match(/\.[a-z]+(\?.*)?$/g)&&!a.href.match(/\.html?(\?.*)?$/g)},noTurbolink=function(a){var b;while(!b&&a!==document)b=a.getAttribute("data-no-turbolink")!=null,a=a.parentNode;return b},targetLink=function(a){return a.target.length!==0},nonStandardClick=function(a){return a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey},ignoreClick=function(a,b){return crossOriginLink(b)||anchoredLink(b)||nonHtmlLink(b)||noTurbolink(b)||targetLink(b)||nonStandardClick(a)},initializeTurbolinks=function(){return document.addEventListener("click",installClickHandlerLast,!0),window.addEventListener("popstate",function(a){var b;if((b=a.state)!=null?b.turbolinks:void 0)return fetchHistory(a.state)})},browserSupportsPushState=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0,browserIsntBuggy=!navigator.userAgent.match(/CriOS\//),requestMethodIsSafe=requestMethod==="GET"||requestMethod==="",browserSupportsPushState&&browserIsntBuggy&&requestMethodIsSafe&&initializeTurbolinks(),this.Turbolinks={visit:visit},function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),window.onload=function(){function a(a){$(a).prev("input[type=hidden]").val("1"),$(a).closest(".fields").hide()}function b(a,b,c){var d=(new Date).getTime(),e=new RegExp("new_"+b,"g");$(a).parent().before(c.replace(e,d))}function c(a,b){var c;c="/"+a+"/"+b+"/printview",window.open(c,"_printview","height=800,width=800,status=no,menubar=no,location=no,toolbar=no")}$(function(){$(window).scroll(function(){$(this).scrollTop()!=0?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})}),$(window).bind("load",function(){location.href
.indexOf("users")!=-1&&($footer=$("#gc-footer"),$footer.hide())})}